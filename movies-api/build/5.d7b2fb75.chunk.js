(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[5],{

/***/ 1864:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(5));var _styledComponents=_interopRequireDefault(__webpack_require__(4));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  padding: 18px 30px 18px 30px;\n"]);_templateObject=function _templateObject(){return data;};return data;}var Container=_styledComponents["default"].div(_templateObject());var _default=Container;exports["default"]=_default;

/***/ }),

/***/ 1865:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=__webpack_require__(1);var _EditViewDataManager=_interopRequireDefault(__webpack_require__(1924));var useDataManager=function useDataManager(){return(0,_react.useContext)(_EditViewDataManager["default"]);};var _default=useDataManager;exports["default"]=_default;

/***/ }),

/***/ 1878:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=__webpack_require__(1);var _EditView=_interopRequireDefault(__webpack_require__(1925));var useEditView=function useEditView(){return(0,_react.useContext)(_EditView["default"]);};var _default=useEditView;exports["default"]=_default;

/***/ }),

/***/ 1879:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _lodash=__webpack_require__(9);var _reactIntl=__webpack_require__(20);var _reactFontawesome=__webpack_require__(50);var _pluginId=_interopRequireDefault(__webpack_require__(104));var _useDataManager2=_interopRequireDefault(__webpack_require__(1865));var _useEditView2=_interopRequireDefault(__webpack_require__(1878));var _ComponentInitializer=_interopRequireDefault(__webpack_require__(2003));var _NonRepeatableComponent=_interopRequireDefault(__webpack_require__(2005));var _RepeatableComponent=_interopRequireDefault(__webpack_require__(2154));var _ComponentIcon=_interopRequireDefault(__webpack_require__(2161));var _Label=_interopRequireDefault(__webpack_require__(2162));var _ResetComponent=_interopRequireDefault(__webpack_require__(2163));var _Wrapper=_interopRequireDefault(__webpack_require__(2164));var FieldComponent=function FieldComponent(_ref){var componentFriendlyName=_ref.componentFriendlyName,componentUid=_ref.componentUid,icon=_ref.icon,isFromDynamicZone=_ref.isFromDynamicZone,isRepeatable=_ref.isRepeatable,isNested=_ref.isNested,label=_ref.label,max=_ref.max,min=_ref.min,name=_ref.name;var _useDataManager=(0,_useDataManager2["default"])(),modifiedData=_useDataManager.modifiedData,removeComponentFromField=_useDataManager.removeComponentFromField;var _useEditView=(0,_useEditView2["default"])(),allLayoutData=_useEditView.allLayoutData;var componentValue=(0,_lodash.get)(modifiedData,name,null);var componentValueLength=(0,_lodash.size)(componentValue);var isInitialized=componentValue!==null||isFromDynamicZone;var showResetComponent=!isRepeatable&&isInitialized&&!isFromDynamicZone;var currentComponentSchema=(0,_lodash.get)(allLayoutData,['components',componentUid],{});var displayedFields=(0,_lodash.get)(currentComponentSchema,['layouts','edit'],[]);return _react["default"].createElement(_Wrapper["default"],{className:"col-12",isFromDynamicZone:isFromDynamicZone},isFromDynamicZone&&_react["default"].createElement(_ComponentIcon["default"],{title:componentFriendlyName},_react["default"].createElement("div",{className:"component_name"},_react["default"].createElement("div",{className:"component_icon"},_react["default"].createElement(_reactFontawesome.FontAwesomeIcon,{icon:icon,title:componentFriendlyName})),_react["default"].createElement("p",null,componentFriendlyName))),_react["default"].createElement(_Label["default"],null,label,"\xA0",isRepeatable&&"(".concat(componentValueLength,")")),showResetComponent&&_react["default"].createElement(_ResetComponent["default"],{onClick:function onClick(e){e.preventDefault();e.stopPropagation();removeComponentFromField(name,componentUid);}},_react["default"].createElement(_reactIntl.FormattedMessage,{id:"".concat(_pluginId["default"],".components.reset-entry")}),_react["default"].createElement("div",null)),!isRepeatable&&!isInitialized&&_react["default"].createElement(_ComponentInitializer["default"],{componentUid:componentUid,name:name}),!isRepeatable&&isInitialized&&_react["default"].createElement(_NonRepeatableComponent["default"],{fields:displayedFields,isFromDynamicZone:isFromDynamicZone,name:name,schema:currentComponentSchema}),isRepeatable&&_react["default"].createElement(_RepeatableComponent["default"],{componentValue:componentValue,componentValueLength:componentValueLength,componentUid:componentUid,fields:displayedFields,isFromDynamicZone:isFromDynamicZone,isNested:isNested,max:max,min:min,name:name,schema:currentComponentSchema}));};FieldComponent.defaultProps={componentFriendlyName:null,icon:'smile',isFromDynamicZone:false,isRepeatable:false,isNested:false,max:Infinity,min:-Infinity};FieldComponent.propTypes={componentFriendlyName:_propTypes["default"].string,componentUid:_propTypes["default"].string.isRequired,icon:_propTypes["default"].string,isFromDynamicZone:_propTypes["default"].bool,isRepeatable:_propTypes["default"].bool,isNested:_propTypes["default"].bool,label:_propTypes["default"].string.isRequired,max:_propTypes["default"].number,min:_propTypes["default"].number,name:_propTypes["default"].string.isRequired};var _default=FieldComponent;exports["default"]=_default;

/***/ }),

/***/ 1886:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _reactFontawesome=__webpack_require__(50);var _Wrapper=_interopRequireDefault(__webpack_require__(1887));var DynamicComponentCard=function DynamicComponentCard(_ref){var children=_ref.children,componentUid=_ref.componentUid,friendlyName=_ref.friendlyName,icon=_ref.icon,_onClick=_ref.onClick;return _react["default"].createElement(_Wrapper["default"],{onClick:function onClick(e){e.preventDefault();e.stopPropagation();_onClick(componentUid);}},_react["default"].createElement("button",{className:"component-icon"},_react["default"].createElement(_reactFontawesome.FontAwesomeIcon,{icon:icon})),_react["default"].createElement("div",{className:"component-uid"},_react["default"].createElement("span",null,friendlyName)),children);};DynamicComponentCard.defaultProps={children:null,friendlyName:'',onClick:function onClick(){},icon:'smile'};DynamicComponentCard.propTypes={children:_propTypes["default"].node,componentUid:_propTypes["default"].string.isRequired,friendlyName:_propTypes["default"].string,icon:_propTypes["default"].string,onClick:_propTypes["default"].func};var _default=DynamicComponentCard;exports["default"]=_default;

/***/ }),

/***/ 1887:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(5));var _styledComponents=_interopRequireDefault(__webpack_require__(4));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  position: relative;\n  height: 90px;\n  width: 139px !important;\n  margin-right: 10px;\n  padding: 18px 10px;\n  background-color: #ffffff;\n  color: #919bae;\n  text-align: center;\n  border-radius: 2px;\n  cursor: pointer;\n  border: 1px solid #ffffff;\n\n  button {\n    outline: 0;\n  }\n\n  .component-uid {\n    width: 119px;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    white-space: nowrap;\n    color: #919bae;\n    font-weight: 500;\n    font-size: 13px;\n    line-height: normal;\n  }\n\n  .component-icon {\n    width: 35px;\n    height: 35px;\n    margin-bottom: 5px;\n    line-height: 35px;\n    align-self: center;\n    border-radius: 50%;\n    background-color: #e9eaeb;\n    color: #b4b6ba;\n    padding: 0;\n    i,\n    svg {\n      margin: auto;\n      display: block;\n    }\n  }\n\n  &:hover {\n    background-color: #e6f0fb;\n    color: #007eff;\n    border: 1px solid #aed4fb;\n\n    .component-icon {\n      background-color: #aed4fb;\n      color: #007eff;\n    }\n    .component-uid {\n      color: #007eff;\n    }\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var Wrapper=_styledComponents["default"].div(_templateObject());var _default=Wrapper;exports["default"]=_default;

/***/ }),

/***/ 1895:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _toConsumableArray2=_interopRequireDefault(__webpack_require__(44));var _extends2=_interopRequireDefault(__webpack_require__(15));var _react=_interopRequireDefault(__webpack_require__(1));var _lodash=__webpack_require__(9);var _pluginId=_interopRequireDefault(__webpack_require__(104));/**
 * Retrieve external links from injected components
 * @type {Array} List of external links to display
 */var getInjectedComponents=function getInjectedComponents(container,area,plugins,currentEnvironment,slug,push){for(var _len=arguments.length,rest=new Array(_len>6?_len-6:0),_key=6;_key<_len;_key++){rest[_key-6]=arguments[_key];}var componentsToInject=Object.keys(plugins).reduce(function(acc,current){// Retrieve injected compos from plugin
var currentPlugin=plugins[current];var injectedComponents=(0,_lodash.get)(currentPlugin,'injectedComponents',[]);var compos=injectedComponents.filter(function(compo){return compo.plugin==="".concat(_pluginId["default"],".").concat(container)&&compo.area===area;}).map(function(compo){var Component=compo.component;return _react["default"].createElement(Component,(0,_extends2["default"])({viewProps:rest,currentEnvironment:currentEnvironment,getModelName:function getModelName(){return slug;},push:push},compo.props,{key:compo.key}));});return[].concat((0,_toConsumableArray2["default"])(acc),(0,_toConsumableArray2["default"])(compos));},[]);return componentsToInject;};var _default=getInjectedComponents;exports["default"]=_default;

/***/ }),

/***/ 1896:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireWildcard=__webpack_require__(8);var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _toConsumableArray2=_interopRequireDefault(__webpack_require__(44));var _extends2=_interopRequireDefault(__webpack_require__(15));var _react=_interopRequireWildcard(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _lodash=__webpack_require__(9);var _reactIntl=__webpack_require__(20);var _custom=__webpack_require__(68);var _useDataManager2=_interopRequireDefault(__webpack_require__(1865));var _InputJSONWithErrors=_interopRequireDefault(__webpack_require__(2006));var _InputFileWithErrors=_interopRequireDefault(__webpack_require__(2020));var _SelectWrapper=_interopRequireDefault(__webpack_require__(1928));var _WysiwygWithErrors=_interopRequireDefault(__webpack_require__(2027));var getInputType=function getInputType(){var type=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';switch((0,_lodash.toLower)(type)){case'boolean':return'bool';case'decimal':case'float':case'integer':return'number';case'date':case'datetime':case'time':return type;case'email':return'email';case'enumeration':return'select';case'password':return'password';case'string':return'text';case'text':return'textarea';case'media':case'file':case'files':return'media';case'json':return'json';case'wysiwyg':case'WYSIWYG':case'richtext':return'wysiwyg';default:return'text';}};function Inputs(_ref){var autoFocus=_ref.autoFocus,keys=_ref.keys,layout=_ref.layout,name=_ref.name,onBlur=_ref.onBlur;var _useDataManager=(0,_useDataManager2["default"])(),didCheckErrors=_useDataManager.didCheckErrors,formErrors=_useDataManager.formErrors,modifiedData=_useDataManager.modifiedData,onChange=_useDataManager.onChange;var attribute=(0,_react.useMemo)(function(){return(0,_lodash.get)(layout,['schema','attributes',name],{});},[layout,name]);var metadatas=(0,_react.useMemo)(function(){return(0,_lodash.get)(layout,['metadatas',name,'edit'],{});},[layout,name]);var disabled=(0,_react.useMemo)(function(){return!(0,_lodash.get)(metadatas,'editable',true);},[metadatas]);var type=(0,_react.useMemo)(function(){return(0,_lodash.get)(attribute,'type',null);},[attribute]);var validations=(0,_lodash.omit)(attribute,['type','model','via','collection','default','plugin','enum']);var description=metadatas.description,visible=metadatas.visible;var value=(0,_lodash.get)(modifiedData,keys,null);if(visible===false){return null;}var temporaryErrorIdUntilBuffetjsSupportsFormattedMessage='app.utils.defaultMessage';var errorId=(0,_lodash.get)(formErrors,[keys,'id'],temporaryErrorIdUntilBuffetjsSupportsFormattedMessage);if(type==='relation'){return _react["default"].createElement("div",{className:"col-6",key:keys},_react["default"].createElement(_SelectWrapper["default"],(0,_extends2["default"])({},metadatas,{name:keys,plugin:attribute.plugin,relationType:attribute.relationType,targetModel:attribute.targetModel,value:(0,_lodash.get)(modifiedData,keys)})));}var inputValue=value;// Fix for input file multipe
if(type==='media'&&!value){inputValue=[];}var step;if(type==='float'||type==='decimal'){step='any';}else{step='1';}var options=(0,_lodash.get)(attribute,'enum',[]).map(function(v){return _react["default"].createElement("option",{key:v,value:v},v);});var isRequired=(0,_lodash.get)(validations,['required'],false);var enumOptions=[_react["default"].createElement(_reactIntl.FormattedMessage,{id:"components.InputSelect.option.placeholder",key:"__enum_option_null"},function(msg){return _react["default"].createElement("option",{disabled:isRequired,hidden:isRequired,value:""},msg);})].concat((0,_toConsumableArray2["default"])(options));return _react["default"].createElement(_reactIntl.FormattedMessage,{id:errorId},function(error){return _react["default"].createElement(_custom.Inputs,(0,_extends2["default"])({},metadatas,{autoFocus:autoFocus,didCheckErrors:didCheckErrors,disabled:disabled,error:(0,_lodash.isEmpty)(error)||errorId===temporaryErrorIdUntilBuffetjsSupportsFormattedMessage?null:error,inputDescription:description,description:description,customInputs:{media:_InputFileWithErrors["default"],json:_InputJSONWithErrors["default"],wysiwyg:_WysiwygWithErrors["default"]},multiple:(0,_lodash.get)(attribute,'multiple',false),name:keys,onBlur:onBlur,onChange:onChange,options:enumOptions,step:step,type:getInputType(type),validations:validations,value:inputValue,withDefaultValue:false}));});}Inputs.defaultProps={autoFocus:false,onBlur:null};Inputs.propTypes={autoFocus:_propTypes["default"].bool,keys:_propTypes["default"].string.isRequired,layout:_propTypes["default"].object.isRequired,name:_propTypes["default"].string.isRequired,onBlur:_propTypes["default"].func,onChange:_propTypes["default"].func.isRequired};var _default=(0,_react.memo)(Inputs);exports["default"]=_default;

/***/ }),

/***/ 1910:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=__webpack_require__(1);var WysiwygContext=(0,_react.createContext)();var _default=WysiwygContext;exports["default"]=_default;

/***/ }),

/***/ 1911:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});exports.DEFAULT_INDENTATION=exports.CONTROLS=exports.SELECT_OPTIONS=void 0;var SELECT_OPTIONS=[{id:'components.Wysiwyg.selectOptions.title',value:''},{id:'components.Wysiwyg.selectOptions.H1',value:'#'},{id:'components.Wysiwyg.selectOptions.H2',value:'##'},{id:'components.Wysiwyg.selectOptions.H3',value:'###'},{id:'components.Wysiwyg.selectOptions.H4',value:'####'},{id:'components.Wysiwyg.selectOptions.H5',value:'#####'},{id:'components.Wysiwyg.selectOptions.H6',value:'######'}];exports.SELECT_OPTIONS=SELECT_OPTIONS;var CONTROLS=[[{label:'B',style:'BOLD',className:'bold',hideLabel:true,handler:'addContent',text:'**textToReplace**'},{label:'I',style:'ITALIC',className:'italic',hideLabel:true,handler:'addContent',text:'*textToReplace*'},{label:'U',style:'UNDERLINE',className:'underline',hideLabel:true,handler:'addContent',text:'__textToReplace__'},{label:'S',style:'STRIKED',className:'striked',hideLabel:true,handler:'addContent',text:'~~textToReplace~~'},{label:'UL',style:'unordered-list-item',className:'ul',hideLabel:true,handler:'addUlBlock',text:'- textToReplace'},{label:'OL',style:'ordered-list-item',className:'ol',hideLabel:true,handler:'addOlBlock',text:'1. textToReplace'}],[{label:'<>',style:'CODE',className:'code',hideLabel:true,handler:'addSimpleBlockWithSelection',text:'```textToReplace```'},{label:'img',style:'IMG',className:'img',hideLabel:true,handler:'addSimpleBlockWithSelection',text:'![text](textToReplace)'},{label:'Link',style:'LINK',className:'link',hideLabel:true,handler:'addContent',text:'[text](textToReplace)'},{label:'quotes',style:'BLOCKQUOTE',className:'quote',hideLabel:true,handler:'addSimpleBlockWithSelection',text:'> textToReplace'}]];exports.CONTROLS=CONTROLS;var DEFAULT_INDENTATION='  ';exports.DEFAULT_INDENTATION=DEFAULT_INDENTATION;

/***/ }),

/***/ 1924:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=__webpack_require__(1);var EditViewDataManagerContext=(0,_react.createContext)();var _default=EditViewDataManagerContext;exports["default"]=_default;

/***/ }),

/***/ 1925:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=__webpack_require__(1);var EditViewContext=(0,_react.createContext)();var _default=EditViewContext;exports["default"]=_default;

/***/ }),

/***/ 1926:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(5));var _styledComponents=_interopRequireDefault(__webpack_require__(4));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  margin: 0 !important;\n  padding: 0 20px !important;\n\n  ","\n"]);_templateObject=function _templateObject(){return data;};return data;}var NonRepeatableWrapper=_styledComponents["default"].div(_templateObject(),function(_ref){var isEmpty=_ref.isEmpty,isFromDynamicZone=_ref.isFromDynamicZone;if(isEmpty){return"\n        position: relative;\n        height: 108px;\n        margin-bottom: 21px !important;\n        background-color: #fafafb;\n        text-align: center;\n        cursor: pointer;\n        border-radius: 2px;\n\n        > button {\n          position: absolute;\n          top: 30px;\n          left: calc(50% - 18px);\n          height: 36px;\n          width: 36px;\n          line-height: 38px;\n          border-radius: 50%;\n          background-color: #f3f4f4;\n          cursor: pointer;\n        }\n        border: 1px solid transparent;\n\n        &:hover {\n          border: 1px solid #aed4fb;\n          background-color: #e6f0fb;\n          > button {\n            :before,\n            :after {\n              background-color: #007eff;\n            }\n            background-color: #aed4fb;\n          }\n\n          > p {\n            color: #007eff;\n          }\n        }\n      ";}if(isFromDynamicZone){return"\n        background-color: #fff;\n        padding: 0 10px !important;\n      ";}return"\n      padding-top: 25px !important;\n      background-color: #f7f8f8;\n      margin-bottom: 18px !important;\n    ";});var _default=NonRepeatableWrapper;exports["default"]=_default;

/***/ }),

/***/ 1927:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(5));var _styledComponents=_interopRequireDefault(__webpack_require__(4));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  position: relative;\n  height: 36px;\n  width: 36px;\n  background-color: #f3f4f4;\n  border-radius: 50%;\n  text-align: center;\n\n  :focus {\n    outline: 0;\n  }\n\n  :before {\n    ","\n  }\n  :after {\n    ","\n  }\n\n  :before,\n  :after {\n    background-color: #b4b6ba;\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var beforeStyle="\n  content: ' ';\n  position: absolute;\n  display: block;\n  width: 14px;\n  height: 2px;\n  left: 11px;\n  top: 17px;\n  bottom: 10px;\n  z-index: 9;\n";var afterStyle="\n  content: ' ';\n  position: absolute;\n  display: block;\n  height: 14px;\n  width: 2px;\n  left: 17px;\n  top: 11px;\n  right: 10px;\n  z-index: 9;\n";var Button=_styledComponents["default"].button(_templateObject(),beforeStyle,afterStyle);var _default=Button;exports["default"]=_default;

/***/ }),

/***/ 1928:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireWildcard=__webpack_require__(8);var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(11));var _regenerator=_interopRequireDefault(__webpack_require__(49));var _asyncToGenerator2=_interopRequireDefault(__webpack_require__(105));var _slicedToArray2=_interopRequireDefault(__webpack_require__(37));var _react=_interopRequireWildcard(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _reactIntl=__webpack_require__(20);var _reactRouterDom=__webpack_require__(32);var _lodash=__webpack_require__(9);var _strapiHelperPlugin=__webpack_require__(10);var _pluginId=_interopRequireDefault(__webpack_require__(104));var _useDataManager2=_interopRequireDefault(__webpack_require__(1865));var _useEditView2=_interopRequireDefault(__webpack_require__(1878));var _SelectOne=_interopRequireDefault(__webpack_require__(2023));var _SelectMany=_interopRequireDefault(__webpack_require__(2024));var _components=__webpack_require__(2026);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function SelectWrapper(_ref){var description=_ref.description,editable=_ref.editable,label=_ref.label,mainField=_ref.mainField,name=_ref.name,relationType=_ref.relationType,targetModel=_ref.targetModel,placeholder=_ref.placeholder;var _useLocation=(0,_reactRouterDom.useLocation)(),pathname=_useLocation.pathname,search=_useLocation.search;var _useDataManager=(0,_useDataManager2["default"])(),_addRelation=_useDataManager.addRelation,modifiedData=_useDataManager.modifiedData,moveRelation=_useDataManager.moveRelation,_onChange=_useDataManager.onChange,onRemoveRelation=_useDataManager.onRemoveRelation;var _useEditView=(0,_useEditView2["default"])(),isDraggingComponent=_useEditView.isDraggingComponent;var value=(0,_lodash.get)(modifiedData,name,null);var _useState=(0,_react.useState)({_q:'',_limit:20,_start:0}),_useState2=(0,_slicedToArray2["default"])(_useState,2),state=_useState2[0],setState=_useState2[1];var _useState3=(0,_react.useState)([]),_useState4=(0,_slicedToArray2["default"])(_useState3,2),options=_useState4[0],setOptions=_useState4[1];var _useState5=(0,_react.useState)(true),_useState6=(0,_slicedToArray2["default"])(_useState5,2),isLoading=_useState6[0],setIsLoading=_useState6[1];var abortController=new AbortController();var signal=abortController.signal;var ref=(0,_react.useRef)();var startRef=(0,_react.useRef)();startRef.current=state._start;ref.current=/*#__PURE__*/(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee(){var params,requestUrl,data,formattedData;return _regenerator["default"].wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(isDraggingComponent){_context.next=19;break;}_context.prev=1;params=(0,_lodash.cloneDeep)(state);requestUrl="/".concat(_pluginId["default"],"/explorer/").concat(targetModel);if((0,_lodash.isEmpty)(params._q)){delete params._q;}_context.next=7;return(0,_strapiHelperPlugin.request)(requestUrl,{method:'GET',params:params,signal:signal});case 7:data=_context.sent;formattedData=data.map(function(obj){return{value:obj,label:obj[mainField]};});if((0,_lodash.isEmpty)(params._q)){_context.next=12;break;}setOptions(formattedData);return _context.abrupt("return");case 12:setOptions(function(prevState){return prevState.concat(formattedData).filter(function(obj,index){var objIndex=prevState.findIndex(function(el){return el.value.id===obj.value.id;});if(objIndex===-1){return true;}return prevState.findIndex(function(el){return el.value.id===obj.value.id;})===index;});});setIsLoading(false);_context.next=19;break;case 16:_context.prev=16;_context.t0=_context["catch"](1);if(_context.t0.code!==20){strapi.notification.error('notification.error');}case 19:case"end":return _context.stop();}}},_callee,null,[[1,16]]);}));(0,_react.useEffect)(function(){ref.current();return function(){abortController.abort();};},[ref]);(0,_react.useEffect)(function(){if(state._q!==''){ref.current();}return function(){abortController.abort();};},[state._q]);(0,_react.useEffect)(function(){if(state._start!==0){ref.current();}return function(){abortController.abort();};},[state._start]);var onInputChange=function onInputChange(inputValue,_ref3){var action=_ref3.action;if(action==='input-change'){setState(function(prevState){if(prevState._q===inputValue){return prevState;}return _objectSpread({},prevState,{_q:inputValue});});}return inputValue;};var onMenuScrollToBottom=function onMenuScrollToBottom(){setState(function(prevState){return _objectSpread({},prevState,{_start:prevState._start+1});});};var isSingle=['oneWay','oneToOne','manyToOne','oneToManyMorph','oneToOneMorph'].includes(relationType);var nextSearch="".concat(pathname).concat(search);var to="/plugins/".concat(_pluginId["default"],"/").concat(targetModel,"/").concat(value?value.id:null,"?redirectUrl=").concat(nextSearch);var link=value===null||value===undefined||['role','permission'].includes(targetModel)?null:_react["default"].createElement(_reactRouterDom.Link,{to:to},_react["default"].createElement(_reactIntl.FormattedMessage,{id:"content-manager.containers.Edit.seeDetails"}));var Component=isSingle?_SelectOne["default"]:_SelectMany["default"];var associationsLength=(0,_lodash.isArray)(value)?value.length:0;return _react["default"].createElement(_components.Wrapper,{className:"form-group"},_react["default"].createElement(_components.Nav,null,_react["default"].createElement("div",null,_react["default"].createElement("label",{htmlFor:name},label,!isSingle&&_react["default"].createElement("span",{style:{fontWeight:400,fontSize:12}},"\xA0(",associationsLength,")")),isSingle&&link),!(0,_lodash.isEmpty)(description)&&_react["default"].createElement("p",{className:"description"},description)),_react["default"].createElement(Component,{addRelation:function addRelation(value){_addRelation({target:{name:name,value:value}});},id:name,isDisabled:!editable,isLoading:isLoading,isClearable:true,mainField:mainField,move:moveRelation,name:name,nextSearch:nextSearch,options:options,onChange:function onChange(value){_onChange({target:{name:name,value:value?value.value:value}});},onInputChange:onInputChange,onMenuClose:function onMenuClose(){setState(function(prevState){return _objectSpread({},prevState,{_q:'',_start:0});});},onMenuScrollToBottom:onMenuScrollToBottom,onRemove:onRemoveRelation,placeholder:(0,_lodash.isEmpty)(placeholder)?_react["default"].createElement(_reactIntl.FormattedMessage,{id:"".concat(_pluginId["default"],".containers.Edit.addAnItem")}):placeholder,targetModel:targetModel,value:value}),_react["default"].createElement("div",{style:{marginBottom:18}}));}SelectWrapper.defaultProps={editable:true,description:'',label:'',plugin:'',placeholder:''};SelectWrapper.propTypes={editable:_propTypes["default"].bool,description:_propTypes["default"].string,label:_propTypes["default"].string,mainField:_propTypes["default"].string.isRequired,name:_propTypes["default"].string.isRequired,placeholder:_propTypes["default"].string,plugin:_propTypes["default"].string,relationType:_propTypes["default"].string.isRequired,targetModel:_propTypes["default"].string.isRequired};var _default=(0,_react.memo)(SelectWrapper);exports["default"]=_default;

/***/ }),

/***/ 1955:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _extends2=_interopRequireDefault(__webpack_require__(15));var _classCallCheck2=_interopRequireDefault(__webpack_require__(13));var _createClass2=_interopRequireDefault(__webpack_require__(14));var _possibleConstructorReturn2=_interopRequireDefault(__webpack_require__(16));var _getPrototypeOf2=_interopRequireDefault(__webpack_require__(17));var _inherits2=_interopRequireDefault(__webpack_require__(18));var _react=_interopRequireDefault(__webpack_require__(1));var _draftJs=__webpack_require__(1880);var _propTypes=_interopRequireDefault(__webpack_require__(2));/**
 *
 * WysiwygEditor
 *
 */var WysiwygEditor=/*#__PURE__*/function(_React$Component){(0,_inherits2["default"])(WysiwygEditor,_React$Component);function WysiwygEditor(){(0,_classCallCheck2["default"])(this,WysiwygEditor);return(0,_possibleConstructorReturn2["default"])(this,(0,_getPrototypeOf2["default"])(WysiwygEditor).apply(this,arguments));}(0,_createClass2["default"])(WysiwygEditor,[{key:"render",value:function render(){return _react["default"].createElement(_draftJs.Editor,(0,_extends2["default"])({},this.props,{ref:this.props.setRef}));}}]);return WysiwygEditor;}(_react["default"].Component);WysiwygEditor.defaultProps={setRef:function setRef(){}};WysiwygEditor.propTypes={setRef:_propTypes["default"].func};var _default=WysiwygEditor;exports["default"]=_default;

/***/ }),

/***/ 2001:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireWildcard=__webpack_require__(8);var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=exports.EditView=void 0;var _extends2=_interopRequireDefault(__webpack_require__(15));var _slicedToArray2=_interopRequireDefault(__webpack_require__(37));var _react=_interopRequireWildcard(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _lodash=__webpack_require__(9);var _reactRouterDom=__webpack_require__(32);var _strapiHelperPlugin=__webpack_require__(10);var _pluginId=_interopRequireDefault(__webpack_require__(104));var _Container=_interopRequireDefault(__webpack_require__(1864));var _DynamicZone=_interopRequireDefault(__webpack_require__(2002));var _FormWrapper=_interopRequireDefault(__webpack_require__(2172));var _FieldComponent=_interopRequireDefault(__webpack_require__(1879));var _Inputs=_interopRequireDefault(__webpack_require__(1896));var _SelectWrapper=_interopRequireDefault(__webpack_require__(1928));var _getComponents=_interopRequireDefault(__webpack_require__(1895));var _EditViewDataManagerProvider=_interopRequireDefault(__webpack_require__(2173));var _EditViewProvider=_interopRequireDefault(__webpack_require__(2181));var _Header=_interopRequireDefault(__webpack_require__(2182));var _createAttributesLayout=_interopRequireDefault(__webpack_require__(2183));var _components=__webpack_require__(2184);var _init=_interopRequireDefault(__webpack_require__(2185));var _reducer=_interopRequireWildcard(__webpack_require__(2186));var EditView=function EditView(_ref){var components=_ref.components,currentEnvironment=_ref.currentEnvironment,layouts=_ref.layouts,plugins=_ref.plugins,slug=_ref.slug;var formatLayoutRef=(0,_react.useRef)();formatLayoutRef.current=_createAttributesLayout["default"];// Retrieve push to programmatically navigate between views
var _useHistory=(0,_reactRouterDom.useHistory)(),push=_useHistory.push;// Retrieve the search
var _useLocation=(0,_reactRouterDom.useLocation)(),search=_useLocation.search;// eslint-disable-next-line react-hooks/exhaustive-deps
var _useReducer=(0,_react.useReducer)(_reducer["default"],_reducer.initialState,function(){return(0,_init["default"])(_reducer.initialState);}),_useReducer2=(0,_slicedToArray2["default"])(_useReducer,2),reducerState=_useReducer2[0],dispatch=_useReducer2[1];var allLayoutData=(0,_react.useMemo)(function(){return(0,_lodash.get)(layouts,[slug],{});},[layouts,slug]);var currentContentTypeLayoutData=(0,_react.useMemo)(function(){return(0,_lodash.get)(allLayoutData,['contentType'],{});},[allLayoutData]);var currentContentTypeLayout=(0,_react.useMemo)(function(){return(0,_lodash.get)(currentContentTypeLayoutData,['layouts','edit'],[]);},[currentContentTypeLayoutData]);var currentContentTypeLayoutRelations=(0,_react.useMemo)(function(){return(0,_lodash.get)(currentContentTypeLayoutData,['layouts','editRelations'],[]);},[currentContentTypeLayoutData]);var currentContentTypeSchema=(0,_react.useMemo)(function(){return(0,_lodash.get)(currentContentTypeLayoutData,['schema'],{});},[currentContentTypeLayoutData]);var getFieldMetas=(0,_react.useCallback)(function(fieldName){return(0,_lodash.get)(currentContentTypeLayoutData,['metadatas',fieldName,'edit'],{});},[currentContentTypeLayoutData]);var getField=(0,_react.useCallback)(function(fieldName){return(0,_lodash.get)(currentContentTypeSchema,['attributes',fieldName],{});},[currentContentTypeSchema]);var getFieldType=(0,_react.useCallback)(function(fieldName){return(0,_lodash.get)(getField(fieldName),['type'],'');},[getField]);var getFieldComponentUid=(0,_react.useCallback)(function(fieldName){return(0,_lodash.get)(getField(fieldName),['component'],'');},[getField]);// Check if a block is a dynamic zone
var isDynamicZone=(0,_react.useCallback)(function(block){return block.every(function(subBlock){return subBlock.every(function(obj){return getFieldType(obj.name)==='dynamiczone';});});},[getFieldType]);(0,_react.useEffect)(function(){// Force state to be cleared when navigation from one entry to another
dispatch({type:'RESET_PROPS'});dispatch({type:'SET_LAYOUT_DATA',formattedContentTypeLayout:formatLayoutRef.current(currentContentTypeLayout,currentContentTypeSchema.attributes)});},[currentContentTypeLayout,currentContentTypeSchema.attributes]);var _reducerState$toJS=reducerState.toJS(),formattedContentTypeLayout=_reducerState$toJS.formattedContentTypeLayout,isDraggingComponent=_reducerState$toJS.isDraggingComponent;// We can't use the getQueryParameters helper here because the search
// can contain 'redirectUrl' several times since we can navigate between documents
var redirectURL=search.split('redirectUrl=').filter(function(_,index){return index!==0;}).join('');var redirectToPreviousPage=function redirectToPreviousPage(){return push(redirectURL);};return _react["default"].createElement(_EditViewProvider["default"],{allLayoutData:allLayoutData,components:components,layout:currentContentTypeLayoutData,isDraggingComponent:isDraggingComponent,setIsDraggingComponent:function setIsDraggingComponent(){dispatch({type:'SET_IS_DRAGGING_COMPONENT'});},unsetIsDraggingComponent:function unsetIsDraggingComponent(){dispatch({type:'UNSET_IS_DRAGGING_COMPONENT'});}},_react["default"].createElement(_EditViewDataManagerProvider["default"],{allLayoutData:allLayoutData,redirectToPreviousPage:redirectToPreviousPage,slug:slug},_react["default"].createElement(_strapiHelperPlugin.BackHeader,{onClick:function onClick(){return redirectToPreviousPage();}}),_react["default"].createElement(_Container["default"],{className:"container-fluid"},_react["default"].createElement(_Header["default"],null),_react["default"].createElement("div",{className:"row",style:{paddingTop:3}},_react["default"].createElement("div",{className:"col-md-12 col-lg-9",style:{marginBottom:13}},formattedContentTypeLayout.map(function(block,blockIndex){if(isDynamicZone(block)){var name=block[0][0].name;var _getField=getField(name),max=_getField.max,min=_getField.min;return _react["default"].createElement(_DynamicZone["default"],{key:blockIndex,name:name,max:max,min:min});}return _react["default"].createElement(_FormWrapper["default"],{key:blockIndex},block.map(function(fieldsBlock,fieldsBlockIndex){return _react["default"].createElement("div",{className:"row",key:fieldsBlockIndex},fieldsBlock.map(function(_ref2,fieldIndex){var name=_ref2.name,size=_ref2.size;var isComponent=getFieldType(name)==='component';if(isComponent){var componentUid=getFieldComponentUid(name);var isRepeatable=(0,_lodash.get)(getField(name),'repeatable',false);var _getField2=getField(name),_max=_getField2.max,_min=_getField2.min;var label=(0,_lodash.get)(getFieldMetas(name),'label',componentUid);return _react["default"].createElement(_FieldComponent["default"],{key:componentUid,componentUid:componentUid,isRepeatable:isRepeatable,label:label,max:_max,min:_min,name:name});}return _react["default"].createElement("div",{className:"col-".concat(size),key:name},_react["default"].createElement(_Inputs["default"],{autoFocus:blockIndex===0&&fieldsBlockIndex===0&&fieldIndex===0,keys:name,layout:currentContentTypeLayoutData,name:name,onChange:function onChange(){}}));}));}));})),_react["default"].createElement("div",{className:"col-md-12 col-lg-3"},currentContentTypeLayoutRelations.length>0&&_react["default"].createElement(_components.SubWrapper,{style:{padding:'0 20px 1px',marginBottom:'25px'}},_react["default"].createElement("div",{style:{paddingTop:'22px'}},currentContentTypeLayoutRelations.map(function(relationName){var relation=(0,_lodash.get)(currentContentTypeLayoutData,['schema','attributes',relationName],{});var relationMetas=(0,_lodash.get)(currentContentTypeLayoutData,['metadatas',relationName,'edit'],{});return _react["default"].createElement(_SelectWrapper["default"],(0,_extends2["default"])({},relation,relationMetas,{key:relationName,name:relationName,relationsType:relation.relationType}));}))),_react["default"].createElement(_components.LinkWrapper,null,_react["default"].createElement("ul",null,_react["default"].createElement(_strapiHelperPlugin.LiLink,{message:{id:'app.links.configure-view'},icon:"layout",key:"".concat(_pluginId["default"],".link"),url:"ctm-configurations/edit-settings/content-types",onClick:function onClick(){// emitEvent('willEditContentTypeLayoutFromEditView');
}}),(0,_getComponents["default"])('editView','right.links',plugins,currentEnvironment,slug))))))));};exports.EditView=EditView;EditView.defaultProps={currentEnvironment:'production',emitEvent:function emitEvent(){},plugins:{}};EditView.propTypes={currentEnvironment:_propTypes["default"].string,components:_propTypes["default"].array.isRequired,emitEvent:_propTypes["default"].func,layouts:_propTypes["default"].object.isRequired,slug:_propTypes["default"].string.isRequired,plugins:_propTypes["default"].object};var _default=(0,_react.memo)(EditView);exports["default"]=_default;

/***/ }),

/***/ 2002:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireWildcard=__webpack_require__(8);var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=exports.DynamicZone=void 0;var _slicedToArray2=_interopRequireDefault(__webpack_require__(37));var _react=_interopRequireWildcard(__webpack_require__(1));var _lodash=__webpack_require__(9);var _propTypes=_interopRequireDefault(__webpack_require__(2));var _reactIntl=__webpack_require__(20);var _icons=__webpack_require__(94);var _reactFontawesome=__webpack_require__(50);var _pluginId=_interopRequireDefault(__webpack_require__(104));var _useDataManager2=_interopRequireDefault(__webpack_require__(1865));var _useEditView2=_interopRequireDefault(__webpack_require__(1878));var _DynamicComponentCard=_interopRequireDefault(__webpack_require__(1886));var _FieldComponent=_interopRequireDefault(__webpack_require__(1879));var _Button=_interopRequireDefault(__webpack_require__(2165));var _ComponentsPicker=_interopRequireDefault(__webpack_require__(2166));var _ComponentWrapper=_interopRequireDefault(__webpack_require__(2167));var _DynamicZoneWrapper=_interopRequireDefault(__webpack_require__(2168));var _Label=_interopRequireDefault(__webpack_require__(2169));var _RoundCTA=_interopRequireDefault(__webpack_require__(2170));var _Wrapper=_interopRequireDefault(__webpack_require__(2171));var DynamicZone=function DynamicZone(_ref){var max=_ref.max,min=_ref.min,name=_ref.name;var _useState=(0,_react.useState)(false),_useState2=(0,_slicedToArray2["default"])(_useState,2),isOpen=_useState2[0],setIsOpen=_useState2[1];var _useDataManager=(0,_useDataManager2["default"])(),addComponentToDynamicZone=_useDataManager.addComponentToDynamicZone,formErrors=_useDataManager.formErrors,layout=_useDataManager.layout,modifiedData=_useDataManager.modifiedData,moveComponentUp=_useDataManager.moveComponentUp,moveComponentDown=_useDataManager.moveComponentDown,removeComponentFromDynamicZone=_useDataManager.removeComponentFromDynamicZone;var _useEditView=(0,_useEditView2["default"])(),components=_useEditView.components;var getDynamicDisplayedComponents=(0,_react.useCallback)(function(){return(0,_lodash.get)(modifiedData,[name],[]).map(function(data){return data.__component;});},[modifiedData,name]);var getDynamicComponentSchemaData=function getDynamicComponentSchemaData(componentUid){var component=components.find(function(compo){return compo.uid===componentUid;});var schema=component.schema;return schema;};var getDynamicComponentInfos=function getDynamicComponentInfos(componentUid){var _getDynamicComponentS=getDynamicComponentSchemaData(componentUid),_getDynamicComponentS2=_getDynamicComponentS.info,icon=_getDynamicComponentS2.icon,name=_getDynamicComponentS2.name;return{icon:icon,name:name};};var dynamicZoneErrors=Object.keys(formErrors).filter(function(key){return key===name;}).map(function(key){return formErrors[key];});var dynamicZoneAvailableComponents=(0,_lodash.get)(layout,['schema','attributes',name,'components'],[]);var metas=(0,_lodash.get)(layout,['metadatas',name,'edit'],{});var dynamicDisplayedComponentsLength=getDynamicDisplayedComponents().length;var missingComponentNumber=min-dynamicDisplayedComponentsLength;var hasError=dynamicZoneErrors.length>0;var hasMinError=dynamicZoneErrors.length>0&&(0,_lodash.get)(dynamicZoneErrors,[0,'id'],'').includes('min');var hasRequiredError=hasError&&!hasMinError;var hasMaxError=hasError&&(0,_lodash.get)(dynamicZoneErrors,[0,'id'],'')==='components.Input.error.validation.max';return _react["default"].createElement(_DynamicZoneWrapper["default"],null,getDynamicDisplayedComponents().length>0&&_react["default"].createElement(_Label["default"],null,_react["default"].createElement("p",null,metas.label),_react["default"].createElement("p",null,metas.description)),_react["default"].createElement(_ComponentWrapper["default"],null,getDynamicDisplayedComponents().map(function(componentUid,index){var showDownIcon=dynamicDisplayedComponentsLength>0&&index<dynamicDisplayedComponentsLength-1;var showUpIcon=dynamicDisplayedComponentsLength>0&&index>0;return _react["default"].createElement("div",{key:index},_react["default"].createElement("div",{className:"arrow-icons"},showDownIcon&&_react["default"].createElement(_RoundCTA["default"],{className:"arrow-btn arrow-down",onClick:function onClick(){return moveComponentDown(name,index);}},_react["default"].createElement(_icons.Arrow,null)),showUpIcon&&_react["default"].createElement(_RoundCTA["default"],{className:"arrow-btn arrow-up",onClick:function onClick(){return moveComponentUp(name,index);}},_react["default"].createElement(_icons.Arrow,null))),_react["default"].createElement(_RoundCTA["default"],{onClick:function onClick(){return removeComponentFromDynamicZone(name,index);}},_react["default"].createElement(_reactFontawesome.FontAwesomeIcon,{icon:'trash'})),_react["default"].createElement(_FieldComponent["default"],{componentUid:componentUid,componentFriendlyName:getDynamicComponentInfos(componentUid).name,icon:getDynamicComponentInfos(componentUid).icon,label:"",name:"".concat(name,".").concat(index),isFromDynamicZone:true}));})),_react["default"].createElement(_Wrapper["default"],null,_react["default"].createElement(_Button["default"],{type:"button",hasError:hasError,className:isOpen&&'isOpen',onClick:function onClick(){if(dynamicDisplayedComponentsLength<max){setIsOpen(function(prev){return!prev;});}else{strapi.notification.info("".concat(_pluginId["default"],".components.notification.info.maximum-requirement"));}}}),hasRequiredError&&!isOpen&&!hasMaxError&&_react["default"].createElement("div",{className:"error-label"},"Component is required"),hasMaxError&&!isOpen&&_react["default"].createElement("div",{className:"error-label"},_react["default"].createElement(_reactIntl.FormattedMessage,{id:"components.Input.error.validation.max"})),hasMinError&&!isOpen&&_react["default"].createElement("div",{className:"error-label"},_react["default"].createElement(_reactIntl.FormattedMessage,{id:"".concat(_pluginId["default"],".components.DynamicZone.missing").concat(missingComponentNumber>1?'.plural':'.singular'),values:{count:missingComponentNumber}})),_react["default"].createElement("div",{className:"info"},_react["default"].createElement(_reactIntl.FormattedMessage,{id:"".concat(_pluginId["default"],".components.DynamicZone.add-compo"),values:{componentName:name}})),_react["default"].createElement(_ComponentsPicker["default"],{isOpen:isOpen},_react["default"].createElement("div",null,_react["default"].createElement("p",{className:"componentPickerTitle"},_react["default"].createElement(_reactIntl.FormattedMessage,{id:"".concat(_pluginId["default"],".components.DynamicZone.pick-compo")})),_react["default"].createElement("div",{className:"componentsList"},dynamicZoneAvailableComponents.map(function(componentUid){var _getDynamicComponentI=getDynamicComponentInfos(componentUid),icon=_getDynamicComponentI.icon,friendlyName=_getDynamicComponentI.name;return _react["default"].createElement(_DynamicComponentCard["default"],{key:componentUid,componentUid:componentUid,friendlyName:friendlyName,icon:icon,onClick:function onClick(){setIsOpen(false);var shouldCheckErrors=hasError;addComponentToDynamicZone(name,componentUid,shouldCheckErrors);}});}))))));};exports.DynamicZone=DynamicZone;DynamicZone.defaultProps={max:Infinity,min:-Infinity};DynamicZone.propTypes={max:_propTypes["default"].number,min:_propTypes["default"].number,name:_propTypes["default"].string.isRequired};var _default=DynamicZone;exports["default"]=_default;

/***/ }),

/***/ 2003:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _reactIntl=__webpack_require__(20);var _pluginId=_interopRequireDefault(__webpack_require__(104));var _useDataManager2=_interopRequireDefault(__webpack_require__(1865));var _NonRepeatableWrapper=_interopRequireDefault(__webpack_require__(1926));var _PlusButton=_interopRequireDefault(__webpack_require__(1927));var _P=_interopRequireDefault(__webpack_require__(2004));var ComponentInitializer=function ComponentInitializer(_ref){var componentUid=_ref.componentUid,name=_ref.name;var _useDataManager=(0,_useDataManager2["default"])(),addNonRepeatableComponentToField=_useDataManager.addNonRepeatableComponentToField;return _react["default"].createElement(_NonRepeatableWrapper["default"],{isEmpty:true},_react["default"].createElement(_PlusButton["default"],{onClick:function onClick(){return addNonRepeatableComponentToField(name,componentUid);},type:"button"}),_react["default"].createElement(_reactIntl.FormattedMessage,{id:"".concat(_pluginId["default"],".components.empty-repeatable")},function(msg){return _react["default"].createElement(_P["default"],{style:{paddingTop:78}},msg);}));};ComponentInitializer.defaultProps={name:''};ComponentInitializer.propTypes={componentUid:_propTypes["default"].string.isRequired,name:_propTypes["default"].string};var _default=ComponentInitializer;exports["default"]=_default;

/***/ }),

/***/ 2004:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(5));var _styledComponents=_interopRequireDefault(__webpack_require__(4));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  color: #9ea7b8;\n  font-size: 13px;\n  font-weight: 500;\n"]);_templateObject=function _templateObject(){return data;};return data;}var P=_styledComponents["default"].p(_templateObject());var _default=P;exports["default"]=_default;

/***/ }),

/***/ 2005:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _lodash=__webpack_require__(9);var _NonRepeatableWrapper=_interopRequireDefault(__webpack_require__(1926));var _Inputs=_interopRequireDefault(__webpack_require__(1896));var _FieldComponent=_interopRequireDefault(__webpack_require__(1879));var NonRepeatableComponent=function NonRepeatableComponent(_ref){var fields=_ref.fields,isFromDynamicZone=_ref.isFromDynamicZone,name=_ref.name,schema=_ref.schema;var getField=function getField(fieldName){return(0,_lodash.get)(schema,['schema','attributes',fieldName],{});};var getMeta=function getMeta(fieldName){return(0,_lodash.get)(schema,['metadatas',fieldName,'edit'],{});};return _react["default"].createElement(_NonRepeatableWrapper["default"],{isFromDynamicZone:isFromDynamicZone},fields.map(function(fieldRow,key){return _react["default"].createElement("div",{className:"row",key:key},fieldRow.map(function(field){var currentField=getField(field.name);var isComponent=(0,_lodash.get)(currentField,'type','')==='component';var keys="".concat(name,".").concat(field.name);if(isComponent){var componentUid=currentField.component;var metas=getMeta(field.name);return _react["default"].createElement(_FieldComponent["default"],{key:field.name,componentUid:componentUid,isRepeatable:currentField.repeatable,label:metas.label,max:currentField.max,min:currentField.min,name:keys});}return _react["default"].createElement("div",{key:field.name,className:"col-".concat(field.size)},_react["default"].createElement(_Inputs["default"],{keys:keys,layout:schema,name:field.name,onChange:function onChange(){}}));}));}));};NonRepeatableComponent.defaultProps={fields:[],isFromDynamicZone:false};NonRepeatableComponent.propTypes={fields:_propTypes["default"].array,isFromDynamicZone:_propTypes["default"].bool,name:_propTypes["default"].string.isRequired,schema:_propTypes["default"].object.isRequired};var _default=NonRepeatableComponent;exports["default"]=_default;

/***/ }),

/***/ 2006:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _extends2=_interopRequireDefault(__webpack_require__(15));var _objectWithoutProperties2=_interopRequireDefault(__webpack_require__(26));var _classCallCheck2=_interopRequireDefault(__webpack_require__(13));var _createClass2=_interopRequireDefault(__webpack_require__(14));var _possibleConstructorReturn2=_interopRequireDefault(__webpack_require__(16));var _getPrototypeOf3=_interopRequireDefault(__webpack_require__(17));var _assertThisInitialized2=_interopRequireDefault(__webpack_require__(12));var _inherits2=_interopRequireDefault(__webpack_require__(18));var _defineProperty2=_interopRequireDefault(__webpack_require__(11));var _react=_interopRequireDefault(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _lodash=__webpack_require__(9);var _classnames=_interopRequireDefault(__webpack_require__(23));var _styles=__webpack_require__(21);var _core=__webpack_require__(57);var _InputJSON=_interopRequireDefault(__webpack_require__(2007));var _Wrapper=_interopRequireDefault(__webpack_require__(2019));/**
 *
 * InputJSONWithErrors
 *
 */var InputJSONWithErrors=/*#__PURE__*/function(_React$Component){(0,_inherits2["default"])(InputJSONWithErrors,_React$Component);function InputJSONWithErrors(){var _getPrototypeOf2;var _this;(0,_classCallCheck2["default"])(this,InputJSONWithErrors);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=(0,_possibleConstructorReturn2["default"])(this,(_getPrototypeOf2=(0,_getPrototypeOf3["default"])(InputJSONWithErrors)).call.apply(_getPrototypeOf2,[this].concat(args)));(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"handleChange",function(e){_this.setState({errors:[]});_this.props.onChange(e);});return _this;}(0,_createClass2["default"])(InputJSONWithErrors,[{key:"render",value:function render(){var _this2=this;var _this$props=this.props,autoFocus=_this$props.autoFocus,className=_this$props.className,deactivateErrorHighlight=_this$props.deactivateErrorHighlight,disabled=_this$props.disabled,inputError=_this$props.error,inputClassName=_this$props.inputClassName,inputDescription=_this$props.inputDescription,inputStyle=_this$props.inputStyle,label=_this$props.label,name=_this$props.name,onBlur=_this$props.onBlur,placeholder=_this$props.placeholder,resetProps=_this$props.resetProps,tabIndex=_this$props.tabIndex,validations=_this$props.validations,value=_this$props.value,rest=(0,_objectWithoutProperties2["default"])(_this$props,["autoFocus","className","deactivateErrorHighlight","disabled","error","inputClassName","inputDescription","inputStyle","label","name","onBlur","placeholder","resetProps","tabIndex","validations","value"]);var handleBlur=(0,_lodash.isFunction)(onBlur)?onBlur:this.handleBlur;return _react["default"].createElement(_core.Error,{inputError:inputError,name:name,type:"text",validations:validations},function(_ref){var canCheck=_ref.canCheck,onBlur=_ref.onBlur,error=_ref.error,dispatch=_ref.dispatch;var hasError=error&&error!==null;return _react["default"].createElement(_Wrapper["default"],{className:"".concat((0,_classnames["default"])(!(0,_lodash.isEmpty)(className)&&className)," ").concat(hasError?'bordered':'')},_react["default"].createElement(_styles.Label,{htmlFor:name},label),_react["default"].createElement(_InputJSON["default"],(0,_extends2["default"])({},rest,{autoFocus:autoFocus,className:inputClassName,disabled:disabled,deactivateErrorHighlight:deactivateErrorHighlight,name:name,onBlur:(0,_lodash.isFunction)(handleBlur)?handleBlur:onBlur,onChange:function onChange(e){if(!canCheck){dispatch({type:'SET_CHECK'});}dispatch({type:'SET_ERROR',error:null});_this2.handleChange(e);},placeholder:placeholder,resetProps:resetProps,style:inputStyle,tabIndex:tabIndex,value:value})),!hasError&&inputDescription&&_react["default"].createElement(_styles.Description,null,inputDescription),hasError&&_react["default"].createElement(_styles.ErrorMessage,null,error));});}}]);return InputJSONWithErrors;}(_react["default"].Component);InputJSONWithErrors.defaultProps={autoFocus:false,className:'',deactivateErrorHighlight:false,didCheckErrors:false,disabled:false,error:null,inputClassName:'',inputDescription:'',inputStyle:{},label:'',labelClassName:'',labelStyle:{},onBlur:false,placeholder:'',resetProps:false,tabIndex:'0',validations:{},value:null};InputJSONWithErrors.propTypes={autoFocus:_propTypes["default"].bool,className:_propTypes["default"].string,deactivateErrorHighlight:_propTypes["default"].bool,didCheckErrors:_propTypes["default"].bool,disabled:_propTypes["default"].bool,error:_propTypes["default"].string,inputClassName:_propTypes["default"].string,inputDescription:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].func,_propTypes["default"].shape({id:_propTypes["default"].string,params:_propTypes["default"].object})]),inputStyle:_propTypes["default"].object,label:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].func,_propTypes["default"].shape({id:_propTypes["default"].string,params:_propTypes["default"].object})]),labelClassName:_propTypes["default"].string,labelStyle:_propTypes["default"].object,name:_propTypes["default"].string.isRequired,onBlur:_propTypes["default"].oneOfType([_propTypes["default"].bool,_propTypes["default"].func]),onChange:_propTypes["default"].func.isRequired,placeholder:_propTypes["default"].string,resetProps:_propTypes["default"].bool,tabIndex:_propTypes["default"].string,validations:_propTypes["default"].object,value:_propTypes["default"].oneOfType([_propTypes["default"].array,_propTypes["default"].object,_propTypes["default"].bool,_propTypes["default"].string,_propTypes["default"].number])};var _default=InputJSONWithErrors;exports["default"]=_default;

/***/ }),

/***/ 2007:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _classCallCheck2=_interopRequireDefault(__webpack_require__(13));var _createClass2=_interopRequireDefault(__webpack_require__(14));var _possibleConstructorReturn2=_interopRequireDefault(__webpack_require__(16));var _getPrototypeOf2=_interopRequireDefault(__webpack_require__(17));var _assertThisInitialized2=_interopRequireDefault(__webpack_require__(12));var _inherits2=_interopRequireDefault(__webpack_require__(18));var _defineProperty2=_interopRequireDefault(__webpack_require__(11));var _react=_interopRequireDefault(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _codemirror=_interopRequireDefault(__webpack_require__(1869));__webpack_require__(2008);__webpack_require__(2009);__webpack_require__(2010);__webpack_require__(2011);__webpack_require__(2012);__webpack_require__(2013);__webpack_require__(2015);var _lodash=__webpack_require__(9);var _jsonlint=_interopRequireDefault(__webpack_require__(2017));var _components=_interopRequireDefault(__webpack_require__(2018));/**
 *
 * InputJSON
 *
 */var WAIT=600;var stringify=JSON.stringify;var DEFAULT_THEME='3024-night';var InputJSON=/*#__PURE__*/function(_React$Component){(0,_inherits2["default"])(InputJSON,_React$Component);function InputJSON(props){var _this;(0,_classCallCheck2["default"])(this,InputJSON);_this=(0,_possibleConstructorReturn2["default"])(this,(0,_getPrototypeOf2["default"])(InputJSON).call(this,props));(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"setInitValue",function(){var value=_this.props.value;try{_this.setState({hasInitValue:true});if(value===null)return _this.codeMirror.setValue('');return _this.codeMirror.setValue(stringify(value,null,2));}catch(err){return _this.setState({error:true});}});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"setSize",function(){return _this.codeMirror.setSize('100%','auto');});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"getContentAtLine",function(line){return _this.codeMirror.getLine(line);});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"getEditorOption",function(opt){return _this.codeMirror.getOption(opt);});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"getValue",function(){return _this.codeMirror.getValue();});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"markSelection",function(_ref){var message=_ref.message;var line=parseInt(message.split(':')[0].split('line ')[1],10)-1;var content=_this.getContentAtLine(line);if(content==='{'){line=line+1;content=_this.getContentAtLine(line);}var chEnd=content.length;var chStart=chEnd-(0,_lodash.trimStart)(content,' ').length;var markedText=_this.codeMirror.markText({line:line,ch:chStart},{line:line,ch:chEnd},{className:'colored'});_this.setState({markedText:markedText});});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"timer",null);(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"handleBlur",function(_ref2){var target=_ref2.target;var _this$props=_this.props,name=_this$props.name,onBlur=_this$props.onBlur;if(target===undefined){// codemirror catches multiple events
onBlur({target:{name:name,type:'json',value:_this.getValue()}});}});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"handleChange",function(){var hasInitValue=_this.state.hasInitValue;var _this$props2=_this.props,name=_this$props2.name,onChange=_this$props2.onChange;var value=_this.codeMirror.getValue();if(!hasInitValue){_this.setState({hasInitValue:true});// Fix for the input firing on onChange event on mount
return;}if(value===''){value=null;}// Update the parent
onChange({target:{name:name,value:value,type:'json'}});// Remove higlight error
if(_this.state.markedText){_this.state.markedText.clear();_this.setState({markedText:null,error:null});}clearTimeout(_this.timer);_this.timer=setTimeout(function(){return _this.testJSON(_this.codeMirror.getValue());},WAIT);});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"testJSON",function(value){try{_jsonlint["default"].parse(value);}catch(err){_this.markSelection(err);}});_this.editor=_react["default"].createRef();_this.state={error:false,markedText:null};return _this;}(0,_createClass2["default"])(InputJSON,[{key:"componentDidMount",value:function componentDidMount(){// Init codemirror component
this.codeMirror=_codemirror["default"].fromTextArea(this.editor.current,{autoCloseBrackets:true,lineNumbers:true,matchBrackets:true,mode:'application/json',readOnly:this.props.disabled,smartIndent:true,styleSelectedText:true,tabSize:2,theme:DEFAULT_THEME,fontSize:'13px'});this.codeMirror.on('change',this.handleChange);this.codeMirror.on('blur',this.handleBlur);this.setSize();this.setInitValue();}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){if((0,_lodash.isEmpty)(prevProps.value)&&!(0,_lodash.isEmpty)(this.props.value)&&!this.state.hasInitValue){this.setInitValue();}}},{key:"render",value:function render(){if(this.state.error){return _react["default"].createElement("div",null,"error json");}return _react["default"].createElement(_components["default"],null,_react["default"].createElement("textarea",{ref:this.editor,autoComplete:"off",id:this.props.name,defaultValue:""}));}}]);return InputJSON;}(_react["default"].Component);InputJSON.defaultProps={disabled:false,onBlur:function onBlur(){},onChange:function onChange(){},value:null};InputJSON.propTypes={disabled:_propTypes["default"].bool,name:_propTypes["default"].string.isRequired,onBlur:_propTypes["default"].func,onChange:_propTypes["default"].func,value:_propTypes["default"].any};var _default=InputJSON;exports["default"]=_default;

/***/ }),

/***/ 2017:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* Jison generated parser */ /* eslint-disable */var jsonlint=function(){var parser={trace:function trace(){},yy:{},symbols_:{"error":2,"JSONString":3,"STRING":4,"JSONNumber":5,"NUMBER":6,"JSONNullLiteral":7,"NULL":8,"JSONBooleanLiteral":9,"TRUE":10,"FALSE":11,"JSONText":12,"JSONValue":13,"EOF":14,"JSONObject":15,"JSONArray":16,"{":17,"}":18,"JSONMemberList":19,"JSONMember":20,":":21,",":22,"[":23,"]":24,"JSONElementList":25,"$accept":0,"$end":1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function anonymous(yytext,yyleng,yylineno,yy,yystate,$$,_$){var $0=$$.length-1;switch(yystate){case 1:// replace escaped characters with actual character
this.$=yytext.replace(/\\(\\|")/g,"$"+"1").replace(/\\n/g,'\n').replace(/\\r/g,'\r').replace(/\\t/g,'\t').replace(/\\v/g,'\v').replace(/\\f/g,'\f').replace(/\\b/g,'\b');break;case 2:this.$=Number(yytext);break;case 3:this.$=null;break;case 4:this.$=true;break;case 5:this.$=false;break;case 6:return this.$=$$[$0-1];break;case 13:this.$={};break;case 14:this.$=$$[$0-1];break;case 15:this.$=[$$[$0-2],$$[$0]];break;case 16:this.$={};this.$[$$[$0][0]]=$$[$0][1];break;case 17:this.$=$$[$0-2];$$[$0-2][$$[$0][0]]=$$[$0][1];break;case 18:this.$=[];break;case 19:this.$=$$[$0-1];break;case 20:this.$=[$$[$0]];break;case 21:this.$=$$[$0-2];$$[$0-2].push($$[$0]);break;}},table:[{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],12:1,13:2,15:7,16:8,17:[1,14],23:[1,15]},{1:[3]},{14:[1,16]},{14:[2,7],18:[2,7],22:[2,7],24:[2,7]},{14:[2,8],18:[2,8],22:[2,8],24:[2,8]},{14:[2,9],18:[2,9],22:[2,9],24:[2,9]},{14:[2,10],18:[2,10],22:[2,10],24:[2,10]},{14:[2,11],18:[2,11],22:[2,11],24:[2,11]},{14:[2,12],18:[2,12],22:[2,12],24:[2,12]},{14:[2,3],18:[2,3],22:[2,3],24:[2,3]},{14:[2,4],18:[2,4],22:[2,4],24:[2,4]},{14:[2,5],18:[2,5],22:[2,5],24:[2,5]},{14:[2,1],18:[2,1],21:[2,1],22:[2,1],24:[2,1]},{14:[2,2],18:[2,2],22:[2,2],24:[2,2]},{3:20,4:[1,12],18:[1,17],19:18,20:19},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:23,15:7,16:8,17:[1,14],23:[1,15],24:[1,21],25:22},{1:[2,6]},{14:[2,13],18:[2,13],22:[2,13],24:[2,13]},{18:[1,24],22:[1,25]},{18:[2,16],22:[2,16]},{21:[1,26]},{14:[2,18],18:[2,18],22:[2,18],24:[2,18]},{22:[1,28],24:[1,27]},{22:[2,20],24:[2,20]},{14:[2,14],18:[2,14],22:[2,14],24:[2,14]},{3:20,4:[1,12],20:29},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:30,15:7,16:8,17:[1,14],23:[1,15]},{14:[2,19],18:[2,19],22:[2,19],24:[2,19]},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:31,15:7,16:8,17:[1,14],23:[1,15]},{18:[2,17],22:[2,17]},{18:[2,15],22:[2,15]},{22:[2,21],24:[2,21]}],defaultActions:{16:[2,6]},parseError:function parseError(str,hash){throw new Error(str);},parse:function parse(input){var self=this,stack=[0],vstack=[null],// semantic value stack
lstack=[],// location stack
table=this.table,yytext='',yylineno=0,yyleng=0,recovering=0,TERROR=2,EOF=1;//this.reductionCount = this.shiftCount = 0;
this.lexer.setInput(input);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;if(typeof this.lexer.yylloc=='undefined')this.lexer.yylloc={};var yyloc=this.lexer.yylloc;lstack.push(yyloc);if(typeof this.yy.parseError==='function')this.parseError=this.yy.parseError;function popStack(n){stack.length=stack.length-2*n;vstack.length=vstack.length-n;lstack.length=lstack.length-n;}function lex(){var token;token=self.lexer.lex()||1;// $end = 1
// if token isn't its numeric value, convert
if(typeof token!=='number'){token=self.symbols_[token]||token;}return token;}var symbol,preErrorSymbol,state,action,a,r,yyval={},p,len,newState,expected;while(true){// retreive state number from top of stack
state=stack[stack.length-1];// use default actions if available
if(this.defaultActions[state]){action=this.defaultActions[state];}else{if(symbol==null)symbol=lex();// read action for current state and first input
action=table[state]&&table[state][symbol];}// handle parse error
_handle_error:if(typeof action==='undefined'||!action.length||!action[0]){if(!recovering){// Report error
expected=[];for(p in table[state]){if(this.terminals_[p]&&p>2){expected.push("'"+this.terminals_[p]+"'");}}var errStr='';if(this.lexer.showPosition){errStr='Parse error on line '+(yylineno+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+expected.join(', ')+", got '"+this.terminals_[symbol]+"'";}else{errStr='Parse error on line '+(yylineno+1)+": Unexpected "+(symbol==1/*EOF*/?"end of input":"'"+(this.terminals_[symbol]||symbol)+"'");}this.parseError(errStr,{text:this.lexer.match,token:this.terminals_[symbol]||symbol,line:this.lexer.yylineno,loc:yyloc,expected:expected});}// just recovered from another error
if(recovering==3){if(symbol==EOF){throw new Error(errStr||'Parsing halted.');}// discard current lookahead and grab another
yyleng=this.lexer.yyleng;yytext=this.lexer.yytext;yylineno=this.lexer.yylineno;yyloc=this.lexer.yylloc;symbol=lex();}// try to recover from error
while(1){// check for error recovery rule in this state
if(TERROR.toString()in table[state]){break;}if(state==0){throw new Error(errStr||'Parsing halted.');}popStack(1);state=stack[stack.length-1];}preErrorSymbol=symbol;// save the lookahead token
symbol=TERROR;// insert generic error symbol as new lookahead
state=stack[stack.length-1];action=table[state]&&table[state][TERROR];recovering=3;// allow 3 real symbols to be shifted before reporting a new error
}// this shouldn't happen, unless resolve defaults are off
if(action[0]instanceof Array&&action.length>1){throw new Error('Parse Error: multiple actions possible at state: '+state+', token: '+symbol);}switch(action[0]){case 1:// shift
//this.shiftCount++;
stack.push(symbol);vstack.push(this.lexer.yytext);lstack.push(this.lexer.yylloc);stack.push(action[1]);// push state
symbol=null;if(!preErrorSymbol){// normal execution/no error
yyleng=this.lexer.yyleng;yytext=this.lexer.yytext;yylineno=this.lexer.yylineno;yyloc=this.lexer.yylloc;if(recovering>0)recovering--;}else{// error just occurred, resume old lookahead f/ before error
symbol=preErrorSymbol;preErrorSymbol=null;}break;case 2:// reduce
//this.reductionCount++;
len=this.productions_[action[1]][1];// perform semantic action
yyval.$=vstack[vstack.length-len];// default to $$ = $1
// default location, uses first token for firsts, last for lasts
yyval._$={first_line:lstack[lstack.length-(len||1)].first_line,last_line:lstack[lstack.length-1].last_line,first_column:lstack[lstack.length-(len||1)].first_column,last_column:lstack[lstack.length-1].last_column};r=this.performAction.call(yyval,yytext,yyleng,yylineno,this.yy,action[1],vstack,lstack);if(typeof r!=='undefined'){return r;}// pop off stack
if(len){stack=stack.slice(0,-1*len*2);vstack=vstack.slice(0,-1*len);lstack=lstack.slice(0,-1*len);}stack.push(this.productions_[action[1]][0]);// push nonterminal (reduce)
vstack.push(yyval.$);lstack.push(yyval._$);// goto new state = table[STATE][NONTERMINAL]
newState=table[stack[stack.length-2]][stack[stack.length-1]];stack.push(newState);break;case 3:// accept
return true;}}return true;}};/* Jison generated lexer */var lexer=function(){var lexer={EOF:1,parseError:function parseError(str,hash){if(this.yy.parseError){this.yy.parseError(str,hash);}else{throw new Error(str);}},setInput:function setInput(input){this._input=input;this._more=this._less=this.done=false;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match='';this.conditionStack=['INITIAL'];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};return this;},input:function input(){var ch=this._input[0];this.yytext+=ch;this.yyleng++;this.match+=ch;this.matched+=ch;var lines=ch.match(/\n/);if(lines)this.yylineno++;this._input=this._input.slice(1);return ch;},unput:function unput(ch){this._input=ch+this._input;return this;},more:function more(){this._more=true;return this;},less:function less(n){this._input=this.match.slice(n)+this._input;},pastInput:function pastInput(){var past=this.matched.substr(0,this.matched.length-this.match.length);return(past.length>20?'...':'')+past.substr(-20).replace(/\n/g,"");},upcomingInput:function upcomingInput(){var next=this.match;if(next.length<20){next+=this._input.substr(0,20-next.length);}return(next.substr(0,20)+(next.length>20?'...':'')).replace(/\n/g,"");},showPosition:function showPosition(){var pre=this.pastInput();var c=new Array(pre.length+1).join("-");return pre+this.upcomingInput()+"\n"+c+"^";},next:function next(){if(this.done){return this.EOF;}if(!this._input)this.done=true;var token,match,tempMatch,index,col,lines;if(!this._more){this.yytext='';this.match='';}var rules=this._currentRules();for(var i=0;i<rules.length;i++){tempMatch=this._input.match(this.rules[rules[i]]);if(tempMatch&&(!match||tempMatch[0].length>match[0].length)){match=tempMatch;index=i;if(!this.options.flex)break;}}if(match){lines=match[0].match(/\n.*/g);if(lines)this.yylineno+=lines.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:lines?lines[lines.length-1].length-1:this.yylloc.last_column+match[0].length};this.yytext+=match[0];this.match+=match[0];this.yyleng=this.yytext.length;this._more=false;this._input=this._input.slice(match[0].length);this.matched+=match[0];token=this.performAction.call(this,this.yy,this,rules[index],this.conditionStack[this.conditionStack.length-1]);if(this.done&&this._input)this.done=false;if(token)return token;else return;}if(this._input===""){return this.EOF;}else{this.parseError('Lexical error on line '+(this.yylineno+1)+'. Unrecognized text.\n'+this.showPosition(),{text:"",token:null,line:this.yylineno});}},lex:function lex(){var r=this.next();if(typeof r!=='undefined'){return r;}else{return this.lex();}},begin:function begin(condition){this.conditionStack.push(condition);},popState:function popState(){return this.conditionStack.pop();},_currentRules:function _currentRules(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;},topState:function topState(){return this.conditionStack[this.conditionStack.length-2];},pushState:function begin(condition){this.begin(condition);}};lexer.options={};lexer.performAction=function anonymous(yy,yy_,$avoiding_name_collisions,YY_START){var YYSTATE=YY_START;switch($avoiding_name_collisions){case 0:/* skip whitespace */break;case 1:return 6;break;case 2:yy_.yytext=yy_.yytext.substr(1,yy_.yyleng-2);return 4;break;case 3:return 17;break;case 4:return 18;break;case 5:return 23;break;case 6:return 24;break;case 7:return 22;break;case 8:return 21;break;case 9:return 10;break;case 10:return 11;break;case 11:return 8;break;case 12:return 14;break;case 13:return'INVALID';break;}};lexer.rules=[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/];lexer.conditions={"INITIAL":{"rules":[0,1,2,3,4,5,6,7,8,9,10,11,12,13],"inclusive":true}};;return lexer;}();parser.lexer=lexer;return parser;}();if(true){exports.parser=jsonlint;exports.parse=function(){return jsonlint.parse.apply(jsonlint,arguments);};exports.main=function commonjsMain(args){if(!args[1]){throw new Error('Usage: '+args[0]+' FILE');}};}

/***/ }),

/***/ 2018:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(5));var _styledComponents=_interopRequireDefault(__webpack_require__(4));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  position: relative;\n  margin-bottom: 3px;\n  line-height: 18px;\n\n  .CodeMirror {\n    font-size: 13px !important;\n  }\n\n  > div {\n    border-radius: 3px;\n\n    > div:last-of-type {\n      min-height: 315px;\n      max-height: 635px;\n      font-weight: 500;\n      font-size: 1.3rem !important;\n    }\n  }\n\n  .colored {\n    background-color: yellow;\n    color: black !important;\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var Wrapper=_styledComponents["default"].div(_templateObject());var _default=Wrapper;exports["default"]=_default;

/***/ }),

/***/ 2019:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(5));var _styledComponents=_interopRequireDefault(__webpack_require__(4));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  padding-bottom: 26px;\n\n  label {\n    margin-bottom: 1rem;\n    line-height: 18px;\n    display: block;\n  }\n  > div {\n    border-radius: 4px;\n    border: 1px solid #090300;\n  }\n  &.bordered {\n    > div {\n      border-color: red;\n    }\n  }\n  > p {\n    width 100%;\n    padding-top: 14px;\n    font-size: 1.2rem;\n    line-height: normal;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    margin-bottom: -11px;\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var Wrapper=_styledComponents["default"].div(_templateObject());var _default=Wrapper;exports["default"]=_default;

/***/ }),

/***/ 2020:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireWildcard=__webpack_require__(8);var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _extends2=_interopRequireDefault(__webpack_require__(15));var _slicedToArray2=_interopRequireDefault(__webpack_require__(37));var _react=_interopRequireWildcard(__webpack_require__(1));var _lodash=__webpack_require__(9);var _propTypes=_interopRequireDefault(__webpack_require__(2));var _styles=__webpack_require__(21);var _core=__webpack_require__(57);var _InputFile=_interopRequireDefault(__webpack_require__(2021));var _Container=_interopRequireDefault(__webpack_require__(2022));/**
 *
 * InputFileWithErrors
 */function InputFileWithErrors(_ref){var className=_ref.className,inputError=_ref.error,inputDescription=_ref.inputDescription,label=_ref.label,multiple=_ref.multiple,name=_ref.name,onChange=_ref.onChange,style=_ref.style,validations=_ref.validations,value=_ref.value;var _useState=(0,_react.useState)(null),_useState2=(0,_slicedToArray2["default"])(_useState,2),fileLabel=_useState2[0],setFilelabel=_useState2[1];(0,_react.useEffect)(function(){if((0,_lodash.isArray)(value)&&value.length>0){setFilelabel(1);}},[value]);var setLabel=function setLabel(label){setFilelabel(label);};return _react["default"].createElement(_core.Error,{inputError:inputError,name:name,type:"text",validations:validations},function(props){var error=props.error;var hasError=error&&error!==null;return _react["default"].createElement(_Container["default"],{className:className!==''&&className,style:style},_react["default"].createElement(_styles.Label,{htmlFor:"".concat(name,"NotNeeded")},label,multiple&&fileLabel&&_react["default"].createElement("span",{className:"labelNumber"},"\xA0(",fileLabel,"/",value.length,")")),_react["default"].createElement(_InputFile["default"],(0,_extends2["default"])({},props,{error:hasError,onChange:onChange,value:value,setLabel:setLabel,name:name,multiple:multiple})),!hasError&&inputDescription&&_react["default"].createElement(_styles.Description,null,inputDescription),hasError&&_react["default"].createElement(_styles.ErrorMessage,null,error));});}InputFileWithErrors.defaultProps={className:'',error:null,inputDescription:'',label:'',multiple:false,style:{},validations:{},value:[]};InputFileWithErrors.propTypes={className:_propTypes["default"].string,error:_propTypes["default"].string,inputDescription:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].func,_propTypes["default"].shape({id:_propTypes["default"].string,params:_propTypes["default"].object})]),label:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].func,_propTypes["default"].shape({id:_propTypes["default"].string,params:_propTypes["default"].object})]),multiple:_propTypes["default"].bool,name:_propTypes["default"].string.isRequired,onChange:_propTypes["default"].func.isRequired,style:_propTypes["default"].object,validations:_propTypes["default"].object,value:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].object,_propTypes["default"].array])};var _default=(0,_react.memo)(InputFileWithErrors);exports["default"]=_default;

/***/ }),

/***/ 2021:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);var _interopRequireWildcard=__webpack_require__(8);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _strapiHelperPlugin=__webpack_require__(10);function InputFile(_ref){var onBlur=_ref.onBlur,_onChange=_ref.onChange,multiple=_ref.multiple,error=_ref.error,dispatch=_ref.dispatch,name=_ref.name,value=_ref.value,setLabel=_ref.setLabel;(0,_react.useEffect)(function(){dispatch({type:'SET_CHECK'});},[dispatch]);return _react["default"].createElement(_strapiHelperPlugin.InputFile,{multiple:multiple,error:error,name:name,onChange:function onChange(e){dispatch({type:'SET_ERROR',error:null});_onChange(e);onBlur(e);},setLabel:setLabel,value:value});}InputFile.defaultProps={dispatch:function dispatch(){},error:false,multiple:false,onBlur:function onBlur(){},setLabel:function setLabel(){},value:[]};InputFile.propTypes={dispatch:_propTypes["default"].func,error:_propTypes["default"].bool,multiple:_propTypes["default"].bool,name:_propTypes["default"].string.isRequired,onBlur:_propTypes["default"].func,onChange:_propTypes["default"].func.isRequired,setLabel:_propTypes["default"].func,value:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].object,_propTypes["default"].array])};var _default=(0,_react.memo)(InputFile);exports["default"]=_default;

/***/ }),

/***/ 2022:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(5));var _styledComponents=_interopRequireDefault(__webpack_require__(4));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  min-width: 200px;\n  font-size: 1.3rem;\n  padding-bottom: 26px;\n\n  .labelFile {\n    margin-bottom: 9px;\n  }\n\n  .labelNumber {\n    font-weight: 500;\n  }\n\n  &.bordered {\n    .editorWrapper {\n      border-color: red;\n    }\n  }\n  > div + p {\n    width 100%;\n    padding-top: 14px;\n    font-size: 1.2rem;\n    line-height: normal;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    margin-bottom: -11px;\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var Container=_styledComponents["default"].div(_templateObject());var _default=Container;exports["default"]=_default;

/***/ }),

/***/ 2023:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);var _interopRequireWildcard=__webpack_require__(8);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _lodash=__webpack_require__(9);var _reactSelect=_interopRequireDefault(__webpack_require__(201));function SelectOne(_ref){var mainField=_ref.mainField,name=_ref.name,isDisabled=_ref.isDisabled,isLoading=_ref.isLoading,onChange=_ref.onChange,onInputChange=_ref.onInputChange,onMenuClose=_ref.onMenuClose,onMenuScrollToBottom=_ref.onMenuScrollToBottom,options=_ref.options,placeholder=_ref.placeholder,value=_ref.value;return _react["default"].createElement(_reactSelect["default"],{id:name,isClearable:true,isDisabled:isDisabled,isLoading:isLoading,options:options,onChange:onChange,onInputChange:onInputChange,onMenuClose:onMenuClose,onMenuScrollToBottom:onMenuScrollToBottom,placeholder:placeholder,value:(0,_lodash.isNull)(value)?null:{label:(0,_lodash.get)(value,[mainField],''),value:value}});}SelectOne.defaultProps={value:null};SelectOne.propTypes={isDisabled:_propTypes["default"].bool.isRequired,isLoading:_propTypes["default"].bool.isRequired,mainField:_propTypes["default"].string.isRequired,name:_propTypes["default"].string.isRequired,onChange:_propTypes["default"].func.isRequired,onInputChange:_propTypes["default"].func.isRequired,onMenuClose:_propTypes["default"].func.isRequired,onMenuScrollToBottom:_propTypes["default"].func.isRequired,options:_propTypes["default"].array.isRequired,placeholder:_propTypes["default"].node.isRequired,value:_propTypes["default"].object};var _default=(0,_react.memo)(SelectOne);exports["default"]=_default;

/***/ }),

/***/ 2024:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireWildcard=__webpack_require__(8);var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _slicedToArray2=_interopRequireDefault(__webpack_require__(37));var _react=_interopRequireWildcard(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _lodash=__webpack_require__(9);var _reactDnd=__webpack_require__(355);var _reactSelect=_interopRequireWildcard(__webpack_require__(201));var _ItemTypes=_interopRequireDefault(__webpack_require__(639));var _components=__webpack_require__(644);var _ListItem=_interopRequireDefault(__webpack_require__(2025));function SelectMany(_ref){var addRelation=_ref.addRelation,mainField=_ref.mainField,name=_ref.name,isDisabled=_ref.isDisabled,isLoading=_ref.isLoading,move=_ref.move,nextSearch=_ref.nextSearch,onInputChange=_ref.onInputChange,onMenuClose=_ref.onMenuClose,onMenuScrollToBottom=_ref.onMenuScrollToBottom,_onRemove=_ref.onRemove,options=_ref.options,placeholder=_ref.placeholder,targetModel=_ref.targetModel,value=_ref.value;var _useDrop=(0,_reactDnd.useDrop)({accept:_ItemTypes["default"].RELATION}),_useDrop2=(0,_slicedToArray2["default"])(_useDrop,2),drop=_useDrop2[1];var findRelation=function findRelation(id){var relation=value.filter(function(c){return"".concat(c.id)==="".concat(id);})[0];return{relation:relation,index:value.indexOf(relation)};};var moveRelation=(0,_react.useCallback)(function(id,atIndex){var _findRelation=findRelation(id),index=_findRelation.index;move(index,atIndex,name);},// eslint-disable-next-line react-hooks/exhaustive-deps
[value]);var filterConfig={ignoreCase:true,ignoreAccents:true,trim:false,matchFrom:'any'};return _react["default"].createElement(_react["default"].Fragment,null,_react["default"].createElement(_reactSelect["default"],{isDisabled:isDisabled,id:name,filterOption:function filterOption(candidate,input){if(!(0,_lodash.isEmpty)(value)){var isSelected=value.findIndex(function(item){return item.id===candidate.value.id;})!==-1;if(isSelected){return false;}}if(input){return(0,_reactSelect.createFilter)(filterConfig)(candidate,input);}return true;},isLoading:isLoading,isMulti:true,isSearchable:true,options:options,onChange:addRelation,onInputChange:onInputChange,onMenuClose:onMenuClose,onMenuScrollToBottom:onMenuScrollToBottom,placeholder:placeholder,value:[]}),_react["default"].createElement(_components.ListWrapper,{ref:drop},!(0,_lodash.isEmpty)(value)&&_react["default"].createElement("ul",null,value.map(function(data,index){return _react["default"].createElement(_ListItem["default"],{key:data.id,data:data,findRelation:findRelation,mainField:mainField,moveRelation:moveRelation,nextSearch:nextSearch,onRemove:function onRemove(){return _onRemove("".concat(name,".").concat(index));},targetModel:targetModel});})),!(0,_lodash.isEmpty)(value)&&value.length>4&&_react["default"].createElement(_components.ListShadow,null)));}SelectMany.defaultProps={move:function move(){},value:null};SelectMany.propTypes={addRelation:_propTypes["default"].func.isRequired,isDisabled:_propTypes["default"].bool.isRequired,mainField:_propTypes["default"].string.isRequired,move:_propTypes["default"].func,name:_propTypes["default"].string.isRequired,nextSearch:_propTypes["default"].string.isRequired,isLoading:_propTypes["default"].bool.isRequired,onInputChange:_propTypes["default"].func.isRequired,onMenuClose:_propTypes["default"].func.isRequired,onMenuScrollToBottom:_propTypes["default"].func.isRequired,onRemove:_propTypes["default"].func.isRequired,options:_propTypes["default"].array.isRequired,placeholder:_propTypes["default"].node.isRequired,targetModel:_propTypes["default"].string.isRequired,value:_propTypes["default"].array};var _default=(0,_react.memo)(SelectMany);exports["default"]=_default;

/***/ }),

/***/ 2025:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireWildcard=__webpack_require__(8);var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _slicedToArray2=_interopRequireDefault(__webpack_require__(37));var _react=_interopRequireWildcard(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _reactDnd=__webpack_require__(355);var _reactDndHtml5Backend=__webpack_require__(641);var _pluginId=_interopRequireDefault(__webpack_require__(104));var _ItemTypes=_interopRequireDefault(__webpack_require__(639));var _components=__webpack_require__(644);var _Relation=_interopRequireDefault(__webpack_require__(649));function ListItem(_ref){var data=_ref.data,findRelation=_ref.findRelation,mainField=_ref.mainField,moveRelation=_ref.moveRelation,nextSearch=_ref.nextSearch,onRemove=_ref.onRemove,targetModel=_ref.targetModel;var to="/plugins/".concat(_pluginId["default"],"/").concat(targetModel,"/").concat(data.id,"?redirectUrl=").concat(nextSearch);var originalIndex=findRelation(data.id).index;var _useDrag=(0,_reactDnd.useDrag)({item:{type:_ItemTypes["default"].RELATION,id:data.id,originalIndex:originalIndex,data:data,mainField:mainField},collect:function collect(monitor){return{isDragging:monitor.isDragging()};}}),_useDrag2=(0,_slicedToArray2["default"])(_useDrag,3),isDragging=_useDrag2[0].isDragging,drag=_useDrag2[1],preview=_useDrag2[2];var _useDrop=(0,_reactDnd.useDrop)({accept:_ItemTypes["default"].RELATION,canDrop:function canDrop(){return false;},hover:function hover(_ref2){var draggedId=_ref2.id;if(draggedId!==data.id){var _findRelation=findRelation(data.id),overIndex=_findRelation.index;moveRelation(draggedId,overIndex);}}}),_useDrop2=(0,_slicedToArray2["default"])(_useDrop,2),drop=_useDrop2[1];(0,_react.useEffect)(function(){preview((0,_reactDndHtml5Backend.getEmptyImage)(),{captureDraggingState:true});},[preview]);var opacity=isDragging?0.2:1;return _react["default"].createElement(_components.Li,{ref:function ref(node){return drag(drop(node));},style:{opacity:opacity}},_react["default"].createElement(_Relation["default"],{mainField:mainField,onRemove:onRemove,data:data,to:to}));}ListItem.defaultProps={findRelation:function findRelation(){},moveRelation:function moveRelation(){},nextSearch:'',onRemove:function onRemove(){},targetModel:''};ListItem.propTypes={data:_propTypes["default"].object.isRequired,findRelation:_propTypes["default"].func,mainField:_propTypes["default"].string.isRequired,moveRelation:_propTypes["default"].func,nextSearch:_propTypes["default"].string,onRemove:_propTypes["default"].func,targetModel:_propTypes["default"].string};var _default=(0,_react.memo)(ListItem);exports["default"]=_default;

/***/ }),

/***/ 2026:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports.Wrapper=exports.Nav=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(5));var _styledComponents=_interopRequireDefault(__webpack_require__(4));function _templateObject2(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  > div {\n    display: flex;\n\n    justify-content: space-between;\n\n    a {\n      color: #007eff !important;\n      font-size: 1.3rem;\n\n      &:hover {\n        text-decoration: underline !important;\n        cursor: pointer;\n      }\n    }\n  }\n  .description {\n    color: #9ea7b8;\n    font-family: 'Lato';\n    font-size: 1.2rem;\n    margin-top: -5px;\n    max-width: 100%;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    overflow: hidden;\n  }\n"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  position: relative;\n  margin-bottom: 27px;\n\n  label {\n    width: 100%;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    font-size: 1.3rem;\n    font-weight: 500;\n  }\n\n  nav + div {\n    height: 34px;\n    background-color: white;\n    margin-top: 5px;\n    > div {\n      min-height: 34px;\n      height: 100%;\n      border: 1px solid #e3e9f3;\n      border-radius: 3px;\n      box-shadow: 0 1px 1px 0 rgba(104, 118, 142, 0.05);\n      flex-wrap: initial;\n      padding: 0 10px;\n\n      // Arrow\n      &:before {\n        content: '\f0d7';\n        position: absolute;\n        top: 5px;\n        right: 10px;\n        font-family: 'FontAwesome';\n        font-size: 14px;\n        font-weight: 800;\n        color: #aaa;\n      }\n      > div {\n        padding: 0;\n        &:first-of-type {\n          // Placeholder\n          > div span {\n            color: #aaa;\n          }\n        }\n      }\n      div:last-of-type {\n        span {\n          display: none;\n          & + div {\n            display: none;\n          }\n        }\n        svg {\n          width: 15px;\n          margin-right: 6px;\n        }\n      }\n      span {\n        font-size: 13px;\n        line-height: 34px;\n        color: #333740;\n      }\n      :hover {\n        cursor: pointer;\n        border-color: #e3e9f3;\n        &:before {\n          color: #666;\n        }\n      }\n    }\n    span[aria-live='polite'] + div {\n      &:before {\n        transform: rotate(180deg);\n        top: 4px;\n      }\n      & + div {\n        height: fit-content;\n        padding: 0;\n        margin-top: -2px;\n        border-top-left-radius: 0;\n        border-top-right-radius: 0;\n        &:before {\n          content: '';\n        }\n        div {\n          width: 100%;\n        }\n        > div {\n          max-height: 200px;\n          height: fit-content;\n          div {\n            height: 36px;\n            cursor: pointer;\n          }\n        }\n      }\n    }\n  }\n"],["\n  position: relative;\n  margin-bottom: 27px;\n\n  label {\n    width: 100%;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    font-size: 1.3rem;\n    font-weight: 500;\n  }\n\n  nav + div {\n    height: 34px;\n    background-color: white;\n    margin-top: 5px;\n    > div {\n      min-height: 34px;\n      height: 100%;\n      border: 1px solid #e3e9f3;\n      border-radius: 3px;\n      box-shadow: 0 1px 1px 0 rgba(104, 118, 142, 0.05);\n      flex-wrap: initial;\n      padding: 0 10px;\n\n      // Arrow\n      &:before {\n        content: '\\f0d7';\n        position: absolute;\n        top: 5px;\n        right: 10px;\n        font-family: 'FontAwesome';\n        font-size: 14px;\n        font-weight: 800;\n        color: #aaa;\n      }\n      > div {\n        padding: 0;\n        &:first-of-type {\n          // Placeholder\n          > div span {\n            color: #aaa;\n          }\n        }\n      }\n      div:last-of-type {\n        span {\n          display: none;\n          & + div {\n            display: none;\n          }\n        }\n        svg {\n          width: 15px;\n          margin-right: 6px;\n        }\n      }\n      span {\n        font-size: 13px;\n        line-height: 34px;\n        color: #333740;\n      }\n      :hover {\n        cursor: pointer;\n        border-color: #e3e9f3;\n        &:before {\n          color: #666;\n        }\n      }\n    }\n    span[aria-live='polite'] + div {\n      &:before {\n        transform: rotate(180deg);\n        top: 4px;\n      }\n      & + div {\n        height: fit-content;\n        padding: 0;\n        margin-top: -2px;\n        border-top-left-radius: 0;\n        border-top-right-radius: 0;\n        &:before {\n          content: '';\n        }\n        div {\n          width: 100%;\n        }\n        > div {\n          max-height: 200px;\n          height: fit-content;\n          div {\n            height: 36px;\n            cursor: pointer;\n          }\n        }\n      }\n    }\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var Wrapper=_styledComponents["default"].div(_templateObject());exports.Wrapper=Wrapper;var Nav=_styledComponents["default"].nav(_templateObject2());exports.Nav=Nav;

/***/ }),

/***/ 2027:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _extends2=_interopRequireDefault(__webpack_require__(15));var _objectWithoutProperties2=_interopRequireDefault(__webpack_require__(26));var _classCallCheck2=_interopRequireDefault(__webpack_require__(13));var _createClass2=_interopRequireDefault(__webpack_require__(14));var _possibleConstructorReturn2=_interopRequireDefault(__webpack_require__(16));var _getPrototypeOf2=_interopRequireDefault(__webpack_require__(17));var _inherits2=_interopRequireDefault(__webpack_require__(18));var _react=_interopRequireDefault(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _lodash=__webpack_require__(9);var _classnames=_interopRequireDefault(__webpack_require__(23));var _styles=__webpack_require__(21);var _core=__webpack_require__(57);var _Wysiwyg=_interopRequireDefault(__webpack_require__(2028));var _Wrapper=_interopRequireDefault(__webpack_require__(2153));/**
 *
 * WysiwygWithErrors
 *
 */var WysiwygWithErrors=/*#__PURE__*/function(_React$Component){(0,_inherits2["default"])(WysiwygWithErrors,_React$Component);function WysiwygWithErrors(){(0,_classCallCheck2["default"])(this,WysiwygWithErrors);return(0,_possibleConstructorReturn2["default"])(this,(0,_getPrototypeOf2["default"])(WysiwygWithErrors).apply(this,arguments));}(0,_createClass2["default"])(WysiwygWithErrors,[{key:"render",value:function render(){var _this$props=this.props,autoFocus=_this$props.autoFocus,className=_this$props.className,deactivateErrorHighlight=_this$props.deactivateErrorHighlight,disabled=_this$props.disabled,inputError=_this$props.error,inputClassName=_this$props.inputClassName,inputDescription=_this$props.inputDescription,inputStyle=_this$props.inputStyle,label=_this$props.label,name=_this$props.name,handleBlur=_this$props.onBlur,_onChange=_this$props.onChange,placeholder=_this$props.placeholder,resetProps=_this$props.resetProps,style=_this$props.style,tabIndex=_this$props.tabIndex,validations=_this$props.validations,value=_this$props.value,rest=(0,_objectWithoutProperties2["default"])(_this$props,["autoFocus","className","deactivateErrorHighlight","disabled","error","inputClassName","inputDescription","inputStyle","label","name","onBlur","onChange","placeholder","resetProps","style","tabIndex","validations","value"]);return _react["default"].createElement(_core.Error,{inputError:inputError,name:name,type:"text",validations:validations},function(_ref){var canCheck=_ref.canCheck,onBlur=_ref.onBlur,error=_ref.error,dispatch=_ref.dispatch;var hasError=error&&error!==null;return _react["default"].createElement(_Wrapper["default"],{className:"".concat((0,_classnames["default"])(!(0,_lodash.isEmpty)(className)&&className)," ").concat(hasError?'bordered':''),style:style},_react["default"].createElement(_styles.Label,{htmlFor:name},label),_react["default"].createElement(_Wysiwyg["default"],(0,_extends2["default"])({},rest,{autoFocus:autoFocus,className:inputClassName,disabled:disabled,deactivateErrorHighlight:deactivateErrorHighlight,error:hasError,name:name,onBlur:(0,_lodash.isFunction)(handleBlur)?handleBlur:onBlur,onChange:function onChange(e){if(!canCheck){dispatch({type:'SET_CHECK'});}dispatch({type:'SET_ERROR',error:null});_onChange(e);},placeholder:placeholder,resetProps:resetProps,style:inputStyle,tabIndex:tabIndex,value:value})),!hasError&&inputDescription&&_react["default"].createElement(_styles.Description,null,inputDescription),hasError&&_react["default"].createElement(_styles.ErrorMessage,null,error));});}}]);return WysiwygWithErrors;}(_react["default"].Component);WysiwygWithErrors.defaultProps={autoFocus:false,className:'',deactivateErrorHighlight:false,didCheckErrors:false,disabled:false,error:null,inputClassName:'',inputDescription:'',inputStyle:{},label:'',onBlur:false,placeholder:'',resetProps:false,style:{},tabIndex:'0',validations:{}};WysiwygWithErrors.propTypes={autoFocus:_propTypes["default"].bool,className:_propTypes["default"].string,deactivateErrorHighlight:_propTypes["default"].bool,didCheckErrors:_propTypes["default"].bool,disabled:_propTypes["default"].bool,error:_propTypes["default"].string,inputClassName:_propTypes["default"].string,inputDescription:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].func,_propTypes["default"].shape({id:_propTypes["default"].string,params:_propTypes["default"].object})]),inputStyle:_propTypes["default"].object,label:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].func,_propTypes["default"].shape({id:_propTypes["default"].string,params:_propTypes["default"].object})]),name:_propTypes["default"].string.isRequired,onBlur:_propTypes["default"].oneOfType([_propTypes["default"].bool,_propTypes["default"].func]),onChange:_propTypes["default"].func.isRequired,placeholder:_propTypes["default"].string,resetProps:_propTypes["default"].bool,style:_propTypes["default"].object,tabIndex:_propTypes["default"].string,validations:_propTypes["default"].object,value:_propTypes["default"].string};var _default=WysiwygWithErrors;exports["default"]=_default;

/***/ }),

/***/ 2028:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _classCallCheck2=_interopRequireDefault(__webpack_require__(13));var _createClass2=_interopRequireDefault(__webpack_require__(14));var _possibleConstructorReturn2=_interopRequireDefault(__webpack_require__(16));var _getPrototypeOf2=_interopRequireDefault(__webpack_require__(17));var _assertThisInitialized2=_interopRequireDefault(__webpack_require__(12));var _inherits2=_interopRequireDefault(__webpack_require__(18));var _defineProperty2=_interopRequireDefault(__webpack_require__(11));var _react=_interopRequireDefault(__webpack_require__(1));var _draftJs=__webpack_require__(1880);var _propTypes=_interopRequireDefault(__webpack_require__(2));var _lodash=__webpack_require__(9);var _classnames=_interopRequireDefault(__webpack_require__(23));var _strapiHelperPlugin=__webpack_require__(10);var _WysiwygProvider=_interopRequireDefault(__webpack_require__(2116));var _WysiwygInlineControls=_interopRequireDefault(__webpack_require__(2117));var _WysiwygDropUpload=_interopRequireDefault(__webpack_require__(2131));var _WysiwygBottomControls=_interopRequireDefault(__webpack_require__(2133));var _WysiwygEditor=_interopRequireDefault(__webpack_require__(1955));var _customSelect=_interopRequireDefault(__webpack_require__(2135));var _previewControl=_interopRequireDefault(__webpack_require__(2138));var _previewWysiwyg=_interopRequireDefault(__webpack_require__(2140));var _toggleMode=_interopRequireDefault(__webpack_require__(2148));var _constants=__webpack_require__(1911);var _helpers=__webpack_require__(2150);var _utils=__webpack_require__(2151);var _EditorWrapper=_interopRequireDefault(__webpack_require__(2152));/**
 *
 * Wysiwyg
 *
 */ /* eslint-disable react/jsx-handler-names */ /* eslint-disable react/sort-comp */var Wysiwyg=/*#__PURE__*/function(_React$Component){(0,_inherits2["default"])(Wysiwyg,_React$Component);function Wysiwyg(_props){var _this;(0,_classCallCheck2["default"])(this,Wysiwyg);_this=(0,_possibleConstructorReturn2["default"])(this,(0,_getPrototypeOf2["default"])(Wysiwyg).call(this,_props));(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"setInitialValue",function(props){var contentState=_draftJs.ContentState.createFromText(props.value);var newEditorState=_draftJs.EditorState.createWithContent(contentState);var editorState=_this.state.isFocused?_draftJs.EditorState.moveFocusToEnd(newEditorState):newEditorState;return _this.setState({editorState:editorState});});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"addContent",function(content,style){var selectedText=_this.getSelectedText();// Retrieve the associated data for the type to add
var _getBlockContent=(0,_helpers.getBlockContent)(style),innerContent=_getBlockContent.innerContent,endReplacer=_getBlockContent.endReplacer,startReplacer=_getBlockContent.startReplacer;// Replace the selected text by the markdown command or insert default text
var defaultContent=selectedText===''?(0,_lodash.replace)(content,'textToReplace',innerContent):(0,_lodash.replace)(content,'textToReplace',selectedText);// Get the current cursor position
var cursorPosition=(0,_helpers.getOffSets)(_this.getSelection()).start;var textWithEntity=_this.modifyBlockContent(defaultContent);// Highlight the text
var _getDefaultSelectionO=(0,_helpers.getDefaultSelectionOffsets)(defaultContent,startReplacer,endReplacer,cursorPosition),anchorOffset=_getDefaultSelectionO.anchorOffset,focusOffset=_getDefaultSelectionO.focusOffset;// Merge the current selection with the new one
var updatedSelection=_this.getSelection().merge({anchorOffset:anchorOffset,focusOffset:focusOffset});var newEditorState=_draftJs.EditorState.push(_this.getEditorState(),textWithEntity,'insert-character');// Update the parent reducer
_this.sendData(newEditorState);// Don't handle selection : the user has selected some text to be changed with the appropriate markdown
if(selectedText!==''){return _this.setState({editorState:newEditorState},function(){_this.focus();});}return _this.setState({// Highlight the text if the selection wad empty
editorState:_draftJs.EditorState.forceSelection(newEditorState,updatedSelection)});});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"addOlBlock",function(){// Get all the selected blocks
var selectedBlocksList=(0,_utils.getSelectedBlocksList)(_this.getEditorState());var newEditorState=_this.getEditorState();// Check if the cursor is NOT at the beginning of a new line
// So we need to move all the next blocks
if((0,_helpers.getOffSets)(_this.getSelection()).start!==0){// Retrieve all the blocks after the current position
var nextBlocks=(0,_utils.getNextBlocksList)(newEditorState,_this.getSelection().getStartKey());var liNumber=1;// Loop to update each block after the inserted li
nextBlocks.map(function(block,index){var previousContent=index===0?_this.getEditorState().getCurrentContent().getBlockForKey(_this.getCurrentAnchorKey()):newEditorState.getCurrentContent().getBlockBefore(block.getKey());// Check if there was an li before the position so we update the entire list bullets
var number=previousContent?parseInt(previousContent.getText().split('.')[0],10):0;liNumber=(0,_lodash.isNaN)(number)?1:number+1;var nextBlockText=index===0?"".concat(liNumber,". "):nextBlocks.get(index-1).getText();// Update the current block
var newBlock=(0,_utils.createNewBlock)(nextBlockText,'block-list',block.getKey());// Update the contentState
var newContentState=_this.createNewContentStateFromBlock(newBlock,newEditorState.getCurrentContent());newEditorState=_draftJs.EditorState.push(newEditorState,newContentState);});// Move the cursor to the correct position and add a space after '.'
// 2 for the dot and the space after, we add the number length (10 = offset of 2)
var offset=2+liNumber.toString().length;var updatedSelection=(0,_utils.updateSelection)(_this.getSelection(),nextBlocks,offset);return _this.setState({editorState:_draftJs.EditorState.acceptSelection(newEditorState,updatedSelection)});}// If the cursor is at the beginning we need to move all the content after the cursor so we don't loose the data
selectedBlocksList.map(function(block,i){var selectedText=block.getText();var li=selectedText===''?"".concat(i+1,". "):"".concat(i+1,". ").concat(selectedText);var newBlock=(0,_utils.createNewBlock)(li,'block-list',block.getKey());var newContentState=_this.createNewContentStateFromBlock(newBlock,newEditorState.getCurrentContent());newEditorState=_draftJs.EditorState.push(newEditorState,newContentState);});// Update the parent reducer
_this.sendData(newEditorState);return _this.setState({editorState:_draftJs.EditorState.moveFocusToEnd(newEditorState)});});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"addUlBlock",function(){var selectedBlocksList=(0,_utils.getSelectedBlocksList)(_this.getEditorState());var newEditorState=_this.getEditorState();if((0,_helpers.getOffSets)(_this.getSelection()).start!==0){var nextBlocks=(0,_utils.getNextBlocksList)(newEditorState,_this.getSelection().getStartKey());nextBlocks.map(function(block,index){var nextBlockText=index===0?'- ':nextBlocks.get(index-1).getText();var newBlock=(0,_utils.createNewBlock)(nextBlockText,'block-list',block.getKey());var newContentState=_this.createNewContentStateFromBlock(newBlock,newEditorState.getCurrentContent());newEditorState=_draftJs.EditorState.push(newEditorState,newContentState);});var updatedSelection=(0,_utils.updateSelection)(_this.getSelection(),nextBlocks,2);return _this.setState({editorState:_draftJs.EditorState.acceptSelection(newEditorState,updatedSelection)});}selectedBlocksList.map(function(block){var selectedText=block.getText();var li=selectedText===''?'- ':"- ".concat(selectedText);var newBlock=(0,_utils.createNewBlock)(li,'block-list',block.getKey());var newContentState=_this.createNewContentStateFromBlock(newBlock,newEditorState.getCurrentContent());newEditorState=_draftJs.EditorState.push(newEditorState,newContentState);});_this.sendData(newEditorState);return _this.setState({editorState:_draftJs.EditorState.moveFocusToEnd(newEditorState)});});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"addBlock",function(text){var nextBlockKey=_this.getNextBlockKey(_this.getCurrentAnchorKey())||(0,_draftJs.genKey)();var newBlock=(0,_utils.createNewBlock)(text,'header',nextBlockKey);var newContentState=_this.createNewContentStateFromBlock(newBlock);var newEditorState=_this.createNewEditorState(newContentState,text);return _this.setState({editorState:newEditorState},function(){_this.focus();});});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"addSimpleBlockWithSelection",function(content,style){var selectedText=_this.getSelectedText();var _getBlockContent2=(0,_helpers.getBlockContent)(style),innerContent=_getBlockContent2.innerContent,endReplacer=_getBlockContent2.endReplacer,startReplacer=_getBlockContent2.startReplacer;var defaultContent=selectedText===''?(0,_lodash.replace)(content,'textToReplace',innerContent):(0,_lodash.replace)(content,'textToReplace',selectedText);var newBlock=(0,_utils.createNewBlock)(defaultContent);var newContentState=_this.createNewContentStateFromBlock(newBlock);var _getDefaultSelectionO2=(0,_helpers.getDefaultSelectionOffsets)(defaultContent,startReplacer,endReplacer),anchorOffset=_getDefaultSelectionO2.anchorOffset,focusOffset=_getDefaultSelectionO2.focusOffset;var newEditorState=_this.createNewEditorState(newContentState,defaultContent);var updatedSelection=(0,_helpers.getOffSets)(_this.getSelection()).start===0?_this.getSelection().merge({anchorOffset:anchorOffset,focusOffset:focusOffset}):new _draftJs.SelectionState({anchorKey:newBlock.getKey(),anchorOffset:anchorOffset,focusOffset:focusOffset,focusKey:newBlock.getKey(),isBackward:false});newEditorState=_draftJs.EditorState.acceptSelection(newEditorState,updatedSelection);return _this.setState({editorState:_draftJs.EditorState.forceSelection(newEditorState,newEditorState.getSelection())});});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"createNewEditorState",function(newContentState,text){var newEditorState;if((0,_helpers.getOffSets)(_this.getSelection()).start!==0){newEditorState=_draftJs.EditorState.push(_this.getEditorState(),newContentState);}else{var textWithEntity=_this.modifyBlockContent(text);newEditorState=_draftJs.EditorState.push(_this.getEditorState(),textWithEntity,'insert-characters');}return newEditorState;});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"createNewBlockMap",function(newBlock,contentState){return contentState.getBlockMap().set(newBlock.key,newBlock);});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"createNewContentStateFromBlock",function(newBlock){var contentState=arguments.length>1&&arguments[1]!==undefined?arguments[1]:_this.getEditorState().getCurrentContent();return _draftJs.ContentState.createFromBlockArray(_this.createNewBlockMap(newBlock,contentState).toArray()).set('selectionBefore',contentState.getSelectionBefore()).set('selectionAfter',contentState.getSelectionAfter());});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"getCharactersNumber",function(){var editorState=arguments.length>0&&arguments[0]!==undefined?arguments[0]:_this.getEditorState();var plainText=editorState.getCurrentContent().getPlainText();var spacesNumber=plainText.split(' ').length;return(0,_lodash.words)(plainText).join('').length+spacesNumber-1;});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"getEditorState",function(){return _this.state.editorState;});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"getSelection",function(){return _this.getEditorState().getSelection();});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"getCurrentAnchorKey",function(){return _this.getSelection().getAnchorKey();});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"getCurrentContentBlock",function(){return _this.getEditorState().getCurrentContent().getBlockForKey(_this.getSelection().getAnchorKey());});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"getNextBlockKey",function(currentBlockKey){var editorState=arguments.length>1&&arguments[1]!==undefined?arguments[1]:_this.getEditorState();return editorState.getCurrentContent().getKeyAfter(currentBlockKey);});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"getSelectedText",function(){var _ref=arguments.length>0&&arguments[0]!==undefined?arguments[0]:(0,_helpers.getOffSets)(_this.getSelection()),start=_ref.start,end=_ref.end;return _this.getCurrentContentBlock().getText().slice(start,end);});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"handleBlur",function(){var target={name:_this.props.name,type:'textarea',value:_this.getEditorState().getCurrentContent().getPlainText()};_this.props.onBlur({target:target});_this.blur();});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"handleChangeSelect",function(_ref2){var target=_ref2.target;_this.setState({headerValue:target.value});var selectedText=_this.getSelectedText();var title=selectedText===''?"".concat(target.value," "):"".concat(target.value," ").concat(selectedText);_this.addBlock(title);return _this.setState({headerValue:''});});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"handleClickPreview",function(){return _this.setState({isPreviewMode:!_this.state.isPreviewMode});});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"handleDragEnter",function(e){e.preventDefault();e.stopPropagation();if(!_this.state.isDraging){_this.setState({isDraging:true});}});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"handleDragLeave",function(){return _this.setState({isDraging:false});});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"handleDragOver",function(e){e.preventDefault();e.stopPropagation();});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"handleDrop",function(e){e.preventDefault();if(_this.state.isPreviewMode){return _this.setState({isDraging:false});}var files=e.dataTransfer?e.dataTransfer.files:e.target.files;return _this.uploadFile(files);});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"handleKeyCommand",function(command,editorState){var newState=_draftJs.RichUtils.handleKeyCommand(editorState,command);if(command==='bold'||command==='italic'||command==='underline'){var _getKeyCommandData=(0,_helpers.getKeyCommandData)(command),content=_getKeyCommandData.content,style=_getKeyCommandData.style;_this.addContent(content,style);return false;}if(newState&&command!=='backspace'){_this.onChange(newState);return true;}return false;});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"handlePastedFiles",function(files){return _this.uploadFile(files);});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"handleReturn",function(e,editorState){var selection=editorState.getSelection();var currentBlock=editorState.getCurrentContent().getBlockForKey(selection.getStartKey());if(currentBlock.getText().split('')[0]==='-'){_this.addUlBlock();return true;}if(currentBlock.getText().split('.').length>1&&!(0,_lodash.isNaN)(parseInt(currentBlock.getText().split('.')[0],10))){_this.addOlBlock();return true;}return false;});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"mapKeyToEditorCommand",function(e){if(e.keyCode===9/* TAB */){var newEditorState=_draftJs.RichUtils.onTab(e,_this.state.editorState,4/* maxDepth */);if(newEditorState!==_this.state.editorState){_this.onChange(newEditorState);}return;}return(0,_draftJs.getDefaultKeyBinding)(e);});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"modifyBlockContent",function(text){var contentState=arguments.length>1&&arguments[1]!==undefined?arguments[1]:_this.getEditorState().getCurrentContent();return _draftJs.Modifier.replaceText(contentState,_this.getSelection(),text);});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"onChange",function(editorState){_this.setState({editorState:editorState});_this.sendData(editorState);});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"handleTab",function(e){e.preventDefault();var newEditorState=(0,_utils.onTab)(_this.getEditorState());return _this.onChange(newEditorState);});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"sendData",function(editorState){if(_this.getEditorState().getCurrentContent()!==editorState.getCurrentContent()||editorState.getLastChangeType()==='remove-range'){_this.props.onChange({target:{value:editorState.getCurrentContent().getPlainText(),name:_this.props.name,type:'textarea'}});}else return;});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"toggleFullScreen",function(e){e.preventDefault();_this.setState({isFullscreen:!_this.state.isFullscreen,isPreviewMode:false});});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"uploadFile",function(files){var formData=new FormData();formData.append('files',files[0]);var headers={};var newEditorState=_this.getEditorState();var nextBlocks=(0,_utils.getNextBlocksList)(newEditorState,_this.getSelection().getStartKey());// Loop to update each block after the inserted li
nextBlocks.map(function(block,index){// Update the current block
var nextBlockText=index===0?"![Uploading ".concat(files[0].name,"]()"):nextBlocks.get(index-1).getText();var newBlock=(0,_utils.createNewBlock)(nextBlockText,'unstyled',block.getKey());// Update the contentState
var newContentState=_this.createNewContentStateFromBlock(newBlock,newEditorState.getCurrentContent());newEditorState=_draftJs.EditorState.push(newEditorState,newContentState);});var offset="![Uploading ".concat(files[0].name,"]()").length;var updatedSelection=(0,_utils.updateSelection)(_this.getSelection(),nextBlocks,offset);_this.setState({editorState:_draftJs.EditorState.acceptSelection(newEditorState,updatedSelection)});return(0,_strapiHelperPlugin.request)('/upload',{method:'POST',headers:headers,body:formData},false,false).then(function(response){var nextBlockKey=newEditorState.getCurrentContent().getKeyAfter(newEditorState.getSelection().getStartKey());var content="![text](".concat(response[0].url,")");var newContentState=_this.createNewContentStateFromBlock((0,_utils.createNewBlock)(content,'unstyled',nextBlockKey));newEditorState=_draftJs.EditorState.push(newEditorState,newContentState);var updatedSelection=(0,_utils.updateSelection)(_this.getSelection(),nextBlocks,2);_this.sendData(newEditorState);_this.setState({editorState:_draftJs.EditorState.acceptSelection(newEditorState,updatedSelection)});})["catch"](function(){_this.setState({editorState:_draftJs.EditorState.undo(_this.getEditorState())});})["finally"](function(){_this.setState({isDraging:false});});});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"renderDrop",function(){return _react["default"].createElement(_WysiwygDropUpload["default"],{onDrop:_this.handleDrop,onDragOver:_this.handleDragOver,onDragLeave:_this.handleDragLeave});});_this.state={editorState:_draftJs.EditorState.createEmpty(),isDraging:false,isFocused:false,isFullscreen:false,isPreviewMode:false,headerValue:''};_this.focus=function(){_this.setState({isFocused:true});return _this.domEditor.focus();};_this.blur=function(){_this.setState({isFocused:false});return _this.domEditor.blur();};return _this;}(0,_createClass2["default"])(Wysiwyg,[{key:"componentDidMount",value:function componentDidMount(){if(this.props.autoFocus){this.focus();}if(!(0,_lodash.isEmpty)(this.props.value)){this.setInitialValue(this.props);}}},{key:"shouldComponentUpdate",value:function shouldComponentUpdate(nextProps,nextState){if(nextState.editorState!==this.state.editorState){return true;}if(nextProps.resetProps!==this.props.resetProps){return true;}if(nextState.isDraging!==this.state.isDraging){return true;}if(nextState.isFocused!==this.state.isFocused){return true;}if(nextState.isFullscreen!==this.state.isFullscreen){return true;}if(nextState.isPreviewMode!==this.state.isPreviewMode){return true;}if(nextState.headerValue!==this.state.headerValue){return true;}if(nextProps.error!==this.props.error){return true;}return false;}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){// Handle resetProps
if(prevProps.resetProps!==this.props.resetProps){this.setInitialValue(this.props);}}/**
   * Init the editor with data from
   * @param {[type]} props [description]
   */},{key:"render",value:function render(){var _this2=this;var _this$state=this.state,editorState=_this$state.editorState,isPreviewMode=_this$state.isPreviewMode,isFullscreen=_this$state.isFullscreen;var editorStyle=isFullscreen?{marginTop:'0'}:this.props.style;return _react["default"].createElement(_WysiwygProvider["default"],{handleChangeSelect:this.handleChangeSelect,headerValue:this.state.headerValue,html:this.props.value,isPreviewMode:this.state.isPreviewMode,isFullscreen:this.state.isFullscreen,placeholder:this.props.placeholder},_react["default"].createElement(_EditorWrapper["default"],{isFullscreen:isFullscreen},_react["default"].createElement("div",{className:(0,_classnames["default"])('editorWrapper',!this.props.deactivateErrorHighlight&&this.props.error&&'editorError',!(0,_lodash.isEmpty)(this.props.className)&&this.props.className),onClick:function onClick(e){if(isFullscreen){e.preventDefault();e.stopPropagation();}},onDragEnter:this.handleDragEnter,onDragOver:this.handleDragOver,style:editorStyle},this.state.isDraging&&this.renderDrop(),_react["default"].createElement("div",{className:"controlsContainer"},_react["default"].createElement(_customSelect["default"],null),_constants.CONTROLS.map(function(value,key){return _react["default"].createElement(_WysiwygInlineControls["default"],{key:key,buttons:value,disabled:isPreviewMode,editorState:editorState,handlers:{addContent:_this2.addContent,addOlBlock:_this2.addOlBlock,addSimpleBlockWithSelection:_this2.addSimpleBlockWithSelection,addUlBlock:_this2.addUlBlock},onToggle:_this2.toggleInlineStyle,onToggleBlock:_this2.toggleBlockType});}),!isFullscreen?_react["default"].createElement(_toggleMode["default"],{isPreviewMode:isPreviewMode,onClick:this.handleClickPreview}):_react["default"].createElement("div",{style:{marginRight:'10px'}})),isPreviewMode?_react["default"].createElement(_previewWysiwyg["default"],{data:this.props.value}):_react["default"].createElement("div",{className:(0,_classnames["default"])('editor',isFullscreen&&'editorFullScreen'),onClick:this.focus},_react["default"].createElement(_WysiwygEditor["default"],{blockStyleFn:_helpers.getBlockStyle,editorState:editorState,handleKeyCommand:this.handleKeyCommand,handlePastedFiles:this.handlePastedFiles,handleReturn:this.handleReturn,keyBindingFn:this.mapKeyToEditorCommand,onBlur:this.handleBlur,onChange:this.onChange,onTab:this.handleTab,placeholder:this.props.placeholder,setRef:function setRef(editor){return _this2.domEditor=editor;},stripPastedStyles:true,tabIndex:this.props.tabIndex}),_react["default"].createElement("input",{className:"editorInput",tabIndex:"-1"})),!isFullscreen&&_react["default"].createElement(_WysiwygBottomControls["default"],{isPreviewMode:isPreviewMode,onClick:this.toggleFullScreen,onChange:this.handleDrop})),isFullscreen&&_react["default"].createElement("div",{className:(0,_classnames["default"])('editorWrapper'),onClick:function onClick(e){e.preventDefault();e.stopPropagation();},style:{marginTop:'0'}},_react["default"].createElement(_previewControl["default"],{onClick:this.toggleFullScreen,characters:this.getCharactersNumber()}),_react["default"].createElement(_previewWysiwyg["default"],{data:this.props.value}))));}}]);return Wysiwyg;}(_react["default"].Component);Wysiwyg.defaultProps={autoFocus:false,className:'',deactivateErrorHighlight:false,error:false,onBlur:function onBlur(){},onChange:function onChange(){},placeholder:'',resetProps:false,style:{},tabIndex:'0',value:''};Wysiwyg.propTypes={autoFocus:_propTypes["default"].bool,className:_propTypes["default"].string,deactivateErrorHighlight:_propTypes["default"].bool,error:_propTypes["default"].bool,name:_propTypes["default"].string.isRequired,onBlur:_propTypes["default"].func,onChange:_propTypes["default"].func,placeholder:_propTypes["default"].string,resetProps:_propTypes["default"].bool,style:_propTypes["default"].object,tabIndex:_propTypes["default"].string,value:_propTypes["default"].string};var _default=Wysiwyg;exports["default"]=_default;

/***/ }),

/***/ 2116:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _objectWithoutProperties2=_interopRequireDefault(__webpack_require__(26));var _react=_interopRequireDefault(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _Wysiwyg=_interopRequireDefault(__webpack_require__(1910));function WysiwygProvider(_ref){var children=_ref.children,rest=(0,_objectWithoutProperties2["default"])(_ref,["children"]);return _react["default"].createElement(_Wysiwyg["default"].Provider,{value:rest},children);}WysiwygProvider.propTypes={children:_propTypes["default"].node.isRequired};var _default=WysiwygProvider;exports["default"]=_default;

/***/ }),

/***/ 2117:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _Button=_interopRequireDefault(__webpack_require__(2118));var _Wrapper=_interopRequireDefault(__webpack_require__(2130));/**
 *
 * WysiwygInlineControls
 *
 */var WysiwygInlineControls=function WysiwygInlineControls(_ref){var buttons=_ref.buttons,disabled=_ref.disabled,editorState=_ref.editorState,handlers=_ref.handlers,onToggle=_ref.onToggle,onToggleBlock=_ref.onToggleBlock;var selection=editorState.getSelection();var blockType=editorState.getCurrentContent().getBlockForKey(selection.getStartKey()).getType();var currentStyle=editorState.getCurrentInlineStyle();return _react["default"].createElement(_Wrapper["default"],null,buttons.map(function(type){return _react["default"].createElement(_Button["default"],{key:type.label,active:type.style===blockType||currentStyle.has(type.style),className:type.className,disabled:disabled,handler:type.handler,handlers:handlers,hideLabel:type.hideLabel||false,label:type.label,onToggle:onToggle,onToggleBlock:onToggleBlock,style:type.style,text:type.text});}));};WysiwygInlineControls.defaultProps={buttons:[],disabled:false,onToggle:function onToggle(){},onToggleBlock:function onToggleBlock(){}};WysiwygInlineControls.propTypes={buttons:_propTypes["default"].array,disabled:_propTypes["default"].bool,editorState:_propTypes["default"].object.isRequired,handlers:_propTypes["default"].object.isRequired,onToggle:_propTypes["default"].func,onToggleBlock:_propTypes["default"].func};var _default=WysiwygInlineControls;exports["default"]=_default;

/***/ }),

/***/ 2118:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _Bold=_interopRequireDefault(__webpack_require__(2119));var _Code=_interopRequireDefault(__webpack_require__(2120));var _Media=_interopRequireDefault(__webpack_require__(2121));var _Italic=_interopRequireDefault(__webpack_require__(2122));var _Link=_interopRequireDefault(__webpack_require__(2123));var _Ol=_interopRequireDefault(__webpack_require__(2124));var _Quote=_interopRequireDefault(__webpack_require__(2125));var _Striked=_interopRequireDefault(__webpack_require__(2126));var _Ul=_interopRequireDefault(__webpack_require__(2127));var _Underline=_interopRequireDefault(__webpack_require__(2128));var _StyledButton=_interopRequireDefault(__webpack_require__(2129));var icons={bold:_Bold["default"],italic:_Italic["default"],underline:_Underline["default"],ul:_Ul["default"],ol:_Ol["default"],link:_Link["default"],quote:_Quote["default"],code:_Code["default"],striked:_Striked["default"],img:_Media["default"]};var Button=function Button(_ref){var active=_ref.active,disabled=_ref.disabled,type=_ref.className,handler=_ref.handler,handlers=_ref.handlers,hideLabel=_ref.hideLabel,label=_ref.label,style=_ref.style,text=_ref.text;var handleClick=function handleClick(e){e.preventDefault();handlers[handler](text,style);};var Icon=icons[type];return _react["default"].createElement(_StyledButton["default"],{active:active,disabled:disabled,onClick:handleClick,type:type},icons[type]&&_react["default"].createElement(Icon,null),!hideLabel&&label);};Button.defaultProps={active:false,className:'',disabled:false,hideLabel:false,label:'',style:'',text:''};Button.propTypes={active:_propTypes["default"].bool,className:_propTypes["default"].string,disabled:_propTypes["default"].bool,handler:_propTypes["default"].string.isRequired,handlers:_propTypes["default"].object.isRequired,hideLabel:_propTypes["default"].bool,label:_propTypes["default"].string,style:_propTypes["default"].string,text:_propTypes["default"].string};var _default=Button;exports["default"]=_default;

/***/ }),

/***/ 2119:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var Bold=function Bold(){return _react["default"].createElement("svg",{width:"9",height:"10",xmlns:"http://www.w3.org/2000/svg"},_react["default"].createElement("text",{transform:"translate(-12 -10)",fill:"#333740",fillRule:"evenodd",fontSize:"13",fontFamily:"Baskerville-SemiBold, Baskerville",fontWeight:"500"},_react["default"].createElement("tspan",{x:"12",y:"20"},"B")));};var _default=Bold;exports["default"]=_default;

/***/ }),

/***/ 2120:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var Code=function Code(){return _react["default"].createElement("svg",{width:"12",height:"8",xmlns:"http://www.w3.org/2000/svg"},_react["default"].createElement("g",{fill:"#333740",fillRule:"evenodd"},_react["default"].createElement("path",{d:"M3.653 7.385a.632.632 0 0 1-.452-.191L.214 4.154a.66.66 0 0 1 0-.922L3.201.19a.632.632 0 0 1 .905 0 .66.66 0 0 1 0 .921l-2.534 2.58 2.534 2.58a.66.66 0 0 1 0 .922.632.632 0 0 1-.453.19zM8.347 7.385a.632.632 0 0 0 .452-.191l2.987-3.04a.66.66 0 0 0 0-.922L8.799.19a.632.632 0 0 0-.905 0 .66.66 0 0 0 0 .921l2.534 2.58-2.534 2.58a.66.66 0 0 0 0 .922c.125.127.289.19.453.19z"})));};var _default=Code;exports["default"]=_default;

/***/ }),

/***/ 2121:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var Media=function Media(){return _react["default"].createElement("svg",{width:"12",height:"11",xmlns:"http://www.w3.org/2000/svg"},_react["default"].createElement("g",{fill:"#333740",fillRule:"evenodd"},_react["default"].createElement("path",{d:"M9 4.286a1.286 1.286 0 1 0 0-2.572 1.286 1.286 0 0 0 0 2.572z"}),_react["default"].createElement("path",{d:"M11.25 0H.75C.332 0 0 .34 0 .758v8.77c0 .418.332.758.75.758h10.5c.418 0 .75-.34.75-.758V.758A.752.752 0 0 0 11.25 0zM8.488 5.296a.46.46 0 0 0-.342-.167c-.137 0-.234.065-.343.153l-.501.423c-.105.075-.188.126-.308.126a.443.443 0 0 1-.295-.11 3.5 3.5 0 0 1-.115-.11L5.143 4.054a.59.59 0 0 0-.897.008L.857 8.148V1.171a.353.353 0 0 1 .351-.314h9.581a.34.34 0 0 1 .346.322l.008 6.975-2.655-2.858z"})));};var _default=Media;exports["default"]=_default;

/***/ }),

/***/ 2122:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var Italic=function Italic(){return _react["default"].createElement("svg",{width:"6",height:"9",xmlns:"http://www.w3.org/2000/svg"},_react["default"].createElement("text",{transform:"translate(-13 -11)",fill:"#333740",fillRule:"evenodd",fontWeight:"500",fontSize:"13",fontFamily:"Baskerville-SemiBoldItalic, Baskerville",fontStyle:"italic"},_react["default"].createElement("tspan",{x:"13",y:"20"},"I")));};var _default=Italic;exports["default"]=_default;

/***/ }),

/***/ 2123:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var Link=function Link(){return _react["default"].createElement("svg",{width:"12",height:"6",xmlns:"http://www.w3.org/2000/svg"},_react["default"].createElement("g",{fill:"none",fillRule:"evenodd"},_react["default"].createElement("path",{d:"M6.063 1.5H6h.063z",fill:"#000"}),_react["default"].createElement("path",{d:"M9.516 0H8s.813.531.988 1.5h.528c.55 0 .984.434.984.984v1c0 .55-.434 1.016-.984 1.016h-3.5A1.03 1.03 0 0 1 5 3.484V2.5H3.5v.984A2.518 2.518 0 0 0 6.016 6h3.5C10.896 6 12 4.866 12 3.484v-1A2.473 2.473 0 0 0 9.516 0z",fill:"#333740"}),_react["default"].createElement("path",{d:"M8.3 1.5A2.473 2.473 0 0 0 6.016 0h-3.5C1.134 0 0 1.103 0 2.484v1A2.526 2.526 0 0 0 2.516 6H4s-.806-.531-1.003-1.5h-.481A1.03 1.03 0 0 1 1.5 3.484v-1c0-.55.466-.984 1.016-.984h3.5c.55 0 .984.434.984.984V3.5h1.5V2.484c0-.35-.072-.684-.2-.984z",fill:"#333740"})));};var _default=Link;exports["default"]=_default;

/***/ }),

/***/ 2124:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var Ol=function Ol(){return _react["default"].createElement("svg",{width:"12",height:"8",xmlns:"http://www.w3.org/2000/svg"},_react["default"].createElement("g",{fill:"#333740",fillRule:"evenodd"},_react["default"].createElement("path",{d:"M2.4 3H.594v-.214h.137c.123 0 .212-.01.266-.032.053-.022.086-.052.1-.092a.67.67 0 0 0 .018-.188V.74a.46.46 0 0 0-.03-.194C1.064.504 1.021.476.955.46A1.437 1.437 0 0 0 .643.435H.539V.23c.332-.035.565-.067.7-.096.135-.03.258-.075.37-.134h.275v2.507c0 .104.023.177.07.218.047.04.14.061.278.061H2.4V3zM2.736 6.695l-.132.528h-.246a.261.261 0 0 0 .015-.074c0-.058-.049-.087-.146-.087H.293v-.198c.258-.173.511-.367.76-.581.25-.215.457-.437.623-.667.166-.23.249-.447.249-.653a.49.49 0 0 0-.321-.478.794.794 0 0 0-.582-.006.482.482 0 0 0-.196.138.284.284 0 0 0-.07.182c0 .074.04.17.12.289.006.008.009.015.009.02 0 .012-.041.03-.123.053l-.19.057a.693.693 0 0 1-.115.03c-.031 0-.067-.038-.108-.114a.516.516 0 0 1 .071-.586.899.899 0 0 1 .405-.238c.18-.058.4-.087.657-.087.317 0 .566.044.749.132.183.087.306.187.37.3a.64.64 0 0 1 .094.312c0 .197-.089.389-.266.575a5.296 5.296 0 0 1-.916.74 62.947 62.947 0 0 1-.62.413h1.843zM4 0h8v1H4zM4 2h8v1H4zM4 4h8v1H4zM4 6h8v1H4z"})));};var _default=Ol;exports["default"]=_default;

/***/ }),

/***/ 2125:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var Quote=function Quote(){return _react["default"].createElement("svg",{width:"9",height:"9",xmlns:"http://www.w3.org/2000/svg"},_react["default"].createElement("g",{fill:"#333740",fillRule:"evenodd"},_react["default"].createElement("path",{d:"M3 0C2.047 0 1.301.263.782.782.263 1.302 0 2.047 0 3v6h3.75V3H1.5c0-.54.115-.93.343-1.157C2.07 1.615 2.46 1.5 3 1.5M8.25 0c-.953 0-1.699.263-2.218.782-.519.52-.782 1.265-.782 2.218v6H9V3H6.75c0-.54.115-.93.343-1.157.227-.228.617-.343 1.157-.343"})));};var _default=Quote;exports["default"]=_default;

/***/ }),

/***/ 2126:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var Striked=function Striked(){return _react["default"].createElement("svg",{width:"19",height:"10",xmlns:"http://www.w3.org/2000/svg"},_react["default"].createElement("g",{fill:"none",fillRule:"evenodd"},_react["default"].createElement("text",{fontFamily:"Lato-Semibold, Lato",fontSize:"11",fontWeight:"500",fill:"#41464E",transform:"translate(0 -2)"},_react["default"].createElement("tspan",{x:"1",y:"11"},"abc")),_react["default"].createElement("path",{d:"M.5 6.5h18",stroke:"#2C3039",strokeLinecap:"square"})));};var _default=Striked;exports["default"]=_default;

/***/ }),

/***/ 2127:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var Ul=function Ul(){return _react["default"].createElement("svg",{width:"13",height:"7",xmlns:"http://www.w3.org/2000/svg"},_react["default"].createElement("g",{fill:"none",fillRule:"evenodd"},_react["default"].createElement("path",{fill:"#333740",d:"M5 0h8v1H5zM5 2h8v1H5zM5 4h8v1H5zM5 6h8v1H5z"}),_react["default"].createElement("rect",{stroke:"#333740",x:".5",y:".5",width:"2",height:"2",rx:"1"}),_react["default"].createElement("rect",{stroke:"#333740",x:".5",y:"4.5",width:"2",height:"2",rx:"1"})));};var _default=Ul;exports["default"]=_default;

/***/ }),

/***/ 2128:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var Underline=function Underline(){return _react["default"].createElement("svg",{width:"10",height:"10",xmlns:"http://www.w3.org/2000/svg"},_react["default"].createElement("text",{transform:"translate(-10 -11)",fill:"#101622",fillRule:"evenodd",fontSize:"13",fontFamily:"Baskerville-SemiBold, Baskerville",fontWeight:"500"},_react["default"].createElement("tspan",{x:"10",y:"20"},"U")));};var _default=Underline;exports["default"]=_default;

/***/ }),

/***/ 2129:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireWildcard=__webpack_require__(8);var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(5));var _styledComponents=_interopRequireWildcard(__webpack_require__(4));function _templateObject3(){var data=(0,_taggedTemplateLiteral2["default"])(["\n        opacity: 0.7;\n        cursor: not-allowed;\n      "]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=(0,_taggedTemplateLiteral2["default"])(["\n        border: 0;\n        background: rgba(16, 22, 34, 0);\n        box-shadow: inset 0 -1px 0 0 rgba(16, 22, 34, 0.04),\n          inset 0 1px 0 0 rgba(16, 22, 34, 0.04);\n      "]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  display: flex;\n  height: 32px;\n  min-width: 32px;\n  background-color: #ffffff;\n  border: 1px solid rgba(16, 22, 34, 0.1);\n  font-size: 13px;\n  font-weight: 500;\n  line-height: 32px;\n  text-align: center;\n  cursor: pointer;\n\n  &:hover {\n    background-color: #f3f4f4;\n  }\n  &:active,\n  &:focus {\n    outline: 0;\n  }\n\n  ","\n\n  > svg {\n    margin: auto;\n    > text {\n      font-family: Baskerville-SemiBoldItalic, Baskerville;\n    }\n  }\n\n  background-position: center;\n  background-repeat: no-repeat;\n"]);_templateObject=function _templateObject(){return data;};return data;}var Button=_styledComponents["default"].button(_templateObject(),function(_ref){var active=_ref.active,disabled=_ref.disabled;if(active){return(0,_styledComponents.css)(_templateObject2());}if(disabled){return(0,_styledComponents.css)(_templateObject3());}});var _default=Button;exports["default"]=_default;

/***/ }),

/***/ 2130:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(5));var _styledComponents=_interopRequireDefault(__webpack_require__(4));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  height: 49px;\n  display: flex;\n  padding: 8px 3px 0 10px;\n  background-color: #f3f4f4;\n  user-select: none;\n  overflow-x: auto;\n  > button:nth-child(even) {\n    border-left: 0;\n    border-right: 0;\n  }\n  > button:first-child {\n    border-top-left-radius: 3px;\n    border-bottom-left-radius: 3px;\n  }\n  > button:last-child {\n    border-top-right-radius: 3px;\n    border-bottom-right-radius: 3px;\n    border-right: 1px solid rgba(16, 22, 34, 0.1);\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var Wrapper=_styledComponents["default"].div(_templateObject());var _default=Wrapper;exports["default"]=_default;

/***/ }),

/***/ 2131:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var _Label=_interopRequireDefault(__webpack_require__(2132));/**
 *
 * WysiwygDropUpload
 *
 */var WysiwygDropUpload=function WysiwygDropUpload(props){return _react["default"].createElement(_Label["default"],props,_react["default"].createElement("input",{onChange:function onChange(){},type:"file",tabIndex:"-1"}));};var _default=WysiwygDropUpload;exports["default"]=_default;

/***/ }),

/***/ 2132:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(5));var _styledComponents=_interopRequireDefault(__webpack_require__(4));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  background-color: rgba(28, 93, 231, 0.01);\n\n  > input {\n    display: none;\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var Label=_styledComponents["default"].label(_templateObject());var _default=Label;exports["default"]=_default;

/***/ }),

/***/ 2133:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _reactIntl=__webpack_require__(20);var _components=__webpack_require__(2134);/**
 *
 * WysiwygBottomControls
 *
 */var WysiwygBottomControls=function WysiwygBottomControls(_ref){var isPreviewMode=_ref.isPreviewMode,onChange=_ref.onChange,onClick=_ref.onClick;var browse=_react["default"].createElement(_reactIntl.FormattedMessage,{id:"components.WysiwygBottomControls.uploadFiles.browse"},function(message){return _react["default"].createElement(_components.Span,null,message);});return _react["default"].createElement(_components.Wrapper,null,_react["default"].createElement("div",null,_react["default"].createElement("label",{className:"dropLabel",onClick:function onClick(e){if(isPreviewMode){e.preventDefault();}}},_react["default"].createElement(_reactIntl.FormattedMessage,{id:"components.WysiwygBottomControls.uploadFiles",values:{browse:browse}}),_react["default"].createElement("input",{type:"file",onChange:onChange}))),_react["default"].createElement("div",{className:"fullScreenWrapper",onClick:onClick},_react["default"].createElement(_reactIntl.FormattedMessage,{id:"components.WysiwygBottomControls.fullscreen"})));};WysiwygBottomControls.defaultProps={isPreviewMode:false,onChange:function onChange(){},onClick:function onClick(){}};WysiwygBottomControls.propTypes={isPreviewMode:_propTypes["default"].bool,onChange:_propTypes["default"].func,onClick:_propTypes["default"].func};var _default=WysiwygBottomControls;exports["default"]=_default;

/***/ }),

/***/ 2134:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports.Wrapper=exports.Span=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(5));var _styledComponents=_interopRequireDefault(__webpack_require__(4));function _templateObject2(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  display: flex;\n  height: 30px;\n  width: 100%;\n  padding: 0 15px;\n  justify-content: space-between;\n  background-color: #fafafb;\n  line-height: 30px;\n  font-size: 13px;\n  font-family: Lato;\n  border-top: 1px dashed #e3e4e4;\n\n  > div:first-child {\n    > span:last-child {\n      font-size: 12px;\n    }\n  }\n\n  .fullScreenWrapper {\n    cursor: pointer;\n    &:after {\n      content: '\f065';\n      margin-left: 8px;\n      font-family: FontAwesome;\n      font-size: 12px;\n    }\n  }\n\n  .dropLabel {\n    > input {\n      display: none;\n    }\n  }\n"],["\n  display: flex;\n  height: 30px;\n  width: 100%;\n  padding: 0 15px;\n  justify-content: space-between;\n  background-color: #fafafb;\n  line-height: 30px;\n  font-size: 13px;\n  font-family: Lato;\n  border-top: 1px dashed #e3e4e4;\n\n  > div:first-child {\n    > span:last-child {\n      font-size: 12px;\n    }\n  }\n\n  .fullScreenWrapper {\n    cursor: pointer;\n    &:after {\n      content: '\\f065';\n      margin-left: 8px;\n      font-family: FontAwesome;\n      font-size: 12px;\n    }\n  }\n\n  .dropLabel {\n    > input {\n      display: none;\n    }\n  }\n"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  color: #1c5de7;\n  text-decoration: underline;\n  cursor: pointer;\n"]);_templateObject=function _templateObject(){return data;};return data;}var Span=_styledComponents["default"].span(_templateObject());exports.Span=Span;var Wrapper=_styledComponents["default"].div(_templateObject2());exports.Wrapper=Wrapper;

/***/ }),

/***/ 2135:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var _strapiHelperPlugin=__webpack_require__(10);var _useWysiwyg2=_interopRequireDefault(__webpack_require__(2136));var _constants=__webpack_require__(1911);var _SelectWrapper=_interopRequireDefault(__webpack_require__(2137));/**
 *
 *
 * CustomSelect
 *
 */var CustomSelect=function CustomSelect(){var _useWysiwyg=(0,_useWysiwyg2["default"])(),isPreviewMode=_useWysiwyg.isPreviewMode,headerValue=_useWysiwyg.headerValue,isFullscreen=_useWysiwyg.isFullscreen,handleChangeSelect=_useWysiwyg.handleChangeSelect;return _react["default"].createElement(_SelectWrapper["default"],{isFullscreen:isFullscreen},_react["default"].createElement(_strapiHelperPlugin.InputSelect,{disabled:isPreviewMode,name:"headerSelect",onChange:handleChangeSelect,value:headerValue,selectOptions:_constants.SELECT_OPTIONS}));};var _default=CustomSelect;exports["default"]=_default;

/***/ }),

/***/ 2136:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=__webpack_require__(1);var _Wysiwyg=_interopRequireDefault(__webpack_require__(1910));var useWysiwyg=function useWysiwyg(){return(0,_react.useContext)(_Wysiwyg["default"]);};var _default=useWysiwyg;exports["default"]=_default;

/***/ }),

/***/ 2137:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireWildcard=__webpack_require__(8);var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(5));var _styledComponents=_interopRequireWildcard(__webpack_require__(4));function _templateObject3(){var data=(0,_taggedTemplateLiteral2["default"])(["\n          margin-right: 5px;\n        "]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=(0,_taggedTemplateLiteral2["default"])(["\n          min-width: 110px !important;\n        "]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  min-width: ","\n  margin-left: 15px;\n  > select {\n    ","\n    box-shadow: 0 0 0 rgba(0, 0, 0, 0) !important;\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var SelectWrapper=_styledComponents["default"].div(_templateObject(),function(_ref){var isFullScreen=_ref.isFullScreen;return isFullScreen?'161px':'115px';},function(_ref2){var isFullScreen=_ref2.isFullScreen;if(isFullScreen){return(0,_styledComponents.css)(_templateObject2());}else{return(0,_styledComponents.css)(_templateObject3());}});var _default=SelectWrapper;exports["default"]=_default;

/***/ }),

/***/ 2138:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _reactIntl=__webpack_require__(20);var _PreviewControlWrapper=_interopRequireDefault(__webpack_require__(2139));/**
 *
 *
 * PreviewControl
 *
 */var PreviewControl=function PreviewControl(_ref){var onClick=_ref.onClick;return _react["default"].createElement(_PreviewControlWrapper["default"],{onClick:onClick},_react["default"].createElement("div",null),_react["default"].createElement("div",{className:"wysiwygCollapse"},_react["default"].createElement(_reactIntl.FormattedMessage,{id:"components.Wysiwyg.collapse"})));};PreviewControl.defaultProps={onClick:function onClick(){}};PreviewControl.propTypes={onClick:_propTypes["default"].func};var _default=PreviewControl;exports["default"]=_default;

/***/ }),

/***/ 2139:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(5));var _styledComponents=_interopRequireDefault(__webpack_require__(4));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  display: flex;\n  height: 49px;\n  width: 100%;\n  padding: 0 17px;\n  justify-content: space-between;\n  background-color: #fafafb;\n  line-height: 30px;\n  font-size: 12px;\n  font-family: Lato;\n  background-color: #fff;\n  border-bottom: 1px solid #f3f4f4;\n  line-height: 49px;\n  font-size: 13px;\n  > div:first-child {\n    > span:last-child {\n      font-size: 12px;\n    }\n  }\n  cursor: pointer;\n\n  .wysiwygCollapse {\n    &:after {\n      content: '\f066';\n      font-family: FontAwesome;\n      margin-left: 8px;\n    }\n  }\n"],["\n  display: flex;\n  height: 49px;\n  width: 100%;\n  padding: 0 17px;\n  justify-content: space-between;\n  background-color: #fafafb;\n  line-height: 30px;\n  font-size: 12px;\n  font-family: Lato;\n  background-color: #fff;\n  border-bottom: 1px solid #f3f4f4;\n  line-height: 49px;\n  font-size: 13px;\n  > div:first-child {\n    > span:last-child {\n      font-size: 12px;\n    }\n  }\n  cursor: pointer;\n\n  .wysiwygCollapse {\n    &:after {\n      content: '\\f066';\n      font-family: FontAwesome;\n      margin-left: 8px;\n    }\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var PreviewControlWrapper=_styledComponents["default"].div(_templateObject());var _default=PreviewControlWrapper;exports["default"]=_default;

/***/ }),

/***/ 2140:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _classCallCheck2=_interopRequireDefault(__webpack_require__(13));var _createClass2=_interopRequireDefault(__webpack_require__(14));var _possibleConstructorReturn2=_interopRequireDefault(__webpack_require__(16));var _getPrototypeOf3=_interopRequireDefault(__webpack_require__(17));var _assertThisInitialized2=_interopRequireDefault(__webpack_require__(12));var _inherits2=_interopRequireDefault(__webpack_require__(18));var _defineProperty2=_interopRequireDefault(__webpack_require__(11));var _react=_interopRequireDefault(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _draftJs=__webpack_require__(1880);var _immutable=__webpack_require__(31);var _lodash=__webpack_require__(9);var _Wysiwyg=_interopRequireDefault(__webpack_require__(1910));var _WysiwygEditor=_interopRequireDefault(__webpack_require__(1955));var _converter=_interopRequireDefault(__webpack_require__(2141));var _strategies=__webpack_require__(2143);var _PreviewWysiwygWrapper=_interopRequireDefault(__webpack_require__(2144));var _image=_interopRequireDefault(__webpack_require__(2145));var _link=_interopRequireDefault(__webpack_require__(2146));var _video=_interopRequireDefault(__webpack_require__(2147));/**
 *
 * PreviewWysiwyg
 *
 */ /* eslint-disable react/no-unused-state */function getBlockStyle(block){switch(block.getType()){case'blockquote':return'editorBlockquote';case'code-block':return'editorCodeBlock';case'unstyled':return'editorParagraph';case'unordered-list-item':return'unorderedList';case'ordered-list-item':case'header-one':case'header-two':case'header-three':case'header-four':case'header-five':case'header-six':default:return null;}}var decorator=new _draftJs.CompositeDecorator([{strategy:_strategies.findLinkEntities,component:_link["default"]},{strategy:_strategies.findImageEntities,component:_image["default"]},{strategy:_strategies.findVideoEntities,component:_video["default"]},{strategy:_strategies.findAtomicEntities,component:_link["default"]}]);var getBlockSpecForElement=function getBlockSpecForElement(aElement){return{contentType:'link',aHref:aElement.href,aInnerHTML:aElement.innerHTML};};var elementToBlockSpecElement=function elementToBlockSpecElement(element){return wrapBlockSpec(getBlockSpecForElement(element));};var wrapBlockSpec=function wrapBlockSpec(blockSpec){if(blockSpec==null){return null;}var tempEl=document.createElement('blockquote');// stringify meta data and insert it as text content of temp HTML element. We will later extract
// and parse it.
tempEl.innerText=JSON.stringify(blockSpec);return tempEl;};var replaceElement=function replaceElement(oldEl,newEl){if(!(newEl instanceof HTMLElement)){return;}var parentNode=oldEl.parentNode;return parentNode.replaceChild(newEl,oldEl);};var aReplacer=function aReplacer(aElement){return replaceElement(aElement,elementToBlockSpecElement(aElement));};var createContentBlock=function createContentBlock(){var blockData=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var key=blockData.key,type=blockData.type,text=blockData.text,data=blockData.data,inlineStyles=blockData.inlineStyles,entityData=blockData.entityData;var blockSpec={type:type!==null&&type!==undefined?type:'unstyled',text:text!==null&&text!==undefined?text:'',key:key!==null&&key!==undefined?key:(0,_draftJs.genKey)()};if(data){blockSpec.data=(0,_immutable.fromJS)(data);}if(inlineStyles||entityData){var entityKey;if(entityData){var _type=entityData.type,mutability=entityData.mutability,_data=entityData.data;entityKey=_draftJs.Entity.create(_type,mutability,_data);}else{entityKey=null;}var style=(0,_immutable.OrderedSet)(inlineStyles||[]);var charData=_draftJs.CharacterMetadata.applyEntity(_draftJs.CharacterMetadata.create({style:style,entityKey:entityKey}),entityKey);blockSpec.characterList=(0,_immutable.List)((0,_immutable.Repeat)(charData,text.length));}return new _draftJs.ContentBlock(blockSpec);};var PreviewWysiwyg=/*#__PURE__*/function(_React$PureComponent){(0,_inherits2["default"])(PreviewWysiwyg,_React$PureComponent);function PreviewWysiwyg(){var _getPrototypeOf2;var _this;(0,_classCallCheck2["default"])(this,PreviewWysiwyg);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=(0,_possibleConstructorReturn2["default"])(this,(_getPrototypeOf2=(0,_getPrototypeOf3["default"])(PreviewWysiwyg)).call.apply(_getPrototypeOf2,[this].concat(args)));(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"state",{editorState:_draftJs.EditorState.createEmpty(),isMounted:false});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"previewHTML",function(rawContent){var initHtml=(0,_lodash.isEmpty)(rawContent)?'<p></p>':rawContent;var html=new DOMParser().parseFromString(_converter["default"].makeHtml(initHtml),'text/html');(0,_lodash.toArray)(html.getElementsByTagName('a'))// Retrieve all the links <a> tags
.filter(function(value){return value.getElementsByTagName('img').length>0;})// Filter by checking if they have any <img> children
.forEach(aReplacer);// Change those links into <blockquote> elements so we can set some metacharacters with the img content
// TODO:
// in the same way, retrieve all <pre> tags
// create custom atomic block
// create custom code block
var blocksFromHTML=(0,_draftJs.convertFromHTML)(html.body.innerHTML);if(blocksFromHTML.contentBlocks){blocksFromHTML=blocksFromHTML.contentBlocks.reduce(function(acc,block){if(block.getType()==='blockquote'){try{var _JSON$parse=JSON.parse(block.getText()),aHref=_JSON$parse.aHref,aInnerHTML=_JSON$parse.aInnerHTML;var entityData={type:'LINK',mutability:'IMMUTABLE',data:{aHref:aHref,aInnerHTML:aInnerHTML}};var blockSpec=Object.assign({type:'atomic',text:' ',key:block.getKey()},{entityData:entityData});var atomicBlock=createContentBlock(blockSpec);// Create an atomic block so we can identify it easily
return acc.concat([atomicBlock]);}catch(err){return acc.concat(block);}}return acc.concat(block);},[]);var contentState=_draftJs.ContentState.createFromBlockArray(blocksFromHTML);return _this.setState({editorState:_draftJs.EditorState.createWithContent(contentState,decorator)});}return _this.setState({editorState:_draftJs.EditorState.createEmpty()});});return _this;}(0,_createClass2["default"])(PreviewWysiwyg,[{key:"componentDidMount",value:function componentDidMount(){var data=this.props.data;this.setState({isMounted:true});if(!(0,_lodash.isEmpty)(data)){this.previewHTML(data);}}// NOTE: This is not optimal and this lifecycle should be removed
// I couldn't find a better way to decrease the fullscreen preview's data conversion time
// Trying with componentDidUpdate didn't work
},{key:"UNSAFE_componentWillUpdate",value:function UNSAFE_componentWillUpdate(nextProps,nextState){var _this2=this;if(nextProps.data!==this.props.data){new Promise(function(resolve){setTimeout(function(){if(nextProps.data===_this2.props.data&&nextState.isMounted){// I use an handler here to update the state which is fine since the condition above prevent
// from entering into an infinite loop
_this2.previewHTML(nextProps.data);}resolve();},300);});}}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.setState({isMounted:false});}},{key:"render",value:function render(){var placeholder=this.context.placeholder;return _react["default"].createElement(_PreviewWysiwygWrapper["default"],{isFullscreen:this.context.isFullscreen},_react["default"].createElement(_WysiwygEditor["default"],{blockStyleFn:getBlockStyle,editorState:this.state.editorState,onChange:function onChange(){},placeholder:placeholder}),_react["default"].createElement("input",{className:"editorInput",value:"",onChange:function onChange(){},tabIndex:"-1"}));}}]);return PreviewWysiwyg;}(_react["default"].PureComponent);(0,_defineProperty2["default"])(PreviewWysiwyg,"contextType",_Wysiwyg["default"]);PreviewWysiwyg.defaultProps={data:''};PreviewWysiwyg.propTypes={data:_propTypes["default"].string};var _default=PreviewWysiwyg;exports["default"]=_default;

/***/ }),

/***/ 2141:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _showdown=_interopRequireDefault(__webpack_require__(2142));var converterOptions={backslashEscapesHTMLTags:true,emoji:true,parseImgDimensions:true,simpleLineBreaks:true,simplifiedAutoLink:true,smoothLivePreview:true,splitAdjacentBlockquotes:false,strikethrough:true,tables:true,tasklists:true,underline:true};var converter=new _showdown["default"].Converter(converterOptions);var _default=converter;exports["default"]=_default;

/***/ }),

/***/ 2143:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});exports.findAtomicEntities=findAtomicEntities;exports.findLinkEntities=findLinkEntities;exports.findImageEntities=findImageEntities;exports.findVideoEntities=findVideoEntities;/* eslint-disable no-unused-vars */function findLinkEntities(contentBlock,callback,contentState){contentBlock.findEntityRanges(function(character){var entityKey=character.getEntity();return entityKey!==null&&contentState.getEntity(entityKey).getType()==='LINK';},callback);}function findAtomicEntities(contentBlock,callback,contentState){contentBlock.findEntityRanges(function(character){var entityKey=character.getEntity();return entityKey!==null&&contentBlock.getType()==='atomic';},callback);}function findImageEntities(contentBlock,callback,contentState){contentBlock.findEntityRanges(function(character){var entityKey=character.getEntity();return entityKey!==null&&contentState.getEntity(entityKey).getType()==='IMAGE'&&!isVideoType(contentState.getEntity(entityKey).getData().src);},callback);}function findVideoEntities(contentBlock,cb,contentState){contentBlock.findEntityRanges(function(character){var entityKey=character.getEntity();return entityKey!==null&&contentState.getEntity(entityKey).getType()==='IMAGE'&&isVideoType(contentState.getEntity(entityKey).getData().src);},cb);}var isVideoType=function isVideoType(fileName){return /\.(mp4|mpg|mpeg|mov|avi)$/i.test(fileName);};

/***/ }),

/***/ 2144:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireWildcard=__webpack_require__(8);var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(5));var _styledComponents=_interopRequireWildcard(__webpack_require__(4));function _templateObject2(){var data=(0,_taggedTemplateLiteral2["default"])(["\n        max-height: calc(100% - 70px) !important;\n        margin-bottom: 0;\n        margin-top: 9px;\n        padding: 10px 20px;\n        overflow: auto;\n      "]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  max-height: 555px;\n  min-height: 294px;\n  overflow: auto;\n  padding: 20px 20px 0 20px;\n  font-size: 16px;\n  background-color: #fff;\n  line-height: 24px !important;\n  font-family: 'Lato';\n  cursor: text;\n\n  // TODO define rules for header's margin\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6 {\n    margin: 0;\n    line-height: 24px !important;\n    font-family: 'Lato';\n  }\n\n  h1 {\n    margin-top: 11px !important;\n    font-size: 36px;\n    font-weight: 600;\n  }\n\n  h2 {\n    margin-top: 26px;\n    font-size: 30px;\n    font-weight: 500;\n  }\n\n  h3 {\n    margin-top: 26px;\n    font-size: 24px;\n    font-weight: 500;\n  }\n\n  h4 {\n    margin-top: 26px;\n    font-size: 20px;\n    font-weight: 500;\n  }\n\n  > div {\n    > div {\n      > div {\n        margin-bottom: 32px;\n      }\n    }\n  }\n\n  li {\n    margin-top: 0;\n  }\n\n  ul,\n  ol {\n    padding: 0;\n    margin-top: 27px;\n  }\n\n  ol {\n    padding-left: 20px;\n  }\n\n  // NOTE: we might need this later\n  span {\n    white-space: pre-line;\n  }\n\n  h1 + .editorParagraph {\n    margin-top: 31px;\n  }\n\n  .editorParagraph + * {\n    margin-bottom: -2px !important;\n  }\n\n  .editorParagraph + .editorBlockquote {\n    margin-bottom: 32px !important;\n  }\n\n  .editorBlockquote + ul {\n    margin-top: 38px !important;\n  }\n\n  .editorParagraph {\n    color: #333740;\n    margin-top: 27px;\n    margin-bottom: -3px;\n    font-size: 16px;\n    font-weight: 400;\n  }\n\n  .editorBlockquote {\n    margin-top: 41px;\n    margin-bottom: 34px;\n    font-size: 16px;\n    font-weight: 400;\n    border-left: 5px solid #eee;\n    font-style: italic;\n    padding: 10px 20px;\n  }\n\n  .unorderedList {\n    padding: 0;\n    margin-left: 18px;\n  }\n\n  .editorCodeBlock {\n    padding: 16px;\n    margin-top: 26px;\n    padding-bottom: 0;\n    background-color: rgba(0, 0, 0, 0.05);\n    border-radius: 3px;\n\n    span {\n      font-family: Consolas, monospace !important;\n      font-size: 12px;\n      line-height: 16px;\n      white-space: pre;\n    }\n  }\n\n  .editorInput {\n    height: 0;\n    width: 0;\n  }\n\n  ","\n"]);_templateObject=function _templateObject(){return data;};return data;}var PreviewWysiwygWrapper=_styledComponents["default"].div(_templateObject(),function(_ref){var isFullscreen=_ref.isFullscreen;if(isFullscreen){return(0,_styledComponents.css)(_templateObject2());}});var _default=PreviewWysiwygWrapper;exports["default"]=_default;

/***/ }),

/***/ 2145:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));/**
 *
 * Image
 *
 */var Image=function Image(props){var _props$contentState$g=props.contentState.getEntity(props.entityKey).getData(),alt=_props$contentState$g.alt,height=_props$contentState$g.height,src=_props$contentState$g.src,width=_props$contentState$g.width;return _react["default"].createElement("img",{alt:alt,src:src,height:height,width:width,style:{maxWidth:'100%'}});};Image.propTypes={contentState:_propTypes["default"].object.isRequired,entityKey:_propTypes["default"].string.isRequired};var _default=Image;exports["default"]=_default;

/***/ }),

/***/ 2146:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _lodash=__webpack_require__(9);/**
 *
 * Link
 *
 */var Link=function Link(props){var _props$contentState$g=props.contentState.getEntity(props.entityKey).getData(),url=_props$contentState$g.url,aHref=_props$contentState$g.aHref,aInnerHTML=_props$contentState$g.aInnerHTML;var content=aInnerHTML;if((0,_lodash.includes)(aInnerHTML,'<img','src=')){var src=aInnerHTML.split('src="')[1].split('" ')[0];var width=(0,_lodash.includes)(aInnerHTML,'width=')?aInnerHTML.split('width="')[1].split('" ')[0]:'';var height=(0,_lodash.includes)(aInnerHTML,'height=')?aInnerHTML.split('height="')[1].split('" ')[0]:'';content=_react["default"].createElement("img",{src:src,alt:"img",width:width,height:height,style:{marginTop:'27px',maxWidth:'100%'}});}return _react["default"].createElement("a",{href:url||aHref,onClick:function onClick(){window.open(url||aHref,'_blank');},style:{cursor:'pointer'}},content||props.children);};Link.defaultProps={children:''};Link.propTypes={children:_propTypes["default"].node,contentState:_propTypes["default"].object.isRequired,entityKey:_propTypes["default"].string.isRequired};var _default=Link;exports["default"]=_default;

/***/ }),

/***/ 2147:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));/**
 *
 * Video
 *
 */var Video=function Video(props){var _props$contentState$g=props.contentState.getEntity(props.entityKey).getData(),height=_props$contentState$g.height,src=_props$contentState$g.src,width=_props$contentState$g.width;return _react["default"].createElement("video",{height:height,width:width,style:{maxWidth:'100%'},controls:true},_react["default"].createElement("source",{src:src}));};Video.propTypes={contentState:_propTypes["default"].object.isRequired,entityKey:_propTypes["default"].string.isRequired};var _default=Video;exports["default"]=_default;

/***/ }),

/***/ 2148:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var _reactIntl=__webpack_require__(20);var _propTypes=_interopRequireDefault(__webpack_require__(2));var _ToggleModeWrapper=_interopRequireDefault(__webpack_require__(2149));/**
 *
 *
 * ToggleMode
 */var ToggleMode=function ToggleMode(props){var label=props.isPreviewMode?'components.Wysiwyg.ToggleMode.markdown':'components.Wysiwyg.ToggleMode.preview';return _react["default"].createElement(_ToggleModeWrapper["default"],null,_react["default"].createElement(_reactIntl.FormattedMessage,{id:label},function(msg){return _react["default"].createElement("button",{type:"button",className:"toggleModeButton",onClick:props.onClick},msg);}));};ToggleMode.defaultProps={isPreviewMode:false,onClick:function onClick(){}};ToggleMode.propTypes={isPreviewMode:_propTypes["default"].bool,onClick:_propTypes["default"].func};var _default=ToggleMode;exports["default"]=_default;

/***/ }),

/***/ 2149:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(5));var _styledComponents=_interopRequireDefault(__webpack_require__(4));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  margin-left: auto;\n  padding-right: 15px;\n  padding-top: 8px;\n\n  .toggleModeButton {\n    height: 32px;\n    min-width: 32px;\n    padding-left: 10px;\n    padding-right: 10px;\n    border: 1px solid rgba(16, 22, 34, 0.1);\n    border-radius: 3px;\n    background: #f3f4f4;\n    font-size: 13px;\n    font-weight: 500;\n    text-align: center;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    white-space: nowrap;\n    cursor: pointer;\n    &:focus,\n    &:active {\n      outline: 0;\n    }\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var ToggleModeWrapper=_styledComponents["default"].div(_templateObject());var _default=ToggleModeWrapper;exports["default"]=_default;

/***/ }),

/***/ 2150:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});exports.getBlockStyle=getBlockStyle;exports.getBlockContent=getBlockContent;exports.getOffSets=getOffSets;exports.getKeyCommandData=getKeyCommandData;exports.getDefaultSelectionOffsets=void 0;var _lodash=__webpack_require__(9);/**
 * Override the editor css
 * @param  {[type]} block [description]
 * @return {[type]}       [description]
 */function getBlockStyle(){return null;}function getBlockContent(style){switch(style){case'IMG':return{innerContent:'link',endReplacer:')',startReplacer:'![text]('};case'CODE':return{innerContent:'code block',endReplacer:'`',startReplacer:'`'};case'BLOCKQUOTE':return{innerContent:'quote',endReplacer:'',startReplacer:'> '};case'BOLD':return{innerContent:'bold text',endReplacer:'*',startReplacer:'*'};case'ITALIC':return{innerContent:'italic text',endReplacer:'*',startReplacer:'*'};case'STRIKED':return{innerContent:'striked out',endReplacer:'~',startReplacer:'~'};case'UNDERLINE':return{innerContent:'underlined text',endReplacer:'_',startReplacer:'_'};case'LINK':return{innerContent:'link',endReplacer:')',startReplacer:'[text]('};default:return{innerContent:'',endReplacer:'',startReplacer:''};}}var getDefaultSelectionOffsets=function getDefaultSelectionOffsets(content,startReplacer,endReplacer){var initPosition=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;return{anchorOffset:initPosition+content.length-(0,_lodash.trimStart)(content,startReplacer).length,focusOffset:initPosition+(0,_lodash.trimEnd)(content,endReplacer).length};};/**
 * Get the start and end offset
 * @param  {Object} selection
 * @return {Object}
 */exports.getDefaultSelectionOffsets=getDefaultSelectionOffsets;function getOffSets(selection){return{end:selection.getEndOffset(),start:selection.getStartOffset()};}function getKeyCommandData(command){var content;var style;switch(command){case'bold':content='**textToReplace**';style='BOLD';break;case'italic':content='*textToReplace*';style='ITALIC';break;case'underline':content='__textToReplace__';style='UNDERLINE';break;default:content='';style='';}return{content:content,style:style};}

/***/ }),

/***/ 2151:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});exports.createNewBlock=createNewBlock;exports.getNextBlocksList=getNextBlocksList;exports.updateSelection=updateSelection;exports.getSelectedBlocksList=getSelectedBlocksList;exports.onTab=onTab;var _draftJs=__webpack_require__(1880);var _immutable=__webpack_require__(31);var _constants=__webpack_require__(1911);/**
 *
 * Utils
 *
 */function createNewBlock(){var text=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';var type=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'unstyled';var key=arguments.length>2&&arguments[2]!==undefined?arguments[2]:(0,_draftJs.genKey)();return new _draftJs.ContentBlock({key:key,type:type,text:text,charaterList:(0,_immutable.List)([])});}function getNextBlocksList(editorState,startKey){return editorState.getCurrentContent().getBlockMap().toSeq().skipUntil(function(_,k){return k===startKey;}).toList().shift().concat([createNewBlock()]);}function updateSelection(selection,blocks,offset){return selection.merge({anchorKey:blocks.get(0).getKey(),focusKey:blocks.get(0).getKey(),anchorOffset:offset,focusOffset:offset});}function getSelectedBlocksList(editorState){var selectionState=editorState.getSelection();var contentState=editorState.getCurrentContent();var startKey=selectionState.getStartKey();var endKey=selectionState.getEndKey();var blockMap=contentState.getBlockMap();return blockMap.toSeq().skipUntil(function(_,k){return k===startKey;}).takeUntil(function(_,k){return k===endKey;}).concat([[endKey,blockMap.get(endKey)]]).toList();}function onTab(editorState){var contentState=editorState.getCurrentContent();var selection=editorState.getSelection();var newContentState;if(selection.isCollapsed()){newContentState=_draftJs.Modifier.insertText(contentState,selection,_constants.DEFAULT_INDENTATION);}else{newContentState=_draftJs.Modifier.replaceText(contentState,selection,_constants.DEFAULT_INDENTATION);}return _draftJs.EditorState.push(editorState,newContentState,'insert-characters');}

/***/ }),

/***/ 2152:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireWildcard=__webpack_require__(8);var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(5));var _styledComponents=_interopRequireWildcard(__webpack_require__(4));function _templateObject2(){var data=(0,_taggedTemplateLiteral2["default"])(["\n        position: fixed;\n        z-index: 1040;\n        top: calc(6rem + 90px);\n        left: calc(24rem + 28px);\n        right: 28px;\n        bottom: 32px;\n        display: flex;\n        background-color: transparent;\n        z-index: 99999;\n\n        > div {\n          min-width: 50%;\n        }\n        > div:first-child {\n          border-top-right-radius: 0;\n          border-bottom-right-radius: 0;\n        }\n        > div:last-child {\n          border-left: 0;\n          border-top-left-radius: 0;\n          border-bottom-left-radius: 0;\n        }\n        .editorWrapper {\n          border-color: #f3f4f4 !important;\n        }\n      "]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  ","\n\n  .controlsContainer {\n    display: flex;\n    box-sizing: border-box;\n    background-color: #f3f4f4;\n\n    select {\n      min-height: 31px !important;\n      min-width: 161px !important;\n      font-weight: 600;\n      outline: none;\n\n      &:focus,\n      &:active {\n        border: 1px solid #e3e9f3;\n      }\n    }\n  }\n\n  .editorWrapper {\n    min-height: 320px;\n    margin-top: 0.9rem;\n    border: 1px solid #f3f4f4;\n    border-radius: 0.25rem;\n    line-height: 18px !important;\n    font-size: 13px;\n    box-shadow: 0px 1px 1px rgba(104, 118, 142, 0.05);\n    background-color: #fff;\n    position: relative;\n  }\n\n  .editorError {\n    border-color: #ff203c !important;\n  }\n\n  .editor {\n    min-height: 294px;\n    max-height: 555px;\n    padding: 20px 20px 0 20px;\n    font-size: 13px;\n    background-color: #fff;\n    line-height: 18px !important;\n    cursor: text;\n    overflow: auto;\n\n    h1,\n    h2,\n    h3,\n    h4,\n    h5,\n    h6 {\n      margin: 0;\n      line-height: 18px !important;\n    }\n    h1 {\n      margin-top: 13px !important;\n      margin-bottom: 22px;\n    }\n    > div {\n      > div {\n        > div {\n          margin-bottom: 32px;\n        }\n      }\n    }\n    li {\n      margin-top: 0;\n    }\n    ul,\n    ol {\n      margin-bottom: 18px;\n    }\n  }\n\n  .editorFullScreen {\n    max-height: calc(100% - 70px) !important;\n    margin-bottom: 0;\n    overflow: auto;\n  }\n\n  .editorInput {\n    height: 0;\n    width: 0;\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var EditorWrapper=_styledComponents["default"].div(_templateObject(),function(_ref){var isFullscreen=_ref.isFullscreen;if(isFullscreen){return(0,_styledComponents.css)(_templateObject2());}});var _default=EditorWrapper;exports["default"]=_default;

/***/ }),

/***/ 2153:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(5));var _styledComponents=_interopRequireDefault(__webpack_require__(4));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  padding-bottom: 2.4rem;\n  font-size: 1.3rem;\n  font-family: 'Lato'; \n  label {\n    display: block;\n    margin-bottom: 1rem;\n  }\n  &.bordered {\n    .editorWrapper {\n      border-color: red;\n    }\n  }\n  > div + p {\n    width 100%;\n    padding-top: 12px;\n    font-size: 1.2rem;\n    line-height: normal;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    margin-bottom: -9px;\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var Wrapper=_styledComponents["default"].div(_templateObject());var _default=Wrapper;exports["default"]=_default;

/***/ }),

/***/ 2154:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireWildcard=__webpack_require__(8);var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _slicedToArray2=_interopRequireDefault(__webpack_require__(37));var _react=_interopRequireWildcard(__webpack_require__(1));var _reactDnd=__webpack_require__(355);var _propTypes=_interopRequireDefault(__webpack_require__(2));var _lodash=__webpack_require__(9);var _reactIntl=__webpack_require__(20);var _styles=__webpack_require__(21);var _pluginId=_interopRequireDefault(__webpack_require__(104));var _useDataManager2=_interopRequireDefault(__webpack_require__(1865));var _ItemTypes=_interopRequireDefault(__webpack_require__(639));var _AddFieldButton=_interopRequireDefault(__webpack_require__(2155));var _DraggedItem=_interopRequireDefault(__webpack_require__(2156));var _EmptyComponent=_interopRequireDefault(__webpack_require__(2158));var _init=_interopRequireDefault(__webpack_require__(2159));var _reducer=_interopRequireWildcard(__webpack_require__(2160));var RepeatableComponent=function RepeatableComponent(_ref){var componentUid=_ref.componentUid,componentValue=_ref.componentValue,componentValueLength=_ref.componentValueLength,fields=_ref.fields,isNested=_ref.isNested,max=_ref.max,min=_ref.min,name=_ref.name,schema=_ref.schema;var _useDataManager=(0,_useDataManager2["default"])(),addRepeatableComponentToField=_useDataManager.addRepeatableComponentToField,formErrors=_useDataManager.formErrors;var _useDrop=(0,_reactDnd.useDrop)({accept:_ItemTypes["default"].COMPONENT}),_useDrop2=(0,_slicedToArray2["default"])(_useDrop,2),drop=_useDrop2[1];var componentErrorKeys=Object.keys(formErrors).filter(function(errorKey){return(0,_lodash.take)(errorKey.split('.'),isNested?3:1).join('.')===name;}).map(function(errorKey){return errorKey.split('.').slice(0,name.split('.').length+1).join('.');});// We need to synchronize the collapses array with the data
// The key needed for react in the list will be the one from the collapses data
// This way we don't have to mutate the data when it is received and we can use a unique key
var _useReducer=(0,_react.useReducer)(_reducer["default"],_reducer.initialState,function(){return(0,_init["default"])(_reducer.initialState,componentValue);}),_useReducer2=(0,_slicedToArray2["default"])(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];var _state$toJS=state.toJS(),collapses=_state$toJS.collapses;var toggleCollapses=function toggleCollapses(index){dispatch({type:'TOGGLE_COLLAPSE',index:index});};var missingComponentsValue=min-componentValueLength;var errorsArray=componentErrorKeys.map(function(key){return(0,_lodash.get)(formErrors,[key,'id'],'');});var hasMinError=(0,_lodash.get)(errorsArray,[0],'').includes('min')&&!collapses.some(function(obj){return obj.isOpen===true;});return _react["default"].createElement("div",null,componentValueLength===0&&_react["default"].createElement(_EmptyComponent["default"],{hasMinError:hasMinError},_react["default"].createElement(_reactIntl.FormattedMessage,{id:"".concat(_pluginId["default"],".components.empty-repeatable")},function(msg){return _react["default"].createElement("p",null,msg);})),_react["default"].createElement("div",{ref:drop},componentValueLength>0&&componentValue.map(function(data,index){var componentFieldName="".concat(name,".").concat(index);var doesPreviousFieldContainErrorsAndIsOpen=componentErrorKeys.includes("".concat(name,".").concat(index-1))&&index!==0&&(0,_lodash.get)(collapses,[index-1,'isOpen'],false)===false;var hasErrors=componentErrorKeys.includes(componentFieldName);return _react["default"].createElement(_DraggedItem["default"],{fields:fields,componentFieldName:componentFieldName,doesPreviousFieldContainErrorsAndIsOpen:doesPreviousFieldContainErrorsAndIsOpen,hasErrors:hasErrors,hasMinError:hasMinError,isFirst:index===0,isOpen:(0,_lodash.get)(collapses,[index,'isOpen'],false),key:(0,_lodash.get)(collapses,[index,'_temp__id'],null),onClickToggle:function onClickToggle(){// Close all other collapses and open the selected one
toggleCollapses(index);},removeCollapse:function removeCollapse(){dispatch({type:'REMOVE_COLLAPSE',index:index});},moveCollapse:function moveCollapse(dragIndex,hoverIndex){dispatch({type:'MOVE_COLLAPSE',dragIndex:dragIndex,hoverIndex:hoverIndex});},parentName:name,schema:schema,toggleCollapses:toggleCollapses});})),_react["default"].createElement(_AddFieldButton["default"],{hasMinError:hasMinError,withBorderRadius:false,doesPreviousFieldContainErrorsAndIsClosed:componentValueLength>0&&componentErrorKeys.includes("".concat(name,".").concat(componentValueLength-1))&&collapses[componentValueLength-1].isOpen===false,type:"button",onClick:function onClick(){if(componentValueLength<max){var shouldCheckErrors=hasMinError;addRepeatableComponentToField(name,componentUid,shouldCheckErrors);dispatch({type:'ADD_NEW_FIELD'});}else if(componentValueLength>=max){strapi.notification.info("".concat(_pluginId["default"],".components.notification.info.maximum-requirement"));}}},_react["default"].createElement("i",{className:"fa fa-plus"}),_react["default"].createElement(_reactIntl.FormattedMessage,{id:"".concat(_pluginId["default"],".containers.EditView.add.new")})),hasMinError&&_react["default"].createElement(_styles.ErrorMessage,null,_react["default"].createElement(_reactIntl.FormattedMessage,{id:"".concat(_pluginId["default"],".components.DynamicZone.missing").concat(missingComponentsValue>1?'.plural':'.singular'),values:{count:missingComponentsValue}})));};RepeatableComponent.defaultProps={componentValue:null,componentValueLength:0,fields:[],isNested:false,max:Infinity,min:-Infinity};RepeatableComponent.propTypes={componentUid:_propTypes["default"].string.isRequired,componentValue:_propTypes["default"].oneOfType([_propTypes["default"].array,_propTypes["default"].object]),componentValueLength:_propTypes["default"].number,fields:_propTypes["default"].array,isNested:_propTypes["default"].bool,max:_propTypes["default"].number,min:_propTypes["default"].number,name:_propTypes["default"].string.isRequired,schema:_propTypes["default"].object.isRequired};var _default=RepeatableComponent;exports["default"]=_default;

/***/ }),

/***/ 2155:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireWildcard=__webpack_require__(8);var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(5));var _styledComponents=_interopRequireWildcard(__webpack_require__(4));function _templateObject2(){var data=(0,_taggedTemplateLiteral2["default"])(["\n        border-radius: 2px;\n      "]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  width: 100%;\n  height: 37px;\n  margin-bottom: 21px;\n  padding: 0 0 3px 0;\n  text-align: center;\n  border: 1px solid rgba(227, 233, 243, 0.75);\n  border-top: 1px solid\n    ",";\n\n  border-bottom-left-radius: 2px;\n  border-bottom-right-radius: 2px;\n  ","\n\n  ","\n\n  color: #007eff;\n  font-size: 12px;\n  font-weight: 700;\n  -webkit-font-smoothing: antialiased;\n  line-height: normal;\n  cursor: pointer;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n  background-color: #fff;\n  &:focus {\n    outline: 0;\n  }\n  > i,\n  svg {\n    margin-right: 10px;\n  }\n  & + p {\n    margin-bottom: 17px;\n    margin-top: -18px;\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var Button=_styledComponents["default"].button(_templateObject(),function(_ref){var doesPreviousFieldContainErrorsAndIsClosed=_ref.doesPreviousFieldContainErrorsAndIsClosed;return doesPreviousFieldContainErrorsAndIsClosed?'#FFA784':'rgba(227, 233, 243, 0.75)';},function(_ref2){var withBorderRadius=_ref2.withBorderRadius;if(withBorderRadius){return(0,_styledComponents.css)(_templateObject2());}},function(_ref3){var hasMinError=_ref3.hasMinError;if(hasMinError){return"\n        border-color: #FAA684;\n        border-top-color: rgba(227, 233, 243, 0.75);\n      ";}});var _default=Button;exports["default"]=_default;

/***/ }),

/***/ 2156:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireWildcard=__webpack_require__(8);var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _slicedToArray2=_interopRequireDefault(__webpack_require__(37));var _toConsumableArray2=_interopRequireDefault(__webpack_require__(44));var _react=_interopRequireWildcard(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _lodash=__webpack_require__(9);var _reactstrap=__webpack_require__(79);var _reactDnd=__webpack_require__(355);var _reactDndHtml5Backend=__webpack_require__(641);var _useDataManager2=_interopRequireDefault(__webpack_require__(1865));var _useEditView2=_interopRequireDefault(__webpack_require__(1878));var _ItemTypes=_interopRequireDefault(__webpack_require__(639));var _Inputs=_interopRequireDefault(__webpack_require__(1896));var _FieldComponent=_interopRequireDefault(__webpack_require__(1879));var _Banner=_interopRequireDefault(__webpack_require__(647));var _FormWrapper=_interopRequireDefault(__webpack_require__(2157));// Issues:
// https://github.com/react-dnd/react-dnd/issues/1368
// https://github.com/frontend-collective/react-sortable-tree/issues/490
var DraggedItem=function DraggedItem(_ref){var componentFieldName=_ref.componentFieldName,doesPreviousFieldContainErrorsAndIsOpen=_ref.doesPreviousFieldContainErrorsAndIsOpen,fields=_ref.fields,hasErrors=_ref.hasErrors,hasMinError=_ref.hasMinError,isFirst=_ref.isFirst,isOpen=_ref.isOpen,moveCollapse=_ref.moveCollapse,onClickToggle=_ref.onClickToggle,removeCollapse=_ref.removeCollapse,schema=_ref.schema,toggleCollapses=_ref.toggleCollapses;var _useDataManager=(0,_useDataManager2["default"])(),checkFormErrors=_useDataManager.checkFormErrors,modifiedData=_useDataManager.modifiedData,moveComponentField=_useDataManager.moveComponentField,removeRepeatableField=_useDataManager.removeRepeatableField,triggerFormValidation=_useDataManager.triggerFormValidation;var _useEditView=(0,_useEditView2["default"])(),setIsDraggingComponent=_useEditView.setIsDraggingComponent,unsetIsDraggingComponent=_useEditView.unsetIsDraggingComponent;var mainField=(0,_lodash.get)(schema,['settings','mainField'],'id');var displayedValue=(0,_lodash.get)(modifiedData,[].concat((0,_toConsumableArray2["default"])(componentFieldName.split('.')),[mainField]),null);var dragRef=(0,_react.useRef)(null);var dropRef=(0,_react.useRef)(null);var _useDrop=(0,_reactDnd.useDrop)({accept:_ItemTypes["default"].COMPONENT,canDrop:function canDrop(){return false;},hover:function hover(item,monitor){if(!dropRef.current){return;}var dragPath=item.originalPath;var hoverPath=componentFieldName;var fullPathToComponentArray=dragPath.split('.');var dragIndexString=fullPathToComponentArray.slice().splice(-1).join('');var hoverIndexString=hoverPath.split('.').splice(-1).join('');var pathToComponentArray=fullPathToComponentArray.slice(0,fullPathToComponentArray.length-1);var dragIndex=parseInt(dragIndexString,10);var hoverIndex=parseInt(hoverIndexString,10);// Don't replace items with themselves
if(dragIndex===hoverIndex){return;}// Determine rectangle on screen
var hoverBoundingRect=dropRef.current.getBoundingClientRect();// Get vertical middle
var hoverMiddleY=(hoverBoundingRect.bottom-hoverBoundingRect.top)/2;// Determine mouse position
var clientOffset=monitor.getClientOffset();// Get pixels to the top
var hoverClientY=clientOffset.y-hoverBoundingRect.top;// Only perform the move when the mouse has crossed half of the items height
// When dragging downwards, only move when the cursor is below 50%
// When dragging upwards, only move when the cursor is above 50%
// Dragging downwards
if(dragIndex<hoverIndex&&hoverClientY<hoverMiddleY){return;}// Dragging upwards
if(dragIndex>hoverIndex&&hoverClientY>hoverMiddleY){return;}// Time to actually perform the action in the data
moveComponentField(pathToComponentArray,dragIndex,hoverIndex);// Time to actually perform the action in the synchronized collapses
moveCollapse(dragIndex,hoverIndex);// Note: we're mutating the monitor item here!
// Generally it's better to avoid mutations,
// but it's good here for the sake of performance
// to avoid expensive index searches.
item.originalPath=hoverPath;return;}}),_useDrop2=(0,_slicedToArray2["default"])(_useDrop,2),drop=_useDrop2[1];var _useDrag=(0,_reactDnd.useDrag)({item:{type:_ItemTypes["default"].COMPONENT,displayedValue:displayedValue,originalPath:componentFieldName},begin:function begin(){// Close all collapses
toggleCollapses(-1);// Prevent the relations select from firing requests
setIsDraggingComponent();},end:function end(){// Enable the relations select to fire requests
unsetIsDraggingComponent();// Update the errors
triggerFormValidation();},collect:function collect(monitor){return{isDragging:monitor.isDragging()};}}),_useDrag2=(0,_slicedToArray2["default"])(_useDrag,3),isDragging=_useDrag2[0].isDragging,drag=_useDrag2[1],preview=_useDrag2[2];(0,_react.useEffect)(function(){preview((0,_reactDndHtml5Backend.getEmptyImage)(),{captureDraggingState:false});},[preview]);var getField=function getField(fieldName){return(0,_lodash.get)(schema,['schema','attributes',fieldName],{});};var getMeta=function getMeta(fieldName){return(0,_lodash.get)(schema,['metadatas',fieldName,'edit'],{});};// Create the refs
// We need 1 for the drop target
// 1 for the drag target
var refs={dragRef:drag(dragRef),dropRef:drop(dropRef)};return _react["default"].createElement(_react["default"].Fragment,null,_react["default"].createElement(_Banner["default"],{componentFieldName:componentFieldName,hasErrors:hasErrors,hasMinError:hasMinError,isFirst:isFirst,displayedValue:displayedValue,doesPreviousFieldContainErrorsAndIsOpen:doesPreviousFieldContainErrorsAndIsOpen,isDragging:isDragging,isOpen:isOpen,onClickToggle:onClickToggle,onClickRemove:function onClickRemove(){removeRepeatableField(componentFieldName);removeCollapse();},ref:refs}),_react["default"].createElement(_reactstrap.Collapse,{isOpen:isOpen,style:{backgroundColor:'#FAFAFB'}},!isDragging&&_react["default"].createElement(_FormWrapper["default"],{hasErrors:hasErrors,isOpen:isOpen},fields.map(function(fieldRow,key){return _react["default"].createElement("div",{className:"row",key:key},fieldRow.map(function(field){var currentField=getField(field.name);var isComponent=(0,_lodash.get)(currentField,'type','')==='component';var keys="".concat(componentFieldName,".").concat(field.name);if(isComponent){var componentUid=currentField.component;var metas=getMeta(field.name);return _react["default"].createElement(_FieldComponent["default"],{componentUid:componentUid,isRepeatable:currentField.repeatable,key:field.name,label:metas.label,isNested:true,name:keys,max:currentField.max,min:currentField.min});}return _react["default"].createElement("div",{key:field.name,className:"col-".concat(field.size)},_react["default"].createElement(_Inputs["default"],{autoFocus:false,keys:keys,layout:schema,name:field.name,onChange:function onChange(){},onBlur:hasErrors?checkFormErrors:null}));}));}))));};DraggedItem.defaultProps={doesPreviousFieldContainErrorsAndIsOpen:false,fields:[],hasErrors:false,hasMinError:false,isFirst:false,isOpen:false,moveCollapse:function moveCollapse(){},toggleCollapses:function toggleCollapses(){}};DraggedItem.propTypes={componentFieldName:_propTypes["default"].string.isRequired,doesPreviousFieldContainErrorsAndIsOpen:_propTypes["default"].bool,fields:_propTypes["default"].array,hasErrors:_propTypes["default"].bool,hasMinError:_propTypes["default"].bool,isFirst:_propTypes["default"].bool,isOpen:_propTypes["default"].bool,moveCollapse:_propTypes["default"].func,onClickToggle:_propTypes["default"].func.isRequired,removeCollapse:_propTypes["default"].func.isRequired,schema:_propTypes["default"].object.isRequired,toggleCollapses:_propTypes["default"].func};var _default=DraggedItem;exports["default"]=_default;

/***/ }),

/***/ 2157:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(5));var _styledComponents=_interopRequireDefault(__webpack_require__(4));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  padding-top: 24px;\n  padding-left: 20px;\n  padding-right: 20px;\n  padding-bottom: 10px;\n  border-top: 1px solid\n    ",";\n"]);_templateObject=function _templateObject(){return data;};return data;}var FormWrapper=_styledComponents["default"].div(_templateObject(),function(_ref){var hasErrors=_ref.hasErrors,isOpen=_ref.isOpen;if(hasErrors){return'#ffa784';}else if(isOpen){return'#AED4FB';}else{return'rgba(227, 233, 243, 0.75)';}});var _default=FormWrapper;exports["default"]=_default;

/***/ }),

/***/ 2158:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(5));var _styledComponents=_interopRequireDefault(__webpack_require__(4));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  height: 71px;\n  border: 1px solid rgba(227, 233, 243, 0.75);\n  border-top-left-radius: 2px;\n  border-top-right-radius: 2px;\n  border-bottom: 0;\n  line-height: 66px;\n  text-align: center;\n  background-color: #fff;\n\n  ","\n\n  > p {\n    color: #9ea7b8;\n    font-size: 13px;\n    font-weight: 500;\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var EmptyComponent=_styledComponents["default"].div(_templateObject(),function(_ref){var hasMinError=_ref.hasMinError;if(hasMinError){return"border-color: #FAA684";}});var _default=EmptyComponent;exports["default"]=_default;

/***/ }),

/***/ 2159:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _immutable=__webpack_require__(31);var _lodash=__webpack_require__(9);// Initialize all the fields of the component is the isOpen key to false
// The key will be used to control the open close state of the banner
function init(initialState,componentValue){return initialState.update('collapses',function(list){if((0,_lodash.isArray)(componentValue)){return(0,_immutable.fromJS)(componentValue.map(function(_,i){return{isOpen:false,_temp__id:i};}));}return list;});}var _default=init;exports["default"]=_default;

/***/ }),

/***/ 2160:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});exports.initialState=exports["default"]=void 0;var _immutable=__webpack_require__(31);var initialState=(0,_immutable.fromJS)({collapses:[]});exports.initialState=initialState;var getMax=function getMax(arr){if(arr.size===0){return-1;}return Math.max.apply(Math,arr.toJS().map(function(o){return o._temp__id;}));};var reducer=function reducer(state,action){switch(action.type){case'ADD_NEW_FIELD':return state.update('collapses',function(list){return list.map(function(obj){return obj.update('isOpen',function(){return false;});}).push((0,_immutable.fromJS)({isOpen:true,_temp__id:getMax(list)+1}));});case'MOVE_COLLAPSE':return state.updateIn(['collapses'],function(list){var oldList=list;var newList=list["delete"](action.dragIndex).insert(action.hoverIndex,state.getIn(['collapses',action.dragIndex]));// Fix for
// https://github.com/react-dnd/react-dnd/issues/1368
// https://github.com/frontend-collective/react-sortable-tree/issues/490
if(oldList.size!==newList.size){strapi.notification.error("An error occured while reordering your component's field, please try again");return oldList;}return newList;});case'TOGGLE_COLLAPSE':return state.update('collapses',function(list){return list.map(function(obj,index){if(index===action.index){return obj.update('isOpen',function(v){return!v;});}return obj.update('isOpen',function(){return false;});});});case'REMOVE_COLLAPSE':return state.removeIn(['collapses',action.index]).update('collapses',function(list){return list.map(function(obj){return obj.set('isOpen',false);});}).update('collapses',function(list){if(action.shouldAddEmptyField){return list.push((0,_immutable.fromJS)({isOpen:true}));}return list;});default:return state;}};var _default=reducer;exports["default"]=_default;

/***/ }),

/***/ 2161:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(5));var _styledComponents=_interopRequireDefault(__webpack_require__(4));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  position: absolute;\n  top: -16px;\n  left: 10px;\n  display: flex;\n\n  > .component_name {\n    overflow: hidden;\n    position: relative;\n    width: 31px;\n    height: 31px;\n    padding: 0 11px 0 0px;\n    color: #007eff;\n    font-size: 13px;\n    font-weight: 600;\n    line-height: 26px;\n    border-radius: 31px;\n    border: 2px solid white;\n    background-color: #e6f0fb;\n    transition: all 0.2s ease-out;\n\n    .component_icon {\n      z-index: 1;\n      display: flex;\n      position: absolute;\n      top: -1px;\n      left: -1px;\n      width: 29px;\n      height: 29px;\n      border-radius: 31px;\n      border: 1px solid white;\n      background-color: #e6f0fb;\n\n      i,\n      svg {\n        margin: auto;\n        color: #007eff;\n        font-size: 11px;\n      }\n    }\n\n    &:hover {\n      cursor: pointer;\n      width: auto !important;\n      padding-left: 39px;\n    }\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var ComponentIcon=_styledComponents["default"].div(_templateObject());var _default=ComponentIcon;exports["default"]=_default;

/***/ }),

/***/ 2162:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(5));var _styledComponents=_interopRequireDefault(__webpack_require__(4));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  font-weight: 500;\n  font-size: 13px;\n  margin-bottom: 1rem;\n  display: block;\n"]);_templateObject=function _templateObject(){return data;};return data;}var Label=_styledComponents["default"].label(_templateObject());var _default=Label;exports["default"]=_default;

/***/ }),

/***/ 2163:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(5));var _styledComponents=_interopRequireDefault(__webpack_require__(4));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  position: absolute;\n  top: 0;\n  right: 15px;\n  display: flex;\n\n  cursor: pointer;\n  color: #4b515a;\n\n  > span {\n    margin-right: 10px;\n    display: none;\n  }\n\n  &:hover {\n    > div {\n      background-color: #faa684;\n    }\n    color: #f64d0a;\n    > span {\n      display: initial;\n    }\n  }\n\n  > div {\n    width: 24px;\n    height: 24px;\n    background-color: #f3f4f4;\n    text-align: center;\n    border-radius: 2px;\n    &:after {\n      content: '\f1f8';\n      font-size: 14px;\n      font-family: FontAwesome;\n    }\n  }\n"],["\n  position: absolute;\n  top: 0;\n  right: 15px;\n  display: flex;\n\n  cursor: pointer;\n  color: #4b515a;\n\n  > span {\n    margin-right: 10px;\n    display: none;\n  }\n\n  &:hover {\n    > div {\n      background-color: #faa684;\n    }\n    color: #f64d0a;\n    > span {\n      display: initial;\n    }\n  }\n\n  > div {\n    width: 24px;\n    height: 24px;\n    background-color: #f3f4f4;\n    text-align: center;\n    border-radius: 2px;\n    &:after {\n      content: '\\f1f8';\n      font-size: 14px;\n      font-family: FontAwesome;\n    }\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var ResetComponent=_styledComponents["default"].div(_templateObject());var _default=ResetComponent;exports["default"]=_default;

/***/ }),

/***/ 2164:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(5));var _styledComponents=_interopRequireDefault(__webpack_require__(4));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  position: relative;\n  .row {\n    margin-bottom: 4px;\n  }\n\n  ","\n"]);_templateObject=function _templateObject(){return data;};return data;}var Wrapper=_styledComponents["default"].div(_templateObject(),function(_ref){var isFromDynamicZone=_ref.isFromDynamicZone;if(isFromDynamicZone){return"\n        background-color: #fff;\n      ";}});var _default=Wrapper;exports["default"]=_default;

/***/ }),

/***/ 2165:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(5));var _styledComponents=_interopRequireDefault(__webpack_require__(4));var _PlusButton=_interopRequireDefault(__webpack_require__(1927));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  transform: rotate(-90deg);\n  transition: background-color 0.1s linear;\n  transition: transform 0.1s ease-in-out;\n  &:hover {\n    background-color: #aed4fb;\n    :before,\n    :after {\n      background-color: #007eff;\n    }\n  }\n\n  ","\n  &.isOpen {\n    transform: rotate(-45deg);\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var Button=(0,_styledComponents["default"])(_PlusButton["default"])(_templateObject(),function(_ref){var hasError=_ref.hasError;if(hasError){return"\n        background-color: #FAA684;\n        :before, :after {\n          background-color: #F64D0A;\n        }\n      ";}});var _default=Button;exports["default"]=_default;

/***/ }),

/***/ 2166:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireWildcard=__webpack_require__(8);var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(5));var _styledComponents=_interopRequireWildcard(__webpack_require__(4));function _templateObject2(){var data=(0,_taggedTemplateLiteral2["default"])(["\n      max-height: 260px;\n    "]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  overflow: hidden;\n  max-height: 0;\n  transition: max-height 0.2s ease-out;\n\n  > div {\n    margin-top: 15px;\n    padding: 23px 18px 21px 18px;\n    background-color: #f2f3f4;\n  }\n\n  ","\n\n  .componentPickerTitle {\n    margin-bottom: 15px;\n    color: #919bae;\n    font-weight: 600;\n    font-size: 13px;\n    line-height: normal;\n  }\n  .componentsList {\n    display: flex;\n    overflow-x: auto;\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var ComponentsPicker=_styledComponents["default"].div(_templateObject(),function(_ref){var isOpen=_ref.isOpen;return isOpen&&(0,_styledComponents.css)(_templateObject2());});var _default=ComponentsPicker;exports["default"]=_default;

/***/ }),

/***/ 2167:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(5));var _styledComponents=_interopRequireDefault(__webpack_require__(4));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  position: relative;\n  > div {\n    position: relative;\n    box-shadow: 0 2px 4px #e3e9f3;\n    border-radius: 2px;\n    .arrow-icons {\n      position: absolute;\n      top: -12px;\n      right: 49px;\n      z-index: 9;\n      .arrow-btn {\n        display: inline-flex;\n        svg {\n          margin-left: 5px;\n          margin-top: 5px;\n        }\n      }\n    }\n    &:not(:first-of-type) {\n      margin-top: 32px;\n      &:before {\n        content: '&';\n        position: absolute;\n        top: -30px;\n        left: 24.5px;\n        height: 100%;\n        width: 2px;\n        background-color: #e6f0fb;\n        color: transparent;\n      }\n    }\n    > div:last-of-type {\n      padding-top: 6px;\n      padding-bottom: 5px;\n      margin-bottom: 22px;\n      border-radius: 2px;\n    }\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var ComponentWrapper=_styledComponents["default"].div(_templateObject());var _default=ComponentWrapper;exports["default"]=_default;

/***/ }),

/***/ 2168:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(5));var _styledComponents=_interopRequireDefault(__webpack_require__(4));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  position: relative;\n  padding-top: 10px;\n  margin-bottom: 15px;\n  & + & {\n    padding-top: 13px;\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var DynamicZoneWrapper=_styledComponents["default"].div(_templateObject());var _default=DynamicZoneWrapper;exports["default"]=_default;

/***/ }),

/***/ 2169:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(5));var _styledComponents=_interopRequireDefault(__webpack_require__(4));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  padding: 9px 20px;\n  font-size: 13px;\n  font-weight: 600;\n  position: relative;\n  min-height: 64px;\n  &:after {\n    content: '\u2022';\n    position: absolute;\n    top: 15px;\n    left: 21.5px;\n    font-size: 15px;\n    width: 8px;\n    height: 8px;\n    background-color: #aed4fb;\n    color: transparent;\n    border-radius: 4px;\n    border: 1px solid white;\n  }\n  &:before {\n    content: '&';\n    position: absolute;\n    top: 22px;\n    left: 24.5px;\n    height: 100%;\n    width: 2px;\n    background-color: #e6f0fb;\n    color: transparent;\n  }\n  p {\n    padding-left: 18px;\n    margin-bottom: 0;\n  }\n  p:last-of-type:not(:first-of-type) {\n    color: #9ea7b8;\n    font-weight: 400;\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var Label=_styledComponents["default"].div(_templateObject());var _default=Label;exports["default"]=_default;

/***/ }),

/***/ 2170:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(5));var _styledComponents=_interopRequireDefault(__webpack_require__(4));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  height: 31px;\n  width: 31px;\n  border-radius: 50%;\n  background-color: #f2f3f4;\n  border: 2px solid #ffffff;\n  cursor: pointer;\n  display: flex;\n  z-index: 9;\n  svg {\n    font-size: 10px;\n    line-height: 29px;\n    margin: auto;\n  }\n  &:not(.arrow-btn) {\n    position: absolute;\n    top: -16px;\n    right: 10px;\n    transition: all 200ms ease-in;\n    &:hover {\n      background-color: #faa684;\n      color: #f64d0a;\n    }\n  }\n  &.arrow-btn {\n    height: 22px;\n    width: 22px;\n    background-color: #ffffff;\n    border: 2px solid #ffffff;\n    svg {\n      font-size: 10px;\n      line-height: 22px;\n    }\n    &:hover {\n      background-color: #f2f3f4;\n    }\n    &.arrow-down {\n      transform: rotate(180deg);\n    }\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var RoundCTA=_styledComponents["default"].div(_templateObject());var _default=RoundCTA;exports["default"]=_default;

/***/ }),

/***/ 2171:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(5));var _styledComponents=_interopRequireDefault(__webpack_require__(4));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  position: relative;\n  padding-top: 5px;\n  text-align: center;\n  .info {\n    position: absolute;\n    display: none;\n    top: 10px;\n    left: calc(50% + 28px);\n    > span {\n      letter-spacing: 0.5px;\n      text-transform: uppercase;\n      color: #007eff;\n      font-size: 11px;\n      font-weight: 700;\n    }\n  }\n  button {\n    &:not(.isOpen):hover + .info {\n      display: block;\n    }\n  }\n  .error-label {\n    color: #f64d0a;\n    font-size: 13px;\n    margin-top: 4px;\n    margin-bottom: -5px;\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var Wrapper=_styledComponents["default"].div(_templateObject());var _default=Wrapper;exports["default"]=_default;

/***/ }),

/***/ 2172:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(5));var _styledComponents=_interopRequireDefault(__webpack_require__(4));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  padding: 22px 10px 0 10px;\n  background: #ffffff;\n  border-radius: 2px;\n  box-shadow: 0 2px 4px #e3e9f3;\n  margin-bottom: 3px;\n  > div {\n    margin-right: 0;\n    margin-left: 0;\n  }\n  .row {\n    margin-bottom: 4px;\n    &:last-of-type {\n      margin-bottom: 0;\n    }\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var FormWrapper=_styledComponents["default"].div(_templateObject());var _default=FormWrapper;exports["default"]=_default;

/***/ }),

/***/ 2173:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireWildcard=__webpack_require__(8);var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _regenerator=_interopRequireDefault(__webpack_require__(49));var _asyncToGenerator2=_interopRequireDefault(__webpack_require__(105));var _slicedToArray2=_interopRequireDefault(__webpack_require__(37));var _react=_interopRequireWildcard(__webpack_require__(1));var _reactRouterDom=__webpack_require__(32);var _propTypes=_interopRequireDefault(__webpack_require__(2));var _lodash=__webpack_require__(9);var _strapiHelperPlugin=__webpack_require__(10);var _pluginId=_interopRequireDefault(__webpack_require__(104));var _EditViewDataManager=_interopRequireDefault(__webpack_require__(1924));var _schema=_interopRequireDefault(__webpack_require__(2174));var _createDefaultForm=_interopRequireDefault(__webpack_require__(2175));var _getFilesToUpload=_interopRequireDefault(__webpack_require__(2176));var _cleanData=_interopRequireDefault(__webpack_require__(2177));var _getYupInnerErrors=_interopRequireDefault(__webpack_require__(2178));var _init=_interopRequireDefault(__webpack_require__(2179));var _reducer=_interopRequireWildcard(__webpack_require__(2180));var getRequestUrl=function getRequestUrl(path){return"/".concat(_pluginId["default"],"/explorer/").concat(path);};var EditViewDataManagerProvider=function EditViewDataManagerProvider(_ref){var allLayoutData=_ref.allLayoutData,children=_ref.children,redirectToPreviousPage=_ref.redirectToPreviousPage,slug=_ref.slug;var _useParams=(0,_reactRouterDom.useParams)(),id=_useParams.id;// Retrieve the search
var _useReducer=(0,_react.useReducer)(_reducer["default"],_reducer.initialState,_init["default"]),_useReducer2=(0,_slicedToArray2["default"])(_useReducer,2),reducerState=_useReducer2[0],dispatch=_useReducer2[1];var _reducerState$toJS=reducerState.toJS(),formErrors=_reducerState$toJS.formErrors,initialData=_reducerState$toJS.initialData,isLoading=_reducerState$toJS.isLoading,modifiedData=_reducerState$toJS.modifiedData,modifiedDZName=_reducerState$toJS.modifiedDZName,shouldShowLoadingState=_reducerState$toJS.shouldShowLoadingState,shouldCheckErrors=_reducerState$toJS.shouldCheckErrors;var currentContentTypeLayout=(0,_lodash.get)(allLayoutData,['contentType'],{});var abortController=new AbortController();var signal=abortController.signal;var isCreatingEntry=id==='create';var _useGlobalContext=(0,_strapiHelperPlugin.useGlobalContext)(),emitEvent=_useGlobalContext.emitEvent,formatMessage=_useGlobalContext.formatMessage;(0,_react.useEffect)(function(){if(!isLoading){checkFormErrors();}// eslint-disable-next-line react-hooks/exhaustive-deps
},[shouldCheckErrors]);(0,_react.useEffect)(function(){var fetchData=/*#__PURE__*/function(){var _ref2=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee(){var data;return _regenerator["default"].wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return(0,_strapiHelperPlugin.request)(getRequestUrl("".concat(slug,"/").concat(id)),{method:'GET',signal:signal});case 3:data=_context.sent;dispatch({type:'GET_DATA_SUCCEEDED',data:data});_context.next=10;break;case 7:_context.prev=7;_context.t0=_context["catch"](0);if(_context.t0.code!==20){strapi.notification.error("".concat(_pluginId["default"],".error.record.fetch"));}case 10:case"end":return _context.stop();}}},_callee,null,[[0,7]]);}));return function fetchData(){return _ref2.apply(this,arguments);};}();var componentsDataStructure=Object.keys(allLayoutData.components).reduce(function(acc,current){acc[current]=(0,_createDefaultForm["default"])((0,_lodash.get)(allLayoutData,['components',current,'schema','attributes'],{}),allLayoutData.components);return acc;},{});var contentTypeDataStructure=(0,_createDefaultForm["default"])(currentContentTypeLayout.schema.attributes,allLayoutData.components);// Force state to be cleared when navigation from one entry to another
dispatch({type:'RESET_PROPS'});dispatch({type:'SET_DEFAULT_DATA_STRUCTURES',componentsDataStructure:componentsDataStructure,contentTypeDataStructure:contentTypeDataStructure});if(!isCreatingEntry){fetchData();}else{// Will create default form
dispatch({type:'SET_DEFAULT_MODIFIED_DATA_STRUCTURE',contentTypeDataStructure:contentTypeDataStructure});}return function(){abortController.abort();};// eslint-disable-next-line react-hooks/exhaustive-deps
},[id,slug]);var addComponentToDynamicZone=function addComponentToDynamicZone(keys,componentUid){var shouldCheckErrors=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;emitEvent('addComponentToDynamicZone');dispatch({type:'ADD_COMPONENT_TO_DYNAMIC_ZONE',keys:keys.split('.'),componentUid:componentUid,shouldCheckErrors:shouldCheckErrors});};var addNonRepeatableComponentToField=function addNonRepeatableComponentToField(keys,componentUid){dispatch({type:'ADD_NON_REPEATABLE_COMPONENT_TO_FIELD',keys:keys.split('.'),componentUid:componentUid});};var addRelation=function addRelation(_ref3){var _ref3$target=_ref3.target,name=_ref3$target.name,value=_ref3$target.value;dispatch({type:'ADD_RELATION',keys:name.split('.'),value:value});};var addRepeatableComponentToField=function addRepeatableComponentToField(keys,componentUid){var shouldCheckErrors=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;dispatch({type:'ADD_REPEATABLE_COMPONENT_TO_FIELD',keys:keys.split('.'),componentUid:componentUid,shouldCheckErrors:shouldCheckErrors});};var checkFormErrors=/*#__PURE__*/function(){var _ref4=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee2(){var dataToSet,schema,errors,updatedData,_args2=arguments;return _regenerator["default"].wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:dataToSet=_args2.length>0&&_args2[0]!==undefined?_args2[0]:{};schema=(0,_schema["default"])(currentContentTypeLayout,{components:(0,_lodash.get)(allLayoutData,'components',{})});errors={};updatedData=(0,_lodash.cloneDeep)(modifiedData);if(!(0,_lodash.isEmpty)(updatedData)){(0,_lodash.set)(updatedData,dataToSet.path,dataToSet.value);}_context2.prev=5;_context2.next=8;return schema.validate(updatedData,{abortEarly:false});case 8:_context2.next=14;break;case 10:_context2.prev=10;_context2.t0=_context2["catch"](5);errors=(0,_getYupInnerErrors["default"])(_context2.t0);if(modifiedDZName){errors=Object.keys(errors).reduce(function(acc,current){var dzName=current.split('.')[0];if(dzName!==modifiedDZName){acc[current]=errors[current];}return acc;},{});}case 14:dispatch({type:'SET_ERRORS',errors:errors});case 15:case"end":return _context2.stop();}}},_callee2,null,[[5,10]]);}));return function checkFormErrors(){return _ref4.apply(this,arguments);};}();var handleChange=function handleChange(_ref5){var _ref5$target=_ref5.target,name=_ref5$target.name,value=_ref5$target.value,type=_ref5$target.type;var inputValue=value;// Empty string is not a valid date,
// Set the date to null when it's empty
if(type==='date'&&value===''){inputValue=null;}// Allow to reset enum
if(type==='select-one'&&value===''){inputValue=null;}dispatch({type:'ON_CHANGE',keys:name.split('.'),value:inputValue});};var handleSubmit=/*#__PURE__*/function(){var _ref6=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee3(e){var schema,filesToUpload,cleanedData,formData,headers,method,endPoint,error,errors;return _regenerator["default"].wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:e.preventDefault();// Create yup schema
schema=(0,_schema["default"])(currentContentTypeLayout,{components:(0,_lodash.get)(allLayoutData,'components',{})});_context3.prev=2;_context3.next=5;return schema.validate(modifiedData,{abortEarly:false});case 5:// Set the loading state in the plugin header
filesToUpload=(0,_getFilesToUpload["default"])(modifiedData);// Remove keys that are not needed
// Clean relations
cleanedData=(0,_cleanData["default"])((0,_lodash.cloneDeep)(modifiedData),currentContentTypeLayout,allLayoutData.components);formData=new FormData();formData.append('data',JSON.stringify(cleanedData));Object.keys(filesToUpload).forEach(function(key){var files=filesToUpload[key];files.forEach(function(file){formData.append("files.".concat(key),file);});});// Change the request helper default headers so we can pass a FormData
headers={};method=isCreatingEntry?'POST':'PUT';endPoint=isCreatingEntry?slug:"".concat(slug,"/").concat(id);emitEvent(isCreatingEntry?'willCreateEntry':'willEditEntry');_context3.prev=14;_context3.next=17;return(0,_strapiHelperPlugin.request)(getRequestUrl(endPoint),{method:method,headers:headers,body:formData,signal:signal},false,false);case 17:emitEvent(isCreatingEntry?'didCreateEntry':'didEditEntry');dispatch({type:'SUBMIT_SUCCESS'});redirectToPreviousPage();_context3.next=29;break;case 22:_context3.prev=22;_context3.t0=_context3["catch"](14);console.error({err:_context3.t0});error=(0,_lodash.get)(_context3.t0,['response','payload','message','0','messages','0','id'],'SERVER ERROR');setIsSubmitting(false);emitEvent(isCreatingEntry?'didNotCreateEntry':'didNotEditEntry',{error:_context3.t0});strapi.notification.error(error);case 29:_context3.next=36;break;case 31:_context3.prev=31;_context3.t1=_context3["catch"](2);errors=(0,_getYupInnerErrors["default"])(_context3.t1);console.error({err:_context3.t1,errors:errors});dispatch({type:'SUBMIT_ERRORS',errors:errors});case 36:case"end":return _context3.stop();}}},_callee3,null,[[2,31],[14,22]]);}));return function handleSubmit(_x){return _ref6.apply(this,arguments);};}();var moveComponentDown=function moveComponentDown(dynamicZoneName,currentIndex){emitEvent('changeComponentsOrder');dispatch({type:'MOVE_COMPONENT_DOWN',dynamicZoneName:dynamicZoneName,currentIndex:currentIndex,shouldCheckErrors:shouldCheckDZErrors(dynamicZoneName)});};var moveComponentUp=function moveComponentUp(dynamicZoneName,currentIndex){emitEvent('changeComponentsOrder');dispatch({type:'MOVE_COMPONENT_UP',dynamicZoneName:dynamicZoneName,currentIndex:currentIndex,shouldCheckErrors:shouldCheckDZErrors(dynamicZoneName)});};var moveComponentField=function moveComponentField(pathToComponent,dragIndex,hoverIndex){dispatch({type:'MOVE_COMPONENT_FIELD',pathToComponent:pathToComponent,dragIndex:dragIndex,hoverIndex:hoverIndex});};var moveRelation=function moveRelation(dragIndex,overIndex,name){dispatch({type:'MOVE_FIELD',dragIndex:dragIndex,overIndex:overIndex,keys:name.split('.')});};var onRemoveRelation=function onRemoveRelation(keys){dispatch({type:'REMOVE_RELATION',keys:keys});};var shouldCheckDZErrors=function shouldCheckDZErrors(dzName){var doesDZHaveError=Object.keys(formErrors).some(function(key){return key.split('.')[0]===dzName;});var shouldCheckErrors=!(0,_lodash.isEmpty)(formErrors)&&doesDZHaveError;return shouldCheckErrors;};var removeComponentFromDynamicZone=function removeComponentFromDynamicZone(dynamicZoneName,index){emitEvent('removeComponentFromDynamicZone');dispatch({type:'REMOVE_COMPONENT_FROM_DYNAMIC_ZONE',dynamicZoneName:dynamicZoneName,index:index,shouldCheckErrors:shouldCheckDZErrors(dynamicZoneName)});};var removeComponentFromField=function removeComponentFromField(keys,componentUid){dispatch({type:'REMOVE_COMPONENT_FROM_FIELD',keys:keys.split('.'),componentUid:componentUid});};var removeRepeatableField=function removeRepeatableField(keys,componentUid){dispatch({type:'REMOVE_REPEATABLE_FIELD',keys:keys.split('.'),componentUid:componentUid});};var setIsSubmitting=function setIsSubmitting(){var value=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;dispatch({type:'IS_SUBMITTING',value:value});};var showLoader=!isCreatingEntry&&isLoading;return _react["default"].createElement(_EditViewDataManager["default"].Provider,{value:{addComponentToDynamicZone:addComponentToDynamicZone,addNonRepeatableComponentToField:addNonRepeatableComponentToField,addRelation:addRelation,addRepeatableComponentToField:addRepeatableComponentToField,allLayoutData:allLayoutData,checkFormErrors:checkFormErrors,deleteSuccess:function deleteSuccess(){dispatch({type:'DELETE_SUCCEEDED'});},formErrors:formErrors,initialData:initialData,layout:currentContentTypeLayout,modifiedData:modifiedData,moveComponentDown:moveComponentDown,moveComponentField:moveComponentField,moveComponentUp:moveComponentUp,moveRelation:moveRelation,onChange:handleChange,onRemoveRelation:onRemoveRelation,redirectToPreviousPage:redirectToPreviousPage,removeComponentFromDynamicZone:removeComponentFromDynamicZone,removeComponentFromField:removeComponentFromField,removeRepeatableField:removeRepeatableField,resetData:function resetData(){dispatch({type:'RESET_DATA'});},setIsSubmitting:setIsSubmitting,shouldShowLoadingState:shouldShowLoadingState,slug:slug,triggerFormValidation:function triggerFormValidation(){dispatch({type:'TRIGGER_FORM_VALIDATION'});}}},showLoader?_react["default"].createElement(_strapiHelperPlugin.LoadingIndicatorPage,null):_react["default"].createElement(_react["default"].Fragment,null,_react["default"].createElement(_reactRouterDom.Prompt,{when:!(0,_lodash.isEqual)(modifiedData,initialData),message:formatMessage({id:'global.prompt.unsaved'})}),_react["default"].createElement("form",{onSubmit:handleSubmit},children)));};EditViewDataManagerProvider.defaultProps={redirectToPreviousPage:function redirectToPreviousPage(){}};EditViewDataManagerProvider.propTypes={allLayoutData:_propTypes["default"].object.isRequired,children:_propTypes["default"].node.isRequired,redirectToPreviousPage:_propTypes["default"].func,slug:_propTypes["default"].string.isRequired};var _default=EditViewDataManagerProvider;exports["default"]=_default;

/***/ }),

/***/ 2174:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireWildcard=__webpack_require__(8);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _lodash=__webpack_require__(9);var yup=_interopRequireWildcard(__webpack_require__(202));var _strapiHelperPlugin=__webpack_require__(10);yup.addMethod(yup.mixed,'defined',function(){return this.test('defined',_strapiHelperPlugin.translatedErrors.required,function(value){return value!==undefined;});});yup.addMethod(yup.array,'notEmptyMin',function(min){return this.test('notEmptyMin',_strapiHelperPlugin.translatedErrors.min,function(value){if((0,_lodash.isEmpty)(value)){return true;}return value.length>=min;});});yup.addMethod(yup.string,'isInferior',function(message,max){return this.test('isInferior',message,function(value){if(!value){return true;}if(Number.isNaN((0,_lodash.toNumber)(value))){return true;}return(0,_lodash.toNumber)(max)>=(0,_lodash.toNumber)(value);});});yup.addMethod(yup.string,'isSuperior',function(message,min){return this.test('isSuperior',message,function(value){if(!value){return true;}if(Number.isNaN((0,_lodash.toNumber)(value))){return true;}return(0,_lodash.toNumber)(value)>=(0,_lodash.toNumber)(min);});});var getAttributes=function getAttributes(data){return(0,_lodash.get)(data,['schema','attributes'],{});};var createYupSchema=function createYupSchema(model,_ref){var components=_ref.components;var attributes=getAttributes(model);return yup.object().shape(Object.keys(attributes).reduce(function(acc,current){var attribute=attributes[current];if(attribute.type!=='relation'&&attribute.type!=='component'&&attribute.type!=='dynamiczone'){var formatted=createYupSchemaAttribute(attribute.type,attribute);acc[current]=formatted;}if(attribute.type==='relation'){acc[current]=['oneWay','oneToOne','manyToOne','oneToManyMorph','oneToOneMorph'].includes(attribute.relationType)?yup.object().nullable():yup.array().nullable();}if(attribute.type==='component'){var componentFieldSchema=createYupSchema(components[attribute.component],{components:components});if(attribute.repeatable===true){var min=attribute.min,max=attribute.max,required=attribute.required;var componentSchema=yup.lazy(function(value){var baseSchema=yup.array().of(componentFieldSchema);if(min){if(required){baseSchema=baseSchema.min(min,_strapiHelperPlugin.translatedErrors.min);}else if(required!==true&&(0,_lodash.isEmpty)(value)){baseSchema=baseSchema.nullable();}else{baseSchema=baseSchema.min(min,_strapiHelperPlugin.translatedErrors.min);}}if(max){baseSchema=baseSchema.max(max,_strapiHelperPlugin.translatedErrors.max);}return baseSchema;});acc[current]=componentSchema;return acc;}else{var _componentSchema=yup.lazy(function(obj){if(obj!==undefined){return attribute.required===true?componentFieldSchema.defined():componentFieldSchema.nullable();}return attribute.required===true?yup.object().defined():yup.object().nullable();});acc[current]=_componentSchema;return acc;}}if(attribute.type==='dynamiczone'){var dynamicZoneSchema=yup.array().of(yup.lazy(function(_ref2){var __component=_ref2.__component;return createYupSchema(components[__component],{components:components});}));var _max=attribute.max,_min=attribute.min;if(attribute.required){dynamicZoneSchema=dynamicZoneSchema.required();if(_min){dynamicZoneSchema=dynamicZoneSchema.min(_min,_strapiHelperPlugin.translatedErrors.min).required(_strapiHelperPlugin.translatedErrors.required);}}else{if(_min){dynamicZoneSchema=dynamicZoneSchema.notEmptyMin(_min);}}if(_max){dynamicZoneSchema=dynamicZoneSchema.max(_max,_strapiHelperPlugin.translatedErrors.max);}acc[current]=dynamicZoneSchema;}return acc;},{}));};var createYupSchemaAttribute=function createYupSchemaAttribute(type,validations){var schema=yup.mixed();if(['string','text','richtext','email','password','enumeration'].includes(type)){schema=yup.string();}if(type==='json'){schema=yup.mixed(_strapiHelperPlugin.translatedErrors.json).test('isJSON',_strapiHelperPlugin.translatedErrors.json,function(value){if(value===undefined){return true;}if((0,_lodash.isNumber)(value)||(0,_lodash.isNull)(value)||(0,_lodash.isObject)(value)||(0,_lodash.isArray)(value)){return true;}try{JSON.parse(value);return true;}catch(err){return false;}}).nullable();}if(type==='email'){schema=schema.email(_strapiHelperPlugin.translatedErrors.email);}if(['number','integer','biginteger','float','decimal'].includes(type)){schema=yup.number().transform(function(cv){return(0,_lodash.isNaN)(cv)?undefined:cv;}).typeError();}if(['date','datetime'].includes(type)){schema=yup.date();}if(type==='biginteger'){schema=yup.string().matches(/^\d*$/);}Object.keys(validations).forEach(function(validation){var validationValue=validations[validation];if(!!validationValue||!(0,_lodash.isBoolean)(validationValue)&&Number.isInteger(Math.floor(validationValue))||validationValue===0){switch(validation){case'required':schema=schema.required(_strapiHelperPlugin.translatedErrors.required);break;case'max':{if(type==='biginteger'){schema=schema.isInferior(_strapiHelperPlugin.translatedErrors.max,validationValue);}else{schema=schema.max(validationValue,_strapiHelperPlugin.translatedErrors.max);}break;}case'maxLength':schema=schema.max(validationValue,_strapiHelperPlugin.translatedErrors.maxLength);break;case'min':{if(type==='biginteger'){schema=schema.isSuperior(_strapiHelperPlugin.translatedErrors.min,validationValue);}else{schema=schema.min(validationValue,_strapiHelperPlugin.translatedErrors.min);}break;}case'minLength':schema=schema.min(validationValue,_strapiHelperPlugin.translatedErrors.minLength);break;case'regex':schema=schema.matches(validationValue,_strapiHelperPlugin.translatedErrors.regex);break;case'lowercase':if(['text','textarea','email','string'].includes(type)){schema=schema.strict().lowercase();}break;case'uppercase':if(['text','textarea','email','string'].includes(type)){schema=schema.strict().uppercase();}break;case'positive':if(['number','integer','bigint','float','decimal'].includes(type)){schema=schema.positive();}break;case'negative':if(['number','integer','bigint','float','decimal'].includes(type)){schema=schema.negative();}break;default:schema=schema.nullable();}}});return schema;};var _default=createYupSchema;exports["default"]=_default;

/***/ }),

/***/ 2175:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _lodash=__webpack_require__(9);var createDefaultForm=function createDefaultForm(attributes,allComponentsSchema){return Object.keys(attributes).reduce(function(acc,current){var attribute=(0,_lodash.get)(attributes,[current],{});var defaultValue=attribute["default"],component=attribute.component,type=attribute.type,required=attribute.required,min=attribute.min,repeatable=attribute.repeatable;if(type==='json'){acc[current]=null;}if(type==='json'&&required===true){acc[current]={};}if(defaultValue!==undefined){acc[current]=defaultValue;}if(type==='component'){var currentComponentSchema=(0,_lodash.get)(allComponentsSchema,[component,'schema','attributes'],{});var currentComponentDefaultForm=createDefaultForm(currentComponentSchema,allComponentsSchema);if(required===true){acc[current]=repeatable===true?[]:{};}if(min&&repeatable===true&&required){acc[current]=[];for(var i=0;i<min;i++){acc[current].push(currentComponentDefaultForm);}}}if(type==='dynamiczone'){if(required===true){acc[current]=[];}}return acc;},{});};var _default=createDefaultForm;exports["default"]=_default;

/***/ }),

/***/ 2176:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(11));var _lodash=__webpack_require__(9);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var getFilesToUpload=function getFilesToUpload(data){var prefix=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;return Object.keys(data).reduce(function(acc,current){var currentData=data[current];var path=prefix?"".concat(prefix,".").concat(current):current;var filterFiles=function filterFiles(files){return files.filter(function(file){return file instanceof File;});};var hasFiles=function hasFiles(data){return data.some(function(file){return file instanceof File;});};var hasFile=function hasFile(data){return(0,_lodash.get)(data,0,null)instanceof File;};if((0,_lodash.isArray)(currentData)&&hasFiles(currentData)){acc[path]=filterFiles(currentData);}if((0,_lodash.isObject)(currentData)&&!(0,_lodash.isArray)(currentData)&&hasFile(currentData)){var currentFile=(0,_lodash.get)(currentData,0);acc[path]=[currentFile];}if((0,_lodash.isArray)(currentData)&&!hasFiles(currentData)){return _objectSpread({},acc,{},getFilesToUpload(currentData,path));}if((0,_lodash.isObject)(currentData)&&!(0,_lodash.isArray)(currentData)&&!hasFile(currentData)){return _objectSpread({},acc,{},getFilesToUpload(currentData,path));}return acc;},{});};var _default=getFilesToUpload;exports["default"]=_default;

/***/ }),

/***/ 2177:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=exports.helperCleanData=void 0;var _toConsumableArray2=_interopRequireDefault(__webpack_require__(44));var _lodash=__webpack_require__(9);var cleanData=function cleanData(retrievedData,currentSchema,componentsSchema){var getType=function getType(schema,attrName){return(0,_lodash.get)(schema,['attributes',attrName,'type'],'');};var getOtherInfos=function getOtherInfos(schema,arr){return(0,_lodash.get)(schema,['attributes'].concat((0,_toConsumableArray2["default"])(arr)),'');};var recursiveCleanData=function recursiveCleanData(data,schema){return Object.keys(data).reduce(function(acc,current){var attrType=getType(schema.schema,current);var value=(0,_lodash.get)(data,current);var component=getOtherInfos(schema.schema,[current,'component']);var isRepeatable=getOtherInfos(schema.schema,[current,'repeatable']);var cleanedData;switch(attrType){case'json':try{cleanedData=JSON.parse(value);}catch(err){cleanedData=value;}break;case'date':case'datetime':cleanedData=value&&value._isAMomentObject===true?value.toISOString():value;break;case'media':if(getOtherInfos(schema.schema,[current,'multiple'])===true){cleanedData=value?helperCleanData(value.filter(function(file){return!(file instanceof File);}),'id'):null;}else{cleanedData=(0,_lodash.get)(value,0)instanceof File?null:(0,_lodash.get)(value,'id',null);}break;case'component':if(isRepeatable){cleanedData=value?value.map(function(data){var subCleanedData=recursiveCleanData(data,componentsSchema[component]);return subCleanedData;}):value;}else{cleanedData=value?recursiveCleanData(value,componentsSchema[component]):value;}break;case'dynamiczone':cleanedData=value.map(function(componentData){var subCleanedData=recursiveCleanData(componentData,componentsSchema[componentData.__component]);return subCleanedData;});break;default:cleanedData=helperCleanData(value,'id');}acc[current]=cleanedData;return acc;},{});};return recursiveCleanData(retrievedData,currentSchema);};var helperCleanData=function helperCleanData(value,key){if((0,_lodash.isArray)(value)){return value.map(function(obj){return obj[key]?obj[key]:obj;});}else if((0,_lodash.isObject)(value)){return value[key];}else{return value;}};exports.helperCleanData=helperCleanData;var _default=cleanData;exports["default"]=_default;

/***/ }),

/***/ 2178:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _lodash=__webpack_require__(9);var getYupInnerErrors=function getYupInnerErrors(error){return(0,_lodash.get)(error,'inner',[]).reduce(function(acc,curr){acc[curr.path.split('[').join('.').split(']').join('')]={id:curr.message};return acc;},{});};var _default=getYupInnerErrors;exports["default"]=_default;

/***/ }),

/***/ 2179:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;function init(initialState){return initialState;}var _default=init;exports["default"]=_default;

/***/ }),

/***/ 2180:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports.initialState=exports["default"]=void 0;var _slicedToArray2=_interopRequireDefault(__webpack_require__(37));var _toConsumableArray2=_interopRequireDefault(__webpack_require__(44));var _immutable=__webpack_require__(31);var initialState=(0,_immutable.fromJS)({componentsDataStructure:{},contentTypeDataStructure:{},formErrors:{},isLoading:true,initialData:{},modifiedData:{},shouldShowLoadingState:false,shouldCheckErrors:false,modifiedDZName:null});exports.initialState=initialState;var reducer=function reducer(state,action){switch(action.type){case'ADD_NON_REPEATABLE_COMPONENT_TO_FIELD':return state.updateIn(['modifiedData'].concat((0,_toConsumableArray2["default"])(action.keys)),function(){var defaultDataStructure=state.getIn(['componentsDataStructure',action.componentUid]);return(0,_immutable.fromJS)(defaultDataStructure);});case'ADD_REPEATABLE_COMPONENT_TO_FIELD':{return state.updateIn(['modifiedData'].concat((0,_toConsumableArray2["default"])(action.keys)),function(list){var defaultDataStructure=state.getIn(['componentsDataStructure',action.componentUid]);if(list){return list.push(defaultDataStructure);}return(0,_immutable.fromJS)([defaultDataStructure]);}).update('shouldCheckErrors',function(v){if(action.shouldCheckErrors===true){return!v;}return v;});}case'ADD_COMPONENT_TO_DYNAMIC_ZONE':return state.updateIn(['modifiedData'].concat((0,_toConsumableArray2["default"])(action.keys)),function(list){var defaultDataStructure=state.getIn(['componentsDataStructure',action.componentUid]).set('__component',action.componentUid);if(list){return list.push(defaultDataStructure);}return(0,_immutable.fromJS)([defaultDataStructure]);}).update('modifiedDZName',function(){return action.keys[0];}).update('shouldCheckErrors',function(v){if(action.shouldCheckErrors===true){return!v;}return v;});case'ADD_RELATION':return state.updateIn(['modifiedData'].concat((0,_toConsumableArray2["default"])(action.keys)),function(list){if(!action.value){return list;}var el=action.value[0].value;if(list){return list.push((0,_immutable.fromJS)(el));}return(0,_immutable.fromJS)([el]);});case'GET_DATA_SUCCEEDED':return state.update('initialData',function(){return(0,_immutable.fromJS)(action.data);}).update('modifiedData',function(){return(0,_immutable.fromJS)(action.data);}).update('isLoading',function(){return false;});case'IS_SUBMITTING':return state.update('shouldShowLoadingState',function(){return action.value;});case'MOVE_COMPONENT_FIELD':return state.updateIn(['modifiedData'].concat((0,_toConsumableArray2["default"])(action.pathToComponent)),function(list){return list["delete"](action.dragIndex).insert(action.hoverIndex,state.getIn(['modifiedData'].concat((0,_toConsumableArray2["default"])(action.pathToComponent),[action.dragIndex])));});case'MOVE_COMPONENT_UP':return state.update('shouldCheckErrors',function(v){if(action.shouldCheckErrors){return!v;}return v;}).updateIn(['modifiedData',action.dynamicZoneName],function(list){return list["delete"](action.currentIndex).insert(action.currentIndex-1,state.getIn(['modifiedData',action.dynamicZoneName,action.currentIndex]));});case'MOVE_COMPONENT_DOWN':return state.update('shouldCheckErrors',function(v){if(action.shouldCheckErrors){return!v;}return v;}).updateIn(['modifiedData',action.dynamicZoneName],function(list){return list["delete"](action.currentIndex).insert(action.currentIndex+1,state.getIn(['modifiedData',action.dynamicZoneName,action.currentIndex]));});case'MOVE_FIELD':return state.updateIn(['modifiedData'].concat((0,_toConsumableArray2["default"])(action.keys)),function(list){return list["delete"](action.dragIndex).insert(action.overIndex,list.get(action.dragIndex));});case'ON_CHANGE':{var newState=state;var _action$keys=(0,_slicedToArray2["default"])(action.keys,1),nonRepeatableComponentKey=_action$keys[0];if(action.keys.length===2&&state.getIn(['modifiedData',nonRepeatableComponentKey])===null){newState=state.updateIn(['modifiedData',nonRepeatableComponentKey],function(){return(0,_immutable.fromJS)({});});}return newState.updateIn(['modifiedData'].concat((0,_toConsumableArray2["default"])(action.keys)),function(){return action.value;});}case'REMOVE_COMPONENT_FROM_DYNAMIC_ZONE':return state.update('shouldCheckErrors',function(v){if(action.shouldCheckErrors){return!v;}return v;}).deleteIn(['modifiedData',action.dynamicZoneName,action.index]);case'REMOVE_COMPONENT_FROM_FIELD':{var componentPathToRemove=['modifiedData'].concat((0,_toConsumableArray2["default"])(action.keys));return state.updateIn(componentPathToRemove,function(){return null;});}case'REMOVE_REPEATABLE_FIELD':{var _componentPathToRemove=['modifiedData'].concat((0,_toConsumableArray2["default"])(action.keys));return state.update('shouldCheckErrors',function(v){var hasErrors=state.get('formErrors').keySeq().size>0;if(hasErrors){return!v;}return v;}).deleteIn(_componentPathToRemove);}case'REMOVE_RELATION':return state.removeIn(['modifiedData'].concat((0,_toConsumableArray2["default"])(action.keys.split('.'))));case'RESET_DATA':return state.update('modifiedData',function(){return state.get('initialData');}).update('formErrors',function(){return(0,_immutable.fromJS)({});});case'RESET_PROPS':return initialState;case'SET_DEFAULT_DATA_STRUCTURES':return state.update('componentsDataStructure',function(){return(0,_immutable.fromJS)(action.componentsDataStructure);}).update('contentTypeDataStructure',function(){return(0,_immutable.fromJS)(action.contentTypeDataStructure);});case'SET_DEFAULT_MODIFIED_DATA_STRUCTURE':return state.update('isLoading',function(){return false;}).update('initialData',function(){return(0,_immutable.fromJS)(action.contentTypeDataStructure);}).update('modifiedData',function(){return(0,_immutable.fromJS)(action.contentTypeDataStructure);});case'SET_ERRORS':return state.update('modifiedDZName',function(){return null;}).update('formErrors',function(){return(0,_immutable.fromJS)(action.errors);});case'SUBMIT_ERRORS':return state.update('formErrors',function(){return(0,_immutable.fromJS)(action.errors);}).update('shouldShowLoadingState',function(){return false;});case'SUBMIT_SUCCESS':case'DELETE_SUCCEEDED':return state.update('initialData',function(){return state.get('modifiedData');});case'TRIGGER_FORM_VALIDATION':return state.update('shouldCheckErrors',function(v){var hasErrors=state.get('formErrors').keySeq().size>0;if(hasErrors){return!v;}return v;});default:return state;}};var _default=reducer;exports["default"]=_default;

/***/ }),

/***/ 2181:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _objectWithoutProperties2=_interopRequireDefault(__webpack_require__(26));var _react=_interopRequireDefault(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _EditView=_interopRequireDefault(__webpack_require__(1925));function EditViewProvider(_ref){var children=_ref.children,rest=(0,_objectWithoutProperties2["default"])(_ref,["children"]);return _react["default"].createElement(_EditView["default"].Provider,{value:rest},children);}EditViewProvider.propTypes={children:_propTypes["default"].node.isRequired};var _default=EditViewProvider;exports["default"]=_default;

/***/ }),

/***/ 2182:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireWildcard=__webpack_require__(8);var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _regenerator=_interopRequireDefault(__webpack_require__(49));var _asyncToGenerator2=_interopRequireDefault(__webpack_require__(105));var _slicedToArray2=_interopRequireDefault(__webpack_require__(37));var _react=_interopRequireWildcard(__webpack_require__(1));var _reactRouterDom=__webpack_require__(32);var _custom=__webpack_require__(68);var _strapiHelperPlugin=__webpack_require__(10);var _lodash=__webpack_require__(9);var _pluginId=_interopRequireDefault(__webpack_require__(104));var _useDataManager2=_interopRequireDefault(__webpack_require__(1865));var getRequestUrl=function getRequestUrl(path){return"/".concat(_pluginId["default"],"/explorer/").concat(path);};var Header=function Header(){var _useState=(0,_react.useState)(false),_useState2=(0,_slicedToArray2["default"])(_useState,2),showWarningCancel=_useState2[0],setWarningCancel=_useState2[1];var _useState3=(0,_react.useState)(false),_useState4=(0,_slicedToArray2["default"])(_useState3,2),showWarningDelete=_useState4[0],setWarningDelete=_useState4[1];var _useGlobalContext=(0,_strapiHelperPlugin.useGlobalContext)(),formatMessage=_useGlobalContext.formatMessage,emitEvent=_useGlobalContext.emitEvent;var _useParams=(0,_reactRouterDom.useParams)(),id=_useParams.id;var _useDataManager=(0,_useDataManager2["default"])(),deleteSuccess=_useDataManager.deleteSuccess,initialData=_useDataManager.initialData,layout=_useDataManager.layout,redirectToPreviousPage=_useDataManager.redirectToPreviousPage,resetData=_useDataManager.resetData,setIsSubmitting=_useDataManager.setIsSubmitting,slug=_useDataManager.slug;var currentContentTypeMainField=(0,_lodash.get)(layout,['settings','mainField'],'id');var isCreatingEntry=id==='create';var headerTitle=isCreatingEntry?formatMessage({id:"".concat(_pluginId["default"],".containers.Edit.pluginHeader.title.new")}):(0,_strapiHelperPlugin.templateObject)({mainField:currentContentTypeMainField},initialData).mainField;var getHeaderActions=function getHeaderActions(){var headerActions=[{onClick:function onClick(){toggleWarningCancel();},color:'cancel',label:formatMessage({id:"".concat(_pluginId["default"],".containers.Edit.reset")}),type:'button',style:{paddingLeft:15,paddingRight:15,fontWeight:600}},{color:'success',label:formatMessage({id:"".concat(_pluginId["default"],".containers.Edit.submit")}),type:'submit',style:{minWidth:150,fontWeight:600}}];if(!isCreatingEntry){headerActions.unshift({label:formatMessage({id:'app.utils.delete'}),color:'delete',onClick:function onClick(){toggleWarningDelete();},type:'button',style:{paddingLeft:15,paddingRight:15,fontWeight:600}});}return headerActions;};var headerProps={title:{label:headerTitle&&headerTitle.toString()},actions:getHeaderActions()};var toggleWarningCancel=function toggleWarningCancel(){return setWarningCancel(function(prevState){return!prevState;});};var toggleWarningDelete=function toggleWarningDelete(){return setWarningDelete(function(prevState){return!prevState;});};var handleConfirmReset=function handleConfirmReset(){toggleWarningCancel();resetData();};var handleConfirmDelete=/*#__PURE__*/function(){var _ref=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee(){return _regenerator["default"].wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:toggleWarningDelete();setIsSubmitting();_context.prev=2;emitEvent('willDeleteEntry');_context.next=6;return(0,_strapiHelperPlugin.request)(getRequestUrl("".concat(slug,"/").concat(id)),{method:'DELETE'});case 6:strapi.notification.success("".concat(_pluginId["default"],".success.record.delete"));deleteSuccess();emitEvent('didDeleteEntry');redirectToPreviousPage();_context.next=17;break;case 12:_context.prev=12;_context.t0=_context["catch"](2);setIsSubmitting(false);emitEvent('didNotDeleteEntry',{error:_context.t0});strapi.notification.error("".concat(_pluginId["default"],".error.record.delete"));case 17:case"end":return _context.stop();}}},_callee,null,[[2,12]]);}));return function handleConfirmDelete(){return _ref.apply(this,arguments);};}();return _react["default"].createElement(_react["default"].Fragment,null,_react["default"].createElement(_custom.Header,headerProps),_react["default"].createElement(_strapiHelperPlugin.PopUpWarning,{isOpen:showWarningCancel,toggleModal:toggleWarningCancel,content:{title:"".concat(_pluginId["default"],".popUpWarning.title"),message:"".concat(_pluginId["default"],".popUpWarning.warning.cancelAllSettings"),cancel:"".concat(_pluginId["default"],".popUpWarning.button.cancel"),confirm:"".concat(_pluginId["default"],".popUpWarning.button.confirm")},popUpWarningType:"danger",onConfirm:handleConfirmReset}),_react["default"].createElement(_strapiHelperPlugin.PopUpWarning,{isOpen:showWarningDelete,toggleModal:toggleWarningDelete,content:{title:"".concat(_pluginId["default"],".popUpWarning.title"),message:"".concat(_pluginId["default"],".popUpWarning.bodyMessage.contentType.delete"),cancel:"".concat(_pluginId["default"],".popUpWarning.button.cancel"),confirm:"".concat(_pluginId["default"],".popUpWarning.button.confirm")},popUpWarningType:"danger",onConfirm:handleConfirmDelete}));};var _default=Header;exports["default"]=_default;

/***/ }),

/***/ 2183:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _lodash=__webpack_require__(9);var createAttributesLayout=function createAttributesLayout(currentLayout,attributes){var getType=function getType(name){return(0,_lodash.get)(attributes,[name,'type'],'');};var currentRowIndex=0;var newLayout=[];var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=currentLayout[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var row=_step.value;var hasDynamicZone=row.some(function(_ref){var name=_ref.name;return getType(name)==='dynamiczone';});if(!newLayout[currentRowIndex]){newLayout[currentRowIndex]=[];}if(hasDynamicZone){currentRowIndex=currentRowIndex===0&&(0,_lodash.isEmpty)(newLayout[0])?0:currentRowIndex+1;if(!newLayout[currentRowIndex]){newLayout[currentRowIndex]=[];}newLayout[currentRowIndex].push(row);currentRowIndex+=1;}else{newLayout[currentRowIndex].push(row);}}}catch(err){_didIteratorError=true;_iteratorError=err;}finally{try{if(!_iteratorNormalCompletion&&_iterator["return"]!=null){_iterator["return"]();}}finally{if(_didIteratorError){throw _iteratorError;}}}return newLayout.filter(function(arr){return arr.length>0;});};var _default=createAttributesLayout;exports["default"]=_default;

/***/ }),

/***/ 2184:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports.SubWrapper=exports.MainWrapper=exports.LinkWrapper=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(5));var _styledComponents=_interopRequireDefault(__webpack_require__(4));function _templateObject3(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  background: #ffffff;\n  border-radius: 2px;\n  box-shadow: 0 2px 4px #e3e9f3;\n  ul {\n    list-style: none;\n    padding: 0;\n  }\n  li {\n    padding: 7px 20px;\n    border-top: 1px solid #f6f6f6;\n    &:first-of-type {\n      border-color: transparent;\n    }\n    &:not(:first-of-type) {\n      margin-top: 0;\n    }\n  }\n"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  > div {\n    margin-right: 0;\n    margin-left: 0;\n  }\n  padding: 22px 10px;\n"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  background: #ffffff;\n  border-radius: 2px;\n  box-shadow: 0 2px 4px #e3e9f3;\n"]);_templateObject=function _templateObject(){return data;};return data;}var SubWrapper=_styledComponents["default"].div(_templateObject());exports.SubWrapper=SubWrapper;var MainWrapper=(0,_styledComponents["default"])(SubWrapper)(_templateObject2());exports.MainWrapper=MainWrapper;var LinkWrapper=(0,_styledComponents["default"])(SubWrapper)(_templateObject3());exports.LinkWrapper=LinkWrapper;

/***/ }),

/***/ 2185:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;function init(initialState){return initialState;}var _default=init;exports["default"]=_default;

/***/ }),

/***/ 2186:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});exports.initialState=exports["default"]=void 0;var _immutable=__webpack_require__(31);var initialState=(0,_immutable.fromJS)({formattedContentTypeLayout:[],isDraggingComponent:false});exports.initialState=initialState;var reducer=function reducer(state,action){switch(action.type){case'SET_IS_DRAGGING_COMPONENT':return state.update('isDraggingComponent',function(){return true;});case'SET_LAYOUT_DATA':return state.update('formattedContentTypeLayout',function(){return(0,_immutable.fromJS)(action.formattedContentTypeLayout);});case'RESET_PROPS':return initialState;case'UNSET_IS_DRAGGING_COMPONENT':return state.update('isDraggingComponent',function(){return false;});default:return state;}};var _default=reducer;exports["default"]=_default;

/***/ })

}]);
